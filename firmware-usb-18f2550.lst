MP2COD 4.40, COFF to COD File Converter
Copyright (c) 1998-2011 Microchip Technology Inc.
Listing File Generated: Wed May  8 17:42:14 2013


Address  Value    Disassembly              Source                                                                           File
-------  -------  -----------------------  -------------------------------------------------------------------------------  -----
                                           /********************************************************************           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            FileName:     main.c                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            Dependencies: See INCLUDES section                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            Processor:		PIC18, PIC24, and PIC32 USB Microcontrollers                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            Hardware:		This demo is natively intended to be used on Microchip USB demo     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            				boards supported by the MCHPFSUSB stack.  See release notes for            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            				support matrix.  This demo can be modified for use on other hardware       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            				platforms.                                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            Complier:  	Microchip C18 (for PIC18), C30 (for PIC24), C32 (for PIC32)        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            Company:		Microchip Technology, Inc.                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            Software License Agreement:                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            The software supplied herewith by Microchip Technology Incorporated            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            (the �Company�) for its PIC� Microcontroller is intended and             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            supplied to you, the Company�s customer, for use solely and                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            exclusively on Microchip PIC Microcontroller products. The                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            software is owned by the Company and/or its supplier, and is                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            protected under applicable copyright laws. All rights are reserved.            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            Any use in violation of the foregoing restrictions may subject the             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            user to criminal sanctions under applicable laws, as well as to                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            civil liability for the breach of the terms and conditions of this             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            license.                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            THIS SOFTWARE IS PROVIDED IN AN �AS IS� CONDITION. NO WARRANTIES,          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            WHETHER EXPRESS, IMPLIED OR STATUTORY, INCLUDING, BUT NOT LIMITED              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            TO, IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            PARTICULAR PURPOSE APPLY TO THIS SOFTWARE. THE COMPANY SHALL NOT,              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            IN ANY CIRCUMSTANCES, BE LIABLE FOR SPECIAL, INCIDENTAL OR                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            CONSEQUENTIAL DAMAGES, FOR ANY REASON WHATSOEVER.                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           ********************************************************************            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            File Description:                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            Change History:                                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                             Rev   Description                                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                             ----  -----------------------------------------                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                             1.0   Initial release                                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                             2.1   Updated for simplicity and to use common                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                coding style                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                             2.7b  Improvements to USBCBSendResume(), to make it easier to use.            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           ********************************************************************            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                             Autor: Flávio Pinheiro da Costa                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	  Lennedy Campos Soares                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                             Data: 28.09.2012                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                             Versão 1.0.0                                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                             Descrição: Esse programa faz analises dos potenciometros e dos medidores de corrente, interpretando-o e plotando a curva de consumo via USB. /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	    Destinasse a fazer conversão Analogica -> digital dos consumos energeticos da Ortose Ativa. /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           ********************************************************************/           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           #ifndef MAIN_C                                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           #define MAIN_C                                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           /** INCLUDES *******************************************************/           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           #include "./USB/usb.h"                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           #include "HardwareProfile.h"                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           #include "./USB/usb_function_hid.h"                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           #include <adc.h>                                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           /** CONFIGURATION **************************************************/           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           #if defined(PICDEM_FS_USB)      // Configuration bits for PICDEM FS USB Demo Board (based on PIC18F4550) /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config PLLDIV   = 5         // (20 MHz crystal on PICDEM FS USB board) /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config CPUDIV   = OSC1_PLL2                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config USBDIV   = 2         // Clock source from 96MHz PLL/2    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config FOSC     = HSPLL_HS                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config FCMEN    = OFF                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config IESO     = OFF                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config PWRT     = OFF                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config BOR      = ON                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config BORV     = 3                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config VREGEN   = ON      //USB Voltage Regulator               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config WDT      = OFF                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config WDTPS    = 32768                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config MCLRE    = ON                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config LPT1OSC  = OFF                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config PBADEN   = OFF                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           //      #pragma config CCP2MX   = ON                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config STVREN   = ON                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config LVP      = OFF                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           //      #pragma config ICPRT    = OFF       // Dedicated In-Circuit Debug/Programming /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config XINST    = OFF       // Extended Instruction Set         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config CP0      = OFF                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config CP1      = OFF                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           //      #pragma config CP2      = OFF                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           //      #pragma config CP3      = OFF                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config CPB      = OFF                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           //      #pragma config CPD      = OFF                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config WRT0     = OFF                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config WRT1     = OFF                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           //      #pragma config WRT2     = OFF                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           //      #pragma config WRT3     = OFF                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config WRTB     = OFF       // Boot Block Write Protection      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config WRTC     = OFF                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           //      #pragma config WRTD     = OFF                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config EBTR0    = OFF                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config EBTR1    = OFF                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           //      #pragma config EBTR2    = OFF                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           //      #pragma config EBTR3    = OFF                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config EBTRB    = OFF                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           #elif defined(PIC18F87J50_PIM)				// Configuration bits for PIC18F87J50 FS USB Plug-In Module board /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config XINST    = OFF   	// Extended instruction set            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config STVREN   = ON      	// Stack overflow reset              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config PLLDIV   = 3         // (12 MHz crystal used on this board) /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config WDTEN    = OFF      	// Watch Dog Timer (WDT)            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config CP0      = OFF      	// Code protect                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config CPUDIV   = OSC1      // OSC1 = divide by 1 mode          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config IESO     = OFF      	// Internal External (clock) Switchover /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config FCMEN    = OFF      	// Fail Safe Clock Monitor          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config FOSC     = HSPLL     // Firmware must also set OSCTUNE<PLLEN> to start PLL! /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config WDTPS    = 32768                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           //      #pragma config WAIT     = OFF      	// Commented choices are            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           //      #pragma config BW       = 16      	// only available on the             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           //      #pragma config MODE     = MM      	// 80 pin devices in the             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           //      #pragma config EASHFT   = OFF      	// family.                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config MSSPMSK  = MSK5                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           //      #pragma config PMPMX    = DEFAULT                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           //      #pragma config ECCPMX   = DEFAULT                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config CCP2MX   = DEFAULT                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           #elif defined(PIC18F46J50_PIM) || defined(PIC18F_STARTER_KIT_1) || defined(PIC18F47J53_PIM) /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                #pragma config WDTEN = OFF          //WDT disabled (enabled by SWDTEN bit) /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                #pragma config PLLDIV = 3           //Divide by 3 (12 MHz oscillator input) /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                #pragma config STVREN = ON          //stack overflow/underflow reset enabled /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                #pragma config XINST = OFF          //Extended instruction set disabled    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                #pragma config CPUDIV = OSC1        //No CPU system clock divide           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                #pragma config CP0 = OFF            //Program memory is not code-protected /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                #pragma config OSC = HSPLL          //HS oscillator, PLL enabled, HSPLL used by USB /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                #pragma config FCMEN = OFF          //Fail-Safe Clock Monitor disabled     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                #pragma config IESO = OFF           //Two-Speed Start-up disabled          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                #pragma config WDTPS = 32768        //1:32768                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                #pragma config DSWDTOSC = INTOSCREF //DSWDT uses INTOSC/INTRC as clock     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                #pragma config RTCOSC = T1OSCREF    //RTCC uses T1OSC/T1CKI as clock       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                #pragma config DSBOREN = OFF        //Zero-Power BOR disabled in Deep Sleep /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                #pragma config DSWDTEN = OFF        //Disabled                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                #pragma config DSWDTPS = 8192       //1:8,192 (8.5 seconds)                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                #pragma config IOL1WAY = OFF        //IOLOCK bit can be set and cleared    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                #pragma config MSSP7B_EN = MSK7     //7 Bit address masking                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                #pragma config WPFP = PAGE_1        //Write Protect Program Flash Page 0   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                #pragma config WPEND = PAGE_0       //Start protection at page 0           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                #pragma config WPCFG = OFF          //Write/Erase last page protect Disabled /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                #pragma config WPDIS = OFF          //WPFP[5:0], WPEND, and WPCFG bits ignored  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                #if defined(PIC18F47J53_PIM)                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config CFGPLLEN = OFF                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                #else                                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config T1DIG = ON           //Sec Osc clock source may be selected /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config LPT1OSC = OFF        //high power Timer1 mode            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                #endif                                                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           #elif defined(LOW_PIN_COUNT_USB_DEVELOPMENT_KIT)                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config CPUDIV = NOCLKDIV                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config USBDIV = OFF                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config FOSC   = HS                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config PLLEN  = ON                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config FCMEN  = OFF                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config IESO   = OFF                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config PWRTEN = OFF                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config BOREN  = OFF                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config BORV   = 30                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config WDTEN  = OFF                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config WDTPS  = 32768                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config MCLRE  = OFF                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config HFOFST = OFF                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config STVREN = ON                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config LVP    = OFF                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config XINST  = OFF                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config BBSIZ  = OFF                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config CP0    = OFF                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config CP1    = OFF                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config CPB    = OFF                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config WRT0   = OFF                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config WRT1   = OFF                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config WRTB   = OFF                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config WRTC   = OFF                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config EBTR0  = OFF                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config EBTR1  = OFF                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config EBTRB  = OFF                                                  // CONFIG7H /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           #elif defined(EXPLORER_16)                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               #if defined(__PIC24FJ256GB110__)                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   _CONFIG1( JTAGEN_OFF & GCP_OFF & GWRP_OFF & FWDTEN_OFF & ICS_PGx2)      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   _CONFIG2( PLL_96MHZ_ON & IESO_OFF & FCKSM_CSDCMD & OSCIOFNC_ON & POSCMOD_HS & FNOSC_PRIPLL & PLLDIV_DIV2 & IOL1WAY_ON) /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               #elif defined(PIC24FJ256GB210_PIM)                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   _CONFIG1(FWDTEN_OFF & ICS_PGx2 & GWRP_OFF & GCP_OFF & JTAGEN_OFF)       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   _CONFIG2(POSCMOD_HS & IOL1WAY_ON & OSCIOFNC_ON & FCKSM_CSDCMD & FNOSC_PRIPLL & PLL96MHZ_ON & PLLDIV_DIV2 & IESO_OFF) /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               #elif defined(__PIC24FJ64GB004__)                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   _CONFIG1(WDTPS_PS1 & FWPSA_PR32 & WINDIS_OFF & FWDTEN_OFF & ICS_PGx1 & GWRP_OFF & GCP_OFF & JTAGEN_OFF) /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   _CONFIG2(POSCMOD_HS & I2C1SEL_PRI & IOL1WAY_OFF & OSCIOFNC_ON & FCKSM_CSDCMD & FNOSC_PRIPLL & PLL96MHZ_ON & PLLDIV_DIV2 & IESO_ON) /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   _CONFIG3(WPFP_WPFP0 & SOSCSEL_SOSC & WUTSEL_LEG & WPDIS_WPDIS & WPCFG_WPCFGDIS & WPEND_WPENDMEM) /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   _CONFIG4(DSWDTPS_DSWDTPS3 & DSWDTOSC_LPRC & RTCOSC_SOSC & DSBOREN_OFF & DSWDTEN_OFF) /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               #elif defined(__32MX460F512L__) || defined(__32MX795F512L__)                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config UPLLEN   = ON        // USB PLL Enabled                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config FPLLMUL  = MUL_15        // PLL Multiplier               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config UPLLIDIV = DIV_2         // USB PLL Input Divider        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config FPLLIDIV = DIV_2         // PLL Input Divider            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config FPLLODIV = DIV_1         // PLL Output Divider           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config FPBDIV   = DIV_1         // Peripheral Clock divisor     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config FWDTEN   = OFF           // Watchdog Timer               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config WDTPS    = PS1           // Watchdog Timer Postscale     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config FCKSM    = CSDCMD        // Clock Switching & Fail Safe Clock Monitor /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config OSCIOFNC = OFF           // CLKO Enable                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config POSCMOD  = HS            // Primary Oscillator           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config IESO     = OFF           // Internal/External Switch-over /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config FSOSCEN  = OFF           // Secondary Oscillator Enable (KLO was off) /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config FNOSC    = PRIPLL        // Oscillator Selection         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config CP       = OFF           // Code Protect                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config BWP      = OFF           // Boot Flash Write Protect     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config PWP      = OFF           // Program Flash Write Protect  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config ICESEL   = ICS_PGx2      // ICE/ICD Comm Channel Select  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #pragma config DEBUG    = ON            // Background Debugger Enable   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               #elif defined(__dsPIC33EP512MU810__) || defined (__PIC24EP512GU810__)       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   _FOSCSEL(FNOSC_FRC);                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   _FOSC(FCKSM_CSECMD & OSCIOFNC_OFF & POSCMD_XT);                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   _FWDT(FWDTEN_OFF);                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               #else                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #error No hardware board defined, see "HardwareProfile.h" and __FILE__  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               #endif                                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           #elif defined(PIC24F_STARTER_KIT)                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               _CONFIG1( JTAGEN_OFF & GCP_OFF & GWRP_OFF & COE_OFF & FWDTEN_OFF & ICS_PGx2)  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               _CONFIG2( 0xF7FF & IESO_OFF & FCKSM_CSDCMD & OSCIOFNC_OFF & POSCMOD_HS & FNOSC_PRIPLL & PLLDIV_DIV3 & IOL1WAY_ON) /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           #elif defined(PIC24FJ256DA210_DEV_BOARD)                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               _CONFIG1(FWDTEN_OFF & ICS_PGx2 & GWRP_OFF & GCP_OFF & JTAGEN_OFF)           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               _CONFIG2(POSCMOD_HS & IOL1WAY_ON & OSCIOFNC_ON & FCKSM_CSDCMD & FNOSC_PRIPLL & PLL96MHZ_ON & PLLDIV_DIV2 & IESO_OFF) /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           #elif defined(PIC32_USB_STARTER_KIT)                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               #pragma config UPLLEN   = ON        // USB PLL Enabled                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               #pragma config FPLLMUL  = MUL_15        // PLL Multiplier                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               #pragma config UPLLIDIV = DIV_2         // USB PLL Input Divider            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               #pragma config FPLLIDIV = DIV_2         // PLL Input Divider                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               #pragma config FPLLODIV = DIV_1         // PLL Output Divider               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               #pragma config FPBDIV   = DIV_1         // Peripheral Clock divisor         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               #pragma config FWDTEN   = OFF           // Watchdog Timer                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               #pragma config WDTPS    = PS1           // Watchdog Timer Postscale         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               #pragma config FCKSM    = CSDCMD        // Clock Switching & Fail Safe Clock Monitor /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               #pragma config OSCIOFNC = OFF           // CLKO Enable                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               #pragma config POSCMOD  = HS            // Primary Oscillator               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               #pragma config IESO     = OFF           // Internal/External Switch-over    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               #pragma config FSOSCEN  = OFF           // Secondary Oscillator Enable (KLO was off) /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               #pragma config FNOSC    = PRIPLL        // Oscillator Selection             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               #pragma config CP       = OFF           // Code Protect                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               #pragma config BWP      = OFF           // Boot Flash Write Protect         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               #pragma config PWP      = OFF           // Program Flash Write Protect      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               #pragma config ICESEL   = ICS_PGx2      // ICE/ICD Comm Channel Select      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               #pragma config DEBUG    = ON            // Background Debugger Enable       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           #elif defined(DSPIC33E_USB_STARTER_KIT)                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   _FOSCSEL(FNOSC_FRC);                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   _FOSC(FCKSM_CSECMD & OSCIOFNC_OFF & POSCMD_XT);                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   _FWDT(FWDTEN_OFF);                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           #else                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               #error No hardware board defined, see "HardwareProfile.h" and __FILE__      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           #endif                                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           /** VARIABLES ******************************************************/           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           #pragma udata                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           #if defined(__18F14K50) || defined(__18F13K50) || defined(__18LF14K50) || defined(__18LF13K50)  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               #pragma udata usbram2                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           #elif defined(__18F2455) || defined(__18F2550) || defined(__18F4455) || defined(__18F4550)\ /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               || defined(__18F2458) || defined(__18F2453) || defined(__18F4558) || defined(__18F4553) /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               #pragma udata USB_VARIABLES=0x500                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           #elif defined(__18F4450) || defined(__18F2450)                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               #pragma udata USB_VARIABLES=0x480                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           #else                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               #pragma udata                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           #endif                                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           unsigned char ReceivedDataBuffer[64];                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           unsigned char ToSendDataBuffer[64];                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           #pragma udata                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           USB_HANDLE USBOutHandle = 0;                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           USB_HANDLE USBInHandle = 0;                                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           BOOL blinkStatusValid = TRUE;                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           /** PRIVATE PROTOTYPES *********************************************/           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           void BlinkUSBStatus(void);                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           BOOL Switch2IsPressed(void);                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           BOOL Switch3IsPressed(void);                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           static void InitializeSystem(void);                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           void ProcessIO(void);                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           void UserInit(void);                                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           void YourHighPriorityISRCode();                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           void YourLowPriorityISRCode();                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           void USBCBSendResume(void);                                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           WORD_VAL ReadPOT(void);                                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           void ReadSensors(BYTE* p);                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           void Potenci(BYTE* p);                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           void Amperimet(BYTE* p);                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           /** VECTOR REMAPPING ***********************************************/           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           #if defined(__18CXX)                                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	//On PIC18 devices, addresses 0x00, 0x08, and 0x18 are used for                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	//the reset, high priority interrupt, and low priority interrupt               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	//vectors.  However, the current Microchip USB bootloader                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	//examples are intended to occupy addresses 0x00-0x7FF or                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	//0x00-0xFFF depending on which bootloader is used.  Therefore,                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	//the bootloader code remaps these vectors to new locations                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	//as indicated below.  This remapping is only necessary if you                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	//wish to program the hex file generated from this project with                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	//the USB bootloader.  If no bootloader is used, edit the                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	//usb_config.h file and comment out the following defines:                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	//#define PROGRAMMABLE_WITH_USB_HID_BOOTLOADER                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	//#define PROGRAMMABLE_WITH_USB_LEGACY_CUSTOM_CLASS_BOOTLOADER                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	#if defined(PROGRAMMABLE_WITH_USB_HID_BOOTLOADER)                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           		#define REMAPPED_RESET_VECTOR_ADDRESS			0x1000                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           		#define REMAPPED_HIGH_INTERRUPT_VECTOR_ADDRESS	0x1008                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           		#define REMAPPED_LOW_INTERRUPT_VECTOR_ADDRESS	0x1018                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	#elif defined(PROGRAMMABLE_WITH_USB_MCHPUSB_BOOTLOADER)	                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           		#define REMAPPED_RESET_VECTOR_ADDRESS			0x800                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           		#define REMAPPED_HIGH_INTERRUPT_VECTOR_ADDRESS	0x808                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           		#define REMAPPED_LOW_INTERRUPT_VECTOR_ADDRESS	0x818                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	#else	                                                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           		#define REMAPPED_RESET_VECTOR_ADDRESS			0x00                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           		#define REMAPPED_HIGH_INTERRUPT_VECTOR_ADDRESS	0x08                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           		#define REMAPPED_LOW_INTERRUPT_VECTOR_ADDRESS	0x18                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	#endif                                                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	#if defined(PROGRAMMABLE_WITH_USB_HID_BOOTLOADER)||defined(PROGRAMMABLE_WITH_USB_MCHPUSB_BOOTLOADER) /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	extern void _startup (void);        // See c018i.c in your C18 compiler dir    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	#pragma code REMAPPED_RESET_VECTOR = REMAPPED_RESET_VECTOR_ADDRESS             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	void _reset (void)                                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	{                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001000   ef92     GOTO      0x2724         	    _asm goto _startup _endasm                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001002   f013                                                                                                               
001004   0012     RETURN    0x0            	}                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	#endif                                                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	#pragma code REMAPPED_HIGH_INTERRUPT_VECTOR = REMAPPED_HIGH_INTERRUPT_VECTOR_ADDRESS /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	void Remapped_High_ISR (void)                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	{                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001008   ef94     GOTO      0x1d28         	     _asm goto YourHighPriorityISRCode _endasm                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
00100a   f00e                                                                                                               
00100c   0012     RETURN    0x0            	}                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	#pragma code REMAPPED_LOW_INTERRUPT_VECTOR = REMAPPED_LOW_INTERRUPT_VECTOR_ADDRESS /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	void Remapped_Low_ISR (void)                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	{                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001018   efdf     GOTO      0x1dbe         	     _asm goto YourLowPriorityISRCode _endasm                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
00101a   f00e                                                                                                               
00101c   0012     RETURN    0x0            	}                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	#if defined(PROGRAMMABLE_WITH_USB_HID_BOOTLOADER)||defined(PROGRAMMABLE_WITH_USB_MCHPUSB_BOOTLOADER) /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	//Note: If this project is built while one of the bootloaders has              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	//been defined, but then the output hex file is not programmed with            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	//the bootloader, addresses 0x08 and 0x18 would end up programmed with 0xFFFF. /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	//As a result, if an actual interrupt was enabled and occured, the PC would jump /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	//to 0x08 (or 0x18) and would begin executing "0xFFFF" (unprogrammed space).  This /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	//executes as nop instructions, but the PC would eventually reach the REMAPPED_RESET_VECTOR_ADDRESS /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	//(0x1000 or 0x800, depending upon bootloader), and would execute the "goto _startup".  This /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	//would effective reset the application.                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	//To fix this situation, we should always deliberately place a                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	//"goto REMAPPED_HIGH_INTERRUPT_VECTOR_ADDRESS" at address 0x08, and a         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	//"goto REMAPPED_LOW_INTERRUPT_VECTOR_ADDRESS" at address 0x18.  When the output /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	//hex file of this project is programmed with the bootloader, these sections do not /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	//get bootloaded (as they overlap the bootloader space).  If the output hex file is not /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	//programmed using the bootloader, then the below goto instructions do get programmed, /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	//and the hex file still works like normal.  The below section is only required to fix this /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	//scenario.                                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	#pragma code HIGH_INTERRUPT_VECTOR = 0x08                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	void High_ISR (void)                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	{                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
000008   ef04     GOTO      0x1008         	     _asm goto REMAPPED_HIGH_INTERRUPT_VECTOR_ADDRESS _endasm                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
00000a   f008                                                                                                               
00000c   0012     RETURN    0x0            	}                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	#pragma code LOW_INTERRUPT_VECTOR = 0x18                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	void Low_ISR (void)                                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	{                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
000018   ef0c     GOTO      0x1018         	     _asm goto REMAPPED_LOW_INTERRUPT_VECTOR_ADDRESS _endasm                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
00001a   f008                                                                                                               
00001c   0012     RETURN    0x0            	}                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	#endif	//end of "#if defined(PROGRAMMABLE_WITH_USB_HID_BOOTLOADER)||defined(PROGRAMMABLE_WITH_USB_LEGACY_CUSTOM_CLASS_BOOTLOADER)" /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	#pragma code                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	//These are your actual interrupt handling routines.                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	#pragma interrupt YourHighPriorityISRCode                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001d28   cfda     MOVFF     0xfda,0xfe4    	void YourHighPriorityISRCode()                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001d2a   ffe4                                                                                                               
001d2c   cfe2     MOVFF     0xfe2,0xfda                                                                                     
001d2e   ffda                                                                                                               
001d30   cfe9     MOVFF     0xfe9,0xfe4                                                                                     
001d32   ffe4                                                                                                               
001d34   cfea     MOVFF     0xfea,0xfe4                                                                                     
001d36   ffe4                                                                                                               
001d38   cff6     MOVFF     0xff6,0xfe4                                                                                     
001d3a   ffe4                                                                                                               
001d3c   cff7     MOVFF     0xff7,0xfe4                                                                                     
001d3e   ffe4                                                                                                               
001d40   cff5     MOVFF     0xff5,0xfe4                                                                                     
001d42   ffe4                                                                                                               
001d44   cff3     MOVFF     0xff3,0xfe4                                                                                     
001d46   ffe4                                                                                                               
001d48   cff4     MOVFF     0xff4,0xfe4                                                                                     
001d4a   ffe4                                                                                                               
001d4c   cffa     MOVFF     0xffa,0xfe4                                                                                     
001d4e   ffe4                                                                                                               
001d50   ee00     LFSR      0x0,0x0                                                                                         
001d52   f000                                                                                                               
001d54   0e0b     MOVLW     0xb                                                                                             
001d56   04e8     DECF      0xe8,0x0,0x0                                                                                    
001d58   e303     BNC       0x1d60                                                                                          
001d5a   cfee     MOVFF     0xfee,0xfe4                                                                                     
001d5c   ffe4                                                                                                               
001d5e   d7fb     BRA       0x1d56                                                                                          
001d60   ee00     LFSR      0x0,0xb                                                                                         
001d62   f00b                                                                                                               
001d64   0e04     MOVLW     0x4                                                                                             
001d66   04e8     DECF      0xe8,0x0,0x0                                                                                    
001d68   e303     BNC       0x1d70                                                                                          
001d6a   cfee     MOVFF     0xfee,0xfe4                                                                                     
001d6c   ffe4                                                                                                               
001d6e   d7fb     BRA       0x1d66                                                                                          
001d70   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                           	{                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           		//Check which interrupt flag caused the interrupt.                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           		//Service the interrupt                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           		//Clear the interrupt flag                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           		//Etc.                                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #if defined(USB_INTERRUPT)                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001d72   ec6c     CALL      0x10d8,0x0     	        USBDeviceTasks();                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001d74   f008                                                                                                               
                                                   #endif                                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001d76   52e5     MOVF      0xe5,0x1,0x0   	}	//This return will be a "retfie fast", since this is in a #pragma interrupt section  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001d78   ee00     LFSR      0x0,0xe                                                                                         
001d7a   f00e                                                                                                               
001d7c   0e04     MOVLW     0x4                                                                                             
001d7e   04e8     DECF      0xe8,0x0,0x0                                                                                    
001d80   e303     BNC       0x1d88                                                                                          
001d82   cfe5     MOVFF     0xfe5,0xfed                                                                                     
001d84   ffed                                                                                                               
001d86   d7fb     BRA       0x1d7e                                                                                          
001d88   ee00     LFSR      0x0,0xa                                                                                         
001d8a   f00a                                                                                                               
001d8c   0e0b     MOVLW     0xb                                                                                             
001d8e   04e8     DECF      0xe8,0x0,0x0                                                                                    
001d90   e303     BNC       0x1d98                                                                                          
001d92   cfe5     MOVFF     0xfe5,0xfed                                                                                     
001d94   ffed                                                                                                               
001d96   d7fb     BRA       0x1d8e                                                                                          
001d98   cfe5     MOVFF     0xfe5,0xffa                                                                                     
001d9a   fffa                                                                                                               
001d9c   cfe5     MOVFF     0xfe5,0xff4                                                                                     
001d9e   fff4                                                                                                               
001da0   cfe5     MOVFF     0xfe5,0xff3                                                                                     
001da2   fff3                                                                                                               
001da4   cfe5     MOVFF     0xfe5,0xff5                                                                                     
001da6   fff5                                                                                                               
001da8   cfe5     MOVFF     0xfe5,0xff7                                                                                     
001daa   fff7                                                                                                               
001dac   cfe5     MOVFF     0xfe5,0xff6                                                                                     
001dae   fff6                                                                                                               
001db0   cfe5     MOVFF     0xfe5,0xfea                                                                                     
001db2   ffea                                                                                                               
001db4   cfe5     MOVFF     0xfe5,0xfe9                                                                                     
001db6   ffe9                                                                                                               
001db8   cfe5     MOVFF     0xfe5,0xfda                                                                                     
001dba   ffda                                                                                                               
001dbc   0011     RETFIE    0x1                                                                                             
                                           	#pragma interruptlow YourLowPriorityISRCode                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001dbe   cfd8     MOVFF     0xfd8,0xfe4    	void YourLowPriorityISRCode()                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001dc0   ffe4                                                                                                               
001dc2   cfe0     MOVFF     0xfe0,0xfe4                                                                                     
001dc4   ffe4                                                                                                               
001dc6   6ee4     MOVWF     0xe4,0x0                                                                                        
001dc8   cfda     MOVFF     0xfda,0xfe4                                                                                     
001dca   ffe4                                                                                                               
001dcc   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                           	{                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           		//Check which interrupt flag caused the interrupt.                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           		//Service the interrupt                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           		//Clear the interrupt flag                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           		//Etc.                                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001dce   52e5     MOVF      0xe5,0x1,0x0   	}	//This return will be a "retfie", since this is in a #pragma interruptlow section  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001dd0   cfe5     MOVFF     0xfe5,0xfda                                                                                     
001dd2   ffda                                                                                                               
001dd4   50e5     MOVF      0xe5,0x0,0x0                                                                                    
001dd6   cfe5     MOVFF     0xfe5,0xfe0                                                                                     
001dd8   ffe0                                                                                                               
001dda   cfe5     MOVFF     0xfe5,0xfd8                                                                                     
001ddc   ffd8                                                                                                               
001dde   0010     RETFIE    0x0                                                                                             
                                           #endif                                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           /** DECLARATIONS ***************************************************/           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           #pragma code                                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           /********************************************************************           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Function:        void main(void)                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * PreCondition:    None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Input:           None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Output:          None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Side Effects:    None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Overview:        Main program entry point.                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Note:            None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *******************************************************************/           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           #if defined(__18CXX)                                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           void main(void)                                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           #else                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           int main(void)                                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           #endif                                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           {                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001de0   d8f0     RCALL     0x1fc2             InitializeSystem();                                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001de2   0ef3     MOVLW     0xf3               OpenADC(ADC_FOSC_32 & ADC_RIGHT_JUST & ADC_2_TAD, ADC_CH0 & ADC_INT_OFF & ADC_VREFPLUS_VDD & ADC_VREFMINUS_VSS, ADC_12ANA); /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001de4   6ee6     MOVWF     0xe6,0x0                                                                                        
001de6   0e04     MOVLW     0x4                                                                                             
001de8   6ee6     MOVWF     0xe6,0x0                                                                                        
001dea   0ea3     MOVLW     0xa3                                                                                            
001dec   6ee6     MOVWF     0xe6,0x0                                                                                        
001dee   ec1a     CALL      0x2634,0x0                                                                                      
001df0   f013                                                                                                               
001df2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001df4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001df6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               #if defined(USB_INTERRUPT)                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001df8   ec3c     CALL      0x1a78,0x0             USBDeviceAttach();                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001dfa   f00d                                                                                                               
                                               #endif                                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001dfc   0e0e     MOVLW     0xe            		TRISA = 0b00001110;                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001dfe   6e92     MOVWF     0x92,0x0                                                                                        
001e00   0e01     MOVLW     0x1            		PORTA = 0b00000001;                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001e02   6e80     MOVWF     0x80,0x0                                                                                        
001e04   0e1f     MOVLW     0x1f           		TRISB = 0b00011111;                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001e06   6e93     MOVWF     0x93,0x0                                                                                        
001e08   0eb0     MOVLW     0xb0           		PORTB = 0b10110000;                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001e0a   6e81     MOVWF     0x81,0x0                                                                                        
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001e0e   d7fe     BRA       0x1e0c             while(1)                                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #if defined(USB_POLLING)                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           				// Check bus status and service USB interrupts.                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   USBDeviceTasks(); 	// Interrupt or polling method.  If using polling, must call /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   			// this function periodically.  This function will take care         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   			// of processing and responding to SETUP transactions                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   			// (such as during the enumeration process when you first            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   			// plug in).  USB hosts require that USB devices should accept       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   			// and process SETUP packets in a timely fashion.  Therefore,        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   			// when using polling, this function should be called                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   			// regularly (such as once every 1.8ms or faster** [see              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   			// inline code comments in usb_device.c for explanation when         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   			// "or faster" applies])  In most cases, the USBDeviceTasks()        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   			// function does not take very long to execute (ex: <100             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   			// instruction cycles) before it returns.                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #endif                                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               				                                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           		// Application-specific tasks.                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           		// Application related code may be added here, or in the ProcessIO() function. /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           //	PORTB ^= 0b10000000;                                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001e0c   d8ec     RCALL     0x1fe6                 ProcessIO();                                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               }//end while                                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           }//end main                                                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001e10   daa1     RCALL     0x2354         void ReadSensors(BYTE* p)	// Fun��o destinada a leitura de todos os sensores /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           {                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	int Seq;                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	unsigned int result;                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001e12   daab     RCALL     0x236a         	for(Seq = 0; Seq<8; Seq++ ){                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001e14   e604     BN        0x1e1e                                                                                          
001e16   0e08     MOVLW     0x8                                                                                             
001e18   5c0b     SUBWF     0xb,0x0,0x0                                                                                     
001e1a   0e00     MOVLW     0x0                                                                                             
001e1c   580c     SUBWFB    0xc,0x0,0x0                                                                                     
001e1e   e242     BC        0x1ea4                                                                                          
001e9e   e3b9     BNC       0x1e12                                                                                          
001ea0   2adb     INCF      0xdb,0x1,0x0                                                                                    
001ea2   d7b7     BRA       0x1e12                                                                                          
002332   2adf     INCF      0xdf,0x1,0x0                                                                                    
002334   0e01     MOVLW     0x1                                                                                             
002336   0012     RETURN    0x0                                                                                             
001e20   daa8     RCALL     0x2372         	switch(Seq){                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001e22   0e07     MOVLW     0x7                                                                                             
001e24   1806     XORWF     0x6,0x0,0x0                                                                                     
001e26   e101     BNZ       0x1e2a                                                                                          
001e28   5007     MOVF      0x7,0x0,0x0                                                                                     
001e2a   e030     BZ        0x1e8c                                                                                          
001e2c   0e06     MOVLW     0x6                                                                                             
001e2e   1806     XORWF     0x6,0x0,0x0                                                                                     
001e30   e101     BNZ       0x1e34                                                                                          
001e32   5007     MOVF      0x7,0x0,0x0                                                                                     
001e34   e029     BZ        0x1e88                                                                                          
001e36   0e05     MOVLW     0x5                                                                                             
001e38   1806     XORWF     0x6,0x0,0x0                                                                                     
001e3a   e101     BNZ       0x1e3e                                                                                          
001e3c   5007     MOVF      0x7,0x0,0x0                                                                                     
001e3e   e022     BZ        0x1e84                                                                                          
001e40   0e04     MOVLW     0x4                                                                                             
001e42   1806     XORWF     0x6,0x0,0x0                                                                                     
001e44   e101     BNZ       0x1e48                                                                                          
001e46   5007     MOVF      0x7,0x0,0x0                                                                                     
001e48   e01b     BZ        0x1e80                                                                                          
001e4a   0e03     MOVLW     0x3                                                                                             
001e4c   1806     XORWF     0x6,0x0,0x0                                                                                     
001e4e   e101     BNZ       0x1e52                                                                                          
001e50   5007     MOVF      0x7,0x0,0x0                                                                                     
001e52   e014     BZ        0x1e7c                                                                                          
001e54   0e02     MOVLW     0x2                                                                                             
001e56   1806     XORWF     0x6,0x0,0x0                                                                                     
001e58   e101     BNZ       0x1e5c                                                                                          
001e5a   5007     MOVF      0x7,0x0,0x0                                                                                     
001e5c   e00d     BZ        0x1e78                                                                                          
001e5e   0e01     MOVLW     0x1                                                                                             
001e60   1806     XORWF     0x6,0x0,0x0                                                                                     
001e62   e101     BNZ       0x1e66                                                                                          
001e64   5007     MOVF      0x7,0x0,0x0                                                                                     
001e66   e006     BZ        0x1e74                                                                                          
001e68   5006     MOVF      0x6,0x0,0x0                                                                                     
001e6a   e112     BNZ       0x1e90                                                                                          
001e6c   5007     MOVF      0x7,0x0,0x0                                                                                     
001e6e   e110     BNZ       0x1e90                                                                                          
                                           		case 0:                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001e70   0e8f     MOVLW     0x8f           			SetChanADC( ADC_CH1 );	// canal analogico para analise do potenciomentro: right 01 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001e72   d00d     BRA       0x1e8e         			break;                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           		case 1:                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001e74   0e97     MOVLW     0x97           			SetChanADC( ADC_CH2 );	// canal analogico para analise do potenciomentro: right 02 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001e76   d00b     BRA       0x1e8e         			break;                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           		case 2:                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001e78   0e9f     MOVLW     0x9f           			SetChanADC( ADC_CH3 );	// canal analogico para analise do potenciomentro: left 01 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001e7a   d009     BRA       0x1e8e         			break;                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           		case 3:                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001e7c   0ea7     MOVLW     0xa7           			SetChanADC( ADC_CH4 );	// canal analogico para analise do potenciomentro: left 02 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001e7e   d007     BRA       0x1e8e         			break;                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           		case 4:                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001e80   0ec7     MOVLW     0xc7           			SetChanADC( ADC_CH8 );	// canal analogico para analise do medidor de corrente: right 01 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001e82   d005     BRA       0x1e8e         			break;                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           		case 5:                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001e84   0ecf     MOVLW     0xcf           			SetChanADC( ADC_CH9 );	// canal analogico para analise do medidor de corrente: right 02 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001e86   d003     BRA       0x1e8e         			break;                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           		case 6:                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001e88   0ed7     MOVLW     0xd7           			SetChanADC( ADC_CH10 );	// canal analogico para analise do medidor de corrente: left 01 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001e8a   d001     BRA       0x1e8e         			break;                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           		case 7:                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001e8c   0ee7     MOVLW     0xe7           			SetChanADC( ADC_CH12	);	// canal analogico para analise do medidor de corrente: left 02 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001e8e   da7f     RCALL     0x238e                                                                                          
                                           			break;                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           		}                                                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001e90   ecae     CALL      0x275c,0x0     	ConvertADC();       // Start conversion                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001e92   f013                                                                                                               
001e94   eca9     CALL      0x2752,0x0     	while( BusyADC() ); // Wait for completion                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001e96   f013                                                                                                               
001e98   0900     IORLW     0x0                                                                                             
001e9a   e1fc     BNZ       0x1e94                                                                                          
001e9c   da3a     RCALL     0x2312         	result = ReadADC(); // Read result                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002312   d85f     RCALL     0x23d2                                                                                          
002314   0e02     MOVLW     0x2            	p[Seq] = (unsigned int)result>>2;                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002316   cfdb     MOVFF     0xfdb,0xd                                                                                       
002318   f00d                                                                                                               
00231a   0e03     MOVLW     0x3                                                                                             
00231c   cfdb     MOVFF     0xfdb,0xe                                                                                       
00231e   f00e                                                                                                               
002320   90d8     BCF       0xd8,0x0,0x0                                                                                    
002322   320e     RRCF      0xe,0x1,0x0                                                                                     
002324   320d     RRCF      0xd,0x1,0x0                                                                                     
002326   90d8     BCF       0xd8,0x0,0x0                                                                                    
002328   320e     RRCF      0xe,0x1,0x0                                                                                     
00232a   320d     RRCF      0xd,0x1,0x0                                                                                     
00232c   d845     RCALL     0x23b8                                                                                          
00232e   c00d     MOVFF     0xd,0xfef                                                                                       
002330   ffef                                                                                                               
                                           	}                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001ea4   0e04     MOVLW     0x4            }                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001ea6   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
001ea8   e202     BC        0x1eae                                                                                          
001eaa   6ae1     CLRF      0xe1,0x0                                                                                        
001eac   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001eae   d258     BRA       0x2360                                                                                          
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001eb0   da51     RCALL     0x2354         void Potenci(BYTE* p) // Fun��o relacionada a leitura dos potenciomentros com convers�o A/D /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           {                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	int Seq;                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	unsigned int result;                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001eb2   da5b     RCALL     0x236a         	for(Seq = 0; Seq<4; Seq++ )                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001eb4   e604     BN        0x1ebe                                                                                          
001eb6   0e04     MOVLW     0x4                                                                                             
001eb8   5c0b     SUBWF     0xb,0x0,0x0                                                                                     
001eba   0e00     MOVLW     0x0                                                                                             
001ebc   580c     SUBWFB    0xc,0x0,0x0                                                                                     
001ebe   e226     BC        0x1f0c                                                                                          
001f06   e3d5     BNC       0x1eb2                                                                                          
001f08   2adb     INCF      0xdb,0x1,0x0                                                                                    
001f0a   d7d3     BRA       0x1eb2                                                                                          
                                           	{                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001ec0   da58     RCALL     0x2372         	switch(Seq){                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001ec2   0e03     MOVLW     0x3                                                                                             
001ec4   1806     XORWF     0x6,0x0,0x0                                                                                     
001ec6   e101     BNZ       0x1eca                                                                                          
001ec8   5007     MOVF      0x7,0x0,0x0                                                                                     
001eca   e014     BZ        0x1ef4                                                                                          
001ecc   0e02     MOVLW     0x2                                                                                             
001ece   1806     XORWF     0x6,0x0,0x0                                                                                     
001ed0   e101     BNZ       0x1ed4                                                                                          
001ed2   5007     MOVF      0x7,0x0,0x0                                                                                     
001ed4   e00d     BZ        0x1ef0                                                                                          
001ed6   0e01     MOVLW     0x1                                                                                             
001ed8   1806     XORWF     0x6,0x0,0x0                                                                                     
001eda   e101     BNZ       0x1ede                                                                                          
001edc   5007     MOVF      0x7,0x0,0x0                                                                                     
001ede   e006     BZ        0x1eec                                                                                          
001ee0   5006     MOVF      0x6,0x0,0x0                                                                                     
001ee2   e10a     BNZ       0x1ef8                                                                                          
001ee4   5007     MOVF      0x7,0x0,0x0                                                                                     
001ee6   e108     BNZ       0x1ef8                                                                                          
                                           		case 0:                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001ee8   0e8f     MOVLW     0x8f           			SetChanADC( ADC_CH1 );	// canal analogico para analise do potenciomentro: right 01 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001eea   d005     BRA       0x1ef6         			break;                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           		case 1:                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001eec   0e97     MOVLW     0x97           			SetChanADC( ADC_CH2 );	// canal analogico para analise do potenciomentro: right 02 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001eee   d003     BRA       0x1ef6         			break;                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           		case 2:                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001ef0   0e9f     MOVLW     0x9f           			SetChanADC( ADC_CH3 );	// canal analogico para analise do potenciomentro: left 01 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001ef2   d001     BRA       0x1ef6         			break;                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           		case 3:                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001ef4   0ea7     MOVLW     0xa7           			SetChanADC( ADC_CH4 );	// canal analogico para analise do potenciomentro: left 02 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001ef6   da4b     RCALL     0x238e                                                                                          
                                           			break;                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           		} // end switch                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001ef8   ecae     CALL      0x275c,0x0     	ConvertADC();       // Start conversion                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001efa   f013                                                                                                               
001efc   eca9     CALL      0x2752,0x0     	while( BusyADC() ); // Wait for completion                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001efe   f013                                                                                                               
001f00   0900     IORLW     0x0                                                                                             
001f02   e1fc     BNZ       0x1efc                                                                                          
001f04   da06     RCALL     0x2312         	result = ReadADC(); // Read result                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	p[Seq] = (unsigned int)result>>2;                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	}	//end for                                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001f0c   0e04     MOVLW     0x4            } // end function                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001f0e   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
001f10   e202     BC        0x1f16                                                                                          
001f12   6ae1     CLRF      0xe1,0x0                                                                                        
001f14   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001f16   d224     BRA       0x2360                                                                                          
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001f18   da1d     RCALL     0x2354         void Amperimet(BYTE* p) // Fun��o relacionada a leitura dos leitores de corrente com convers�o A/D /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002354   d854     RCALL     0x23fe                                                                                          
002356   0e04     MOVLW     0x4                                                                                             
002358   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
00235a   6ade     CLRF      0xde,0x0       	int Seq=0;                                                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
00235c   6add     CLRF      0xdd,0x0                                                                                        
00235e   0012     RETURN    0x0                                                                                             
001f1a   0e02     MOVLW     0x2            	unsigned int result=0;                                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001f1c   6adb     CLRF      0xdb,0x0                                                                                        
001f1e   0e03     MOVLW     0x3                                                                                             
001f20   6adb     CLRF      0xdb,0x0                                                                                        
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001f22   6ade     CLRF      0xde,0x0       	for(Seq = 0; Seq<8; Seq+=2 )                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001f24   6add     CLRF      0xdd,0x0                                                                                        
001f26   da21     RCALL     0x236a                                                                                          
001f28   e604     BN        0x1f32                                                                                          
001f2a   0e08     MOVLW     0x8                                                                                             
001f2c   5c0b     SUBWF     0xb,0x0,0x0                                                                                     
001f2e   0e00     MOVLW     0x0                                                                                             
001f30   580c     SUBWFB    0xc,0x0,0x0                                                                                     
001f32   e241     BC        0x1fb6                                                                                          
001fac   0e02     MOVLW     0x2                                                                                             
001fae   26de     ADDWF     0xde,0x1,0x0                                                                                    
001fb0   0e00     MOVLW     0x0                                                                                             
001fb2   22dd     ADDWFC    0xdd,0x1,0x0                                                                                    
001fb4   d7b8     BRA       0x1f26                                                                                          
00236a   d844     RCALL     0x23f4                                                                                          
00236c   90d8     BCF       0xd8,0x0,0x0                                                                                    
00236e   500c     MOVF      0xc,0x0,0x0                                                                                     
002370   0012     RETURN    0x0                                                                                             
0023f4   cfde     MOVFF     0xfde,0xb                                                                                       
0023f6   f00b                                                                                                               
0023f8   cfdd     MOVFF     0xfdd,0xc                                                                                       
0023fa   f00c                                                                                                               
0023fc   0012     RETURN    0x0                                                                                             
                                           	{                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001f34   da1e     RCALL     0x2372         	switch(Seq){                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001f36   0e06     MOVLW     0x6                                                                                             
001f38   1806     XORWF     0x6,0x0,0x0                                                                                     
001f3a   e101     BNZ       0x1f3e                                                                                          
001f3c   5007     MOVF      0x7,0x0,0x0                                                                                     
001f3e   e014     BZ        0x1f68                                                                                          
001f40   0e04     MOVLW     0x4                                                                                             
001f42   1806     XORWF     0x6,0x0,0x0                                                                                     
001f44   e101     BNZ       0x1f48                                                                                          
001f46   5007     MOVF      0x7,0x0,0x0                                                                                     
001f48   e00d     BZ        0x1f64                                                                                          
001f4a   0e02     MOVLW     0x2                                                                                             
001f4c   1806     XORWF     0x6,0x0,0x0                                                                                     
001f4e   e101     BNZ       0x1f52                                                                                          
001f50   5007     MOVF      0x7,0x0,0x0                                                                                     
001f52   e006     BZ        0x1f60                                                                                          
001f54   5006     MOVF      0x6,0x0,0x0                                                                                     
001f56   e10a     BNZ       0x1f6c                                                                                          
001f58   5007     MOVF      0x7,0x0,0x0                                                                                     
001f5a   e108     BNZ       0x1f6c                                                                                          
002372   0e00     MOVLW     0x0                                                                                             
002374   cfdf     MOVFF     0xfdf,0x6                                                                                       
002376   f006                                                                                                               
002378   0e01     MOVLW     0x1                                                                                             
00237a   cfdb     MOVFF     0xfdb,0x7                                                                                       
00237c   f007                                                                                                               
00237e   0012     RETURN    0x0                                                                                             
                                           		case 0:                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001f5c   0ecf     MOVLW     0xcf                                   SetChanADC( ADC_CH9 );	// canal analogico para analise do medidor de corrente: right 01 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001f5e   d005     BRA       0x1f6a         			break;                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           		case 2:                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001f60   0ec7     MOVLW     0xc7                                   SetChanADC( ADC_CH8 );	// canal analogico para analise do medidor de corrente: right 02 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001f62   d003     BRA       0x1f6a         			break;                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           		case 4:                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001f64   0ed7     MOVLW     0xd7           			SetChanADC( ADC_CH10 );	// canal analogico para analise do medidor de corrente: left 01 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001f66   d001     BRA       0x1f6a         			break;                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           		case 6:                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001f68   0ee7     MOVLW     0xe7           			SetChanADC( ADC_CH12 );	// canal analogico para analise do medidor de corrente: left 02 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001f6a   da11     RCALL     0x238e                                                                                          
                                           			break;                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           		}                                                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001f6c   ecae     CALL      0x275c,0x0     	ConvertADC();       // Start conversion                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001f6e   f013                                                                                                               
001f70   eca9     CALL      0x2752,0x0     	while( BusyADC() ); // Wait for completion                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001f72   f013                                                                                                               
001f74   0900     IORLW     0x0                                                                                             
001f76   e1fc     BNZ       0x1f70                                                                                          
001f78   da2c     RCALL     0x23d2         	result = ReadADC(); // Read result                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
0023d2   eca0     CALL      0x2740,0x0                                                                                      
0023d4   f013                                                                                                               
0023d6   0e02     MOVLW     0x2                                                                                             
0023d8   cff3     MOVFF     0xff3,0xfdb                                                                                     
0023da   ffdb                                                                                                               
0023dc   0e03     MOVLW     0x3                                                                                             
0023de   cff4     MOVFF     0xff4,0xfdb                                                                                     
0023e0   ffdb                                                                                                               
0023e2   0012     RETURN    0x0                                                                                             
001f7a   da1e     RCALL     0x23b8         	p[Seq] = (unsigned int)result;                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001f7c   0e02     MOVLW     0x2                                                                                             
001f7e   cfdb     MOVFF     0xfdb,0xfef                                                                                     
001f80   ffef                                                                                                               
0023b8   0efd     MOVLW     0xfd                                                                                            
0023ba   cfdb     MOVFF     0xfdb,0xb                                                                                       
0023bc   f00b                                                                                                               
0023be   0efe     MOVLW     0xfe                                                                                            
0023c0   cfdb     MOVFF     0xfdb,0xc                                                                                       
0023c2   f00c                                                                                                               
0023c4   50de     MOVF      0xde,0x0,0x0                                                                                    
0023c6   240b     ADDWF     0xb,0x0,0x0                                                                                     
0023c8   6ee9     MOVWF     0xe9,0x0                                                                                        
0023ca   50dd     MOVF      0xdd,0x0,0x0                                                                                    
0023cc   200c     ADDWFC    0xc,0x0,0x0                                                                                     
0023ce   6eea     MOVWF     0xea,0x0                                                                                        
0023d0   0012     RETURN    0x0                                                                                             
001f82   0e03     MOVLW     0x3            	p[Seq+1] = (unsigned int)result>>8;                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001f84   cfdb     MOVFF     0xfdb,0xe                                                                                       
001f86   f00e                                                                                                               
001f88   c00e     MOVFF     0xe,0xd                                                                                         
001f8a   f00d                                                                                                               
001f8c   6a0e     CLRF      0xe,0x0                                                                                         
001f8e   da32     RCALL     0x23f4                                                                                          
001f90   0e01     MOVLW     0x1                                                                                             
001f92   260b     ADDWF     0xb,0x1,0x0                                                                                     
001f94   0e00     MOVLW     0x0                                                                                             
001f96   220c     ADDWFC    0xc,0x1,0x0                                                                                     
001f98   0efd     MOVLW     0xfd                                                                                            
001f9a   50db     MOVF      0xdb,0x0,0x0                                                                                    
001f9c   240b     ADDWF     0xb,0x0,0x0                                                                                     
001f9e   6ee9     MOVWF     0xe9,0x0                                                                                        
001fa0   0efe     MOVLW     0xfe                                                                                            
001fa2   50db     MOVF      0xdb,0x0,0x0                                                                                    
001fa4   200c     ADDWFC    0xc,0x0,0x0                                                                                     
001fa6   6eea     MOVWF     0xea,0x0                                                                                        
001fa8   c00d     MOVFF     0xd,0xfef                                                                                       
001faa   ffef                                                                                                               
                                           	}	// end FOR                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001fb6   0e04     MOVLW     0x4            }                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001fb8   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
001fba   e202     BC        0x1fc0                                                                                          
001fbc   6ae1     CLRF      0xe1,0x0                                                                                        
001fbe   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001fc0   d1cf     BRA       0x2360                                                                                          
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           /********************************************************************           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Function:        static void InitializeSystem(void)                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * PreCondition:    None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Input:           None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Output:          None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Side Effects:    None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Overview:        InitializeSystem is a centralize initialization             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                  routine. All required USB initialization routines           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                  are called from here.                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                  User application initialization routine should              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                  also be called from here.                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Note:            None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *******************************************************************/           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           static void InitializeSystem(void)                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           {                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               #if (defined(__18CXX) & !defined(PIC18F87J50_PIM))                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001fc2   0e0f     MOVLW     0xf                    ADCON1 |= 0x0F;                 // Default all pins to digital          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001fc4   12c1     IORWF     0xc1,0x1,0x0                                                                                    
                                               #elif defined(__C30__)                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               	#if defined(__PIC24FJ256DA210__) || defined(__PIC24FJ256GB210__)           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               		ANSA = 0x0000;                                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               		ANSB = 0x0000;                                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               		ANSC = 0x0000;                                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               		ANSD = 0x0000;                                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               		ANSE = 0x0000;                                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               		ANSF = 0x0000;                                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               		ANSG = 0x0000;                                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                #elif defined(__dsPIC33EP512MU810__) || defined (__PIC24EP512GU810__)      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   	ANSELA = 0x0000;                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               		ANSELB = 0x0000;                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               		ANSELC = 0x0000;                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               		ANSELD = 0x0000;                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               		ANSELE = 0x0000;                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               		ANSELG = 0x0000;                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       // The dsPIC33EP512MU810 features Peripheral Pin                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       // select. The following statements map UART2 to                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       // device pins which would connect to the the                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       // RX232 transciever on the Explorer 16 board.                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                        RPINR19 = 0;                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                        RPINR19 = 0x64;                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                        RPOR9bits.RP101R = 0x3;                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #else                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   	AD1PCFGL = 0xFFFF;                                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #endif                                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               #elif defined(__C32__)                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   AD1PCFG = 0xFFFF;                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               #endif                                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               #if defined(PIC18F87J50_PIM) || defined(PIC18F46J50_PIM) || defined(PIC18F_STARTER_KIT_1) || defined(PIC18F47J53_PIM) /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	//On the PIC18F87J50 Family of USB microcontrollers, the PLL will not power up and be enabled /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	//by default, even if a PLL enabled oscillator configuration is selected (such as HS+PLL). /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	//This allows the device to power up at a lower initial operating frequency, which can be /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	//advantageous when powered from a source which is not gauranteed to be adequate for 48MHz /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	//operation.  On these devices, user firmware needs to manually set the OSCTUNE<PLLEN> bit to /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	//power up the PLL.                                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   unsigned int pll_startup_counter = 600;                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   OSCTUNEbits.PLLEN = 1;  //Enable the PLL and wait 2+ms until the PLL locks before enabling USB module /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   while(pll_startup_counter--);                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               }                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               //Device switches over automatically to PLL output after PLL is locked and ready. /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               #endif                                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               #if defined(PIC18F87J50_PIM)                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	//Configure all I/O pins to use digital input buffers.  The PIC18F87J50 Family devices /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	//use the ANCONx registers to control this, which is different from other devices which /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	//use the ADCON1 register for this purpose.                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               WDTCONbits.ADSHR = 1;			// Select alternate SFR location to access ANCONx registers /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               ANCON0 = 0xFF;                  // Default all pins to digital              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               ANCON1 = 0xFF;                  // Default all pins to digital              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               WDTCONbits.ADSHR = 0;			// Select normal SFR locations                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               #endif                                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                             #if defined(__dsPIC33EP512MU810__) || defined (__PIC24EP512GU810__)           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               // Configure the device PLL to obtain 60 MIPS operation. The crystal        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               // frequency is 8MHz. Divide 8MHz by 2, multiply by 60 and divide by        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               // 2. This results in Fosc of 120MHz. The CPU clock frequency is            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               // Fcy = Fosc/2 = 60MHz. Wait for the Primary PLL to lock and then          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               // configure the auxilliary PLL to provide 48MHz needed for USB             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               // Operation.                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	PLLFBD = 38;				/* M  = 60	*/                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	CLKDIVbits.PLLPOST = 0;		/* N1 = 2	*/                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	CLKDIVbits.PLLPRE = 0;		/* N2 = 2	*/                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	OSCTUN = 0;			                                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               /*	Initiate Clock Switch to Primary                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                *	Oscillator with PLL (NOSC= 0x3)*/                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               __builtin_write_OSCCONH(0x03);		                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	__builtin_write_OSCCONL(0x01);                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	while (OSCCONbits.COSC != 0x3);                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               // Configuring the auxiliary PLL, since the primary                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               // oscillator provides the source clock to the auxiliary                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               // PLL, the auxiliary oscillator is disabled. Note that                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               // the AUX PLL is enabled. The input 8MHz clock is divided                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               // by 2, multiplied by 24 and then divided by 2. Wait till                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               // the AUX PLL locks.                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               ACLKCON3 = 0x24C1;                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               ACLKDIV3 = 0x7;                                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               ACLKCON3bits.ENAPLL = 1;                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               while(ACLKCON3bits.APLLCK != 1);                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               #endif                                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               #if defined(PIC18F46J50_PIM) || defined(PIC18F_STARTER_KIT_1) || defined(PIC18F47J53_PIM) /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	//Configure all I/O pins to use digital input buffers.  The PIC18F87J50 Family devices /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	//use the ANCONx registers to control this, which is different from other devices which /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	//use the ADCON1 register for this purpose.                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               ANCON0 = 0xFF;                  // Default all pins to digital              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               ANCON1 = 0xFF;                  // Default all pins to digital              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               #endif                                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                              #if defined(PIC24FJ64GB004_PIM) || defined(PIC24FJ256DA210_DEV_BOARD)        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	//On the PIC24FJ64GB004 Family of USB microcontrollers, the PLL will not power up and be enabled /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	//by default, even if a PLL enabled oscillator configuration is selected (such as HS+PLL). /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	//This allows the device to power up at a lower initial operating frequency, which can be /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	//advantageous when powered from a source which is not gauranteed to be adequate for 32MHz /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	//operation.  On these devices, user firmware needs to manually set the CLKDIV<PLLEN> bit to /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	//power up the PLL.                                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   unsigned int pll_startup_counter = 600;                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   CLKDIVbits.PLLEN = 1;                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   while(pll_startup_counter--);                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               }                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               //Device switches over automatically to PLL output after PLL is locked and ready. /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               #endif                                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           //	The USB specifications require that USB peripheral devices must never source /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           //	current onto the Vbus pin.  Additionally, USB peripherals should not source  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           //	current on D+ or D- when the host/hub is not actively powering the Vbus line. /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           //	When designing a self powered (as opposed to bus powered) USB peripheral     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           //	device, the firmware should make sure not to turn on the USB module and D+   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           //	or D- pull up resistor unless Vbus is actively powered.  Therefore, the      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           //	firmware needs some means to detect when Vbus is being powered by the host.  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           //	A 5V tolerant I/O pin can be connected to Vbus (through a resistor), and     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           // 	can be used to detect when Vbus is high (host actively powering), or low    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           //	(host is shut down or otherwise not supplying power).  The USB firmware      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           // 	can then periodically poll this I/O pin to know when it is okay to turn on  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           //	the USB module/D+/D- pull up resistor.  When designing a purely bus powered  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           //	peripheral device, it is not possible to source current on D+ or D- when the /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           //	host is not actively providing power on Vbus. Therefore, implementing this   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           //	bus sense feature is optional.  This firmware can be made to use this bus    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           //	sense feature by making sure "USE_USB_BUS_SENSE_IO" has been defined in the  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           //	HardwareProfile.h file.                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               #if defined(USE_USB_BUS_SENSE_IO)                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               tris_usb_bus_sense = INPUT_PIN; // See HardwareProfile.h                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               #endif                                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           //	If the host PC sends a GetStatus (device) request, the firmware must respond /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           //	and let the host know if the USB peripheral device is currently bus powered  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           //	or self powered.  See chapter 9 in the official USB specifications for details /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           //	regarding this request.  If the peripheral device is capable of being both   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           //	self and bus powered, it should not return a hard coded value for this request. /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           //	Instead, firmware should check if it is currently self or bus powered, and   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           //	respond accordingly.  If the hardware has been configured like demonstrated  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           //	on the PICDEM FS USB Demo Board, an I/O pin can be polled to determine the   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           //	currently selected power source.  On the PICDEM FS USB Demo Board, "RA2"     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           //	is used for	this purpose.  If using this feature, make sure "USE_SELF_POWER_SENSE_IO" /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           //	has been defined in HardwareProfile.h, and that an appropriate I/O pin has been mapped /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           //	to it in HardwareProfile.h.                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               #if defined(USE_SELF_POWER_SENSE_IO)                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               tris_self_power = INPUT_PIN;	// See HardwareProfile.h                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               #endif                                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001fc6   d802     RCALL     0x1fcc             UserInit();                                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001fc8   ef1c     GOTO      0x1038             USBDeviceInit();	//usb_device.c.  Initializes USB module SFRs and firmware  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001fca   f008                                                                                                               
                                               					//variables to known states.                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           }//end InitializeSystem                                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           /****************************************************************************** /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Function:        void UserInit(void)                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * PreCondition:    None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Input:           None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Output:          None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Side Effects:    None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Overview:        This routine should take care of all of the demo code       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                  initialization that is required.                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Note:                                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *****************************************************************************/ /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           void UserInit(void)                                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           {                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               //Initialize all of the LED pins                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001fcc   0ef0     MOVLW     0xf0               mInitAllLEDs();                                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001fce   1689     ANDWF     0x89,0x1,0x0                                                                                    
001fd0   1692     ANDWF     0x92,0x1,0x0                                                                                    
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               //Initialize all of the push buttons                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001fd2   8893     BSF       0x93,0x4,0x0       mInitAllSwitches();                                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001fd4   8a93     BSF       0x93,0x5,0x0                                                                                    
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               //initialize the variable holding the handle for the last                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               // transmission                                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001fd6   0100     MOVLB     0x0                USBOutHandle = 0;                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001fd8   6b98     CLRF      0x98,0x1                                                                                        
001fda   6b99     CLRF      0x99,0x1                                                                                        
001fdc   6b9a     CLRF      0x9a,0x1           USBInHandle = 0;                                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001fde   6b9b     CLRF      0x9b,0x1                                                                                        
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001fe0   0e01     MOVLW     0x1                blinkStatusValid = TRUE;                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001fe2   6f9c     MOVWF     0x9c,0x1                                                                                        
001fe4   0012     RETURN    0x0            }//end UserInit                                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           /*******************************************ORTB = ToSendDataBuffer[0];         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           									break;*************************                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Function:        void ProcessIO(void)                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * PreCondition:    None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Input:           None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Output:          None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Side Effects:    None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Overview:        This function is a place holder for other user              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                  routines. It is a mixture of both USB and                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                  non-USB tasks.                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Note:            None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *******************************************************************/           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001fe6   d9dd     RCALL     0x23a2         void ProcessIO(void)                                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
0023a2   d82d     RCALL     0x23fe                                                                                          
0023a4   0e02     MOVLW     0x2                                                                                             
0023a6   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
0023a8   0012     RETURN    0x0                                                                                             
0023fe   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
002400   ffe6                                                                                                               
002402   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
002404   ffd9                                                                                                               
002406   0012     RETURN    0x0                                                                                             
                                           {                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               //Blink the LEDs according to the USB device status                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001fe8   0100     MOVLB     0x0                if(blinkStatusValid)                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001fea   519c     MOVF      0x9c,0x0,0x1                                                                                    
001fec   e001     BZ        0x1ff0                                                                                          
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001fee   d8d6     RCALL     0x219c                 BlinkUSBStatus();                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               }                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               // User Application USB tasks                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001ff0   0e20     MOVLW     0x20               if((USBDeviceState < CONFIGURED_STATE)||(USBSuspendControl==1)) return;     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
001ff2   0100     MOVLB     0x0                                                                                             
001ff4   6ee7     MOVWF     0xe7,0x0                                                                                        
001ff6   1960     XORWF     0x60,0x0,0x1                                                                                    
001ff8   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
001ffa   d002     BRA       0x2000                                                                                          
001ffc   34e7     RLCF      0xe7,0x0,0x0                                                                                    
001ffe   d002     BRA       0x2004                                                                                          
002000   50e7     MOVF      0xe7,0x0,0x0                                                                                    
002002   5d60     SUBWF     0x60,0x0,0x1                                                                                    
002004   e201     BC        0x2008                                                                                          
002006   d0af     BRA       0x2166                                                                                          
002008   506d     MOVF      0x6d,0x0,0x0                                                                                    
00200a   0b02     ANDLW     0x2                                                                                             
00200c   e001     BZ        0x2010                                                                                          
00200e   d0ab     BRA       0x2166                                                                                          
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002010   0100     MOVLB     0x0                if(!HIDRxHandleBusy(USBOutHandle))				//Check if data was received from the host. /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002012   5198     MOVF      0x98,0x0,0x1                                                                                    
002014   1199     IORWF     0x99,0x0,0x1                                                                                    
002016   e102     BNZ       0x201c                                                                                          
002018   0e00     MOVLW     0x0                                                                                             
00201a   d008     BRA       0x202c                                                                                          
00201c   c098     MOVFF     0x98,0xfe9                                                                                      
00201e   ffe9                                                                                                               
002020   c099     MOVFF     0x99,0xfea                                                                                      
002022   ffea                                                                                                               
002024   50ef     MOVF      0xef,0x0,0x0                                                                                    
002026   0b80     ANDLW     0x80                                                                                            
002028   e001     BZ        0x202c                                                                                          
00202a   0e01     MOVLW     0x1                                                                                             
00202c   0900     IORLW     0x0                                                                                             
00202e   e001     BZ        0x2032                                                                                          
002030   d09a     BRA       0x2166                                                                                          
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002032   0105     MOVLB     0x5                    switch(ReceivedDataBuffer[0])				//Look at the data the host sent, to see what kind of application specific command it sent. /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002034   5100     MOVF      0x0,0x0,0x1                                                                                     
002036   0a23     XORLW     0x23                                                                                            
002038   e059     BZ        0x20ec                                                                                          
00203a   0a14     XORLW     0x14                                                                                            
00203c   e03d     BZ        0x20b8                                                                                          
00203e   0ab6     XORLW     0xb6                                                                                            
002040   e019     BZ        0x2074                                                                                          
002042   0a01     XORLW     0x1                                                                                             
002044   e001     BZ        0x2048                                                                                          
002046   d08e     BRA       0x2164                                                                                          
                                                   {                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       case 0x80:  //Toggle LEDs command                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002048   0100     MOVLB     0x0            		        blinkStatusValid = FALSE;		//Stop blinking the LEDs automatically, going to manually control them now. /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
00204a   6b9c     CLRF      0x9c,0x1                                                                                        
00204c   508a     MOVF      0x8a,0x0,0x0                   if(mGetLED_1() == mGetLED_2())                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
00204e   0b80     ANDLW     0x80                                                                                            
002050   e001     BZ        0x2054                                                                                          
002052   0e01     MOVLW     0x1                                                                                             
002054   6e0b     MOVWF     0xb,0x0                                                                                         
002056   508a     MOVF      0x8a,0x0,0x0                                                                                    
002058   0b40     ANDLW     0x40                                                                                            
00205a   e001     BZ        0x205e                                                                                          
00205c   0e01     MOVLW     0x1                                                                                             
00205e   5c0b     SUBWF     0xb,0x0,0x0                                                                                     
002060   e103     BNZ       0x2068                                                                                          
                                                           {                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002062   7e8a     BTG       0x8a,0x7,0x0                       mLED_1_Toggle();                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002064   7089     BTG       0x89,0x0,0x0                       mLED_4_Toggle();                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                           }                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002066   d07e     BRA       0x2164                         else                                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                           {                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002068   ae8a     BTFSS     0x8a,0x7,0x0                       if(mGetLED_1())                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
00206a   d002     BRA       0x2070                                                                                          
                                                               {                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
00206c   8089     BSF       0x89,0x0,0x0                           mLED_4_On();                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                               }                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
00206e   d07a     BRA       0x2164                             else                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                               {                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002070   9089     BCF       0x89,0x0,0x0                           mLED_4_Off();                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                               }                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                           }                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002072   d078     BRA       0x2164                         break;                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       case 0x81:  //Get push button state                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002074   0e85     MOVLW     0x85                           ToSendDataBuffer[0] = 0x85;				//Echo back to the host PC the command we are fulfilling in the first byte.  In this case, the Get Pushbutton State command. /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002076   6f40     MOVWF     0x40,0x1                                                                                        
002078   0edf     MOVLW     0xdf           				SetChanADC( ADC_CH11 );                                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
00207a   d989     RCALL     0x238e                                                                                          
00238e   6ee6     MOVWF     0xe6,0x0                                                                                        
002390   ec6b     CALL      0x26d6,0x0                                                                                      
002392   f013                                                                                                               
002394   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002396   0012     RETURN    0x0                                                                                             
00207c   ecae     CALL      0x275c,0x0     				ConvertADC();       // Start conversion                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
00207e   f013                                                                                                               
002080   eca9     CALL      0x2752,0x0     				while( BusyADC() ); // Wait for completion                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002082   f013                                                                                                               
002084   0900     IORLW     0x0                                                                                             
002086   e1fc     BNZ       0x2080                                                                                          
002088   eca0     CALL      0x2740,0x0     				ToSendDataBuffer[2] = ReadADC(); // Read result				                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
00208a   f013                                                                                                               
00208c   cff3     MOVFF     0xff3,0x542                                                                                     
00208e   f542                                                                                                               
                                           //				if(sw2 == 1)							//pushbutton not pressed, pull up resistor on circuit board is pulling the PORT pin high /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002090   0105     MOVLB     0x5            				if(ToSendDataBuffer[2]>0)                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002092   50f3     MOVF      0xf3,0x0,0x0                                                                                    
002094   0800     SUBLW     0x0                                                                                             
002096   e203     BC        0x209e                                                                                          
                                           				{                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002098   0e05     MOVLW     0x5            					ToSendDataBuffer[1] = 0x05;			                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
00209a   6f41     MOVWF     0x41,0x1                                                                                        
                                           				}                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
00209c   d001     BRA       0x20a0         				else									//sw3 must be == 0, pushbutton is pressed and overpowering the pull up resistor /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           				{                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
00209e   6b41     CLRF      0x41,0x1       					ToSendDataBuffer[1] = 0x00;                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           				}				                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
0020a0   0100     MOVLB     0x0                            if(!HIDTxHandleBusy(USBInHandle))                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
0020a2   519a     MOVF      0x9a,0x0,0x1                                                                                    
0020a4   119b     IORWF     0x9b,0x0,0x1                                                                                    
0020a6   e102     BNZ       0x20ac                                                                                          
0020a8   0e00     MOVLW     0x0                                                                                             
0020aa   d003     BRA       0x20b2                                                                                          
0020ac   d969     RCALL     0x2380                                                                                          
0020ae   e001     BZ        0x20b2                                                                                          
0020b0   0e01     MOVLW     0x1                                                                                             
0020b2   0900     IORLW     0x0                                                                                             
0020b4   e157     BNZ       0x2164                                                                                          
                                                           {                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                               USBInHandle = HIDTxPacket(HID_EP,(BYTE*)&ToSendDataBuffer[0],64); /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                           }                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
0020b6   d049     BRA       0x214a                         break;                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       case 0x37:	//Read POT command.  Uses ADC to measure an analog voltage on one of the ANxx I/O pins, and returns the result to the host /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                           {                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                               WORD_VAL w;                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
0020b8   0100     MOVLB     0x0            	                if(!HIDTxHandleBusy(USBInHandle))                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
0020ba   519a     MOVF      0x9a,0x0,0x1                                                                                    
0020bc   119b     IORWF     0x9b,0x0,0x1                                                                                    
0020be   e102     BNZ       0x20c4                                                                                          
0020c0   0e00     MOVLW     0x0                                                                                             
0020c2   d003     BRA       0x20ca                                                                                          
0020c4   d95d     RCALL     0x2380                                                                                          
0020c6   e001     BZ        0x20ca                                                                                          
0020c8   0e01     MOVLW     0x1                                                                                             
0020ca   0900     IORLW     0x0                                                                                             
0020cc   e14b     BNZ       0x2164                                                                                          
                                           	                {                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
0020ce   d96d     RCALL     0x23aa         	                    mInitPOT();                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
0023aa   8092     BSF       0x92,0x0,0x0                                                                                    
0023ac   0e01     MOVLW     0x1                                                                                             
0023ae   6ec2     MOVWF     0xc2,0x0                                                                                        
0023b0   0e3c     MOVLW     0x3c                                                                                            
0023b2   6ec0     MOVWF     0xc0,0x0                                                                                        
0023b4   8ec0     BSF       0xc0,0x7,0x0                                                                                    
0023b6   0012     RETURN    0x0                                                                                             
0020d0   d850     RCALL     0x2172         	                    w = ReadPOT();					//Use ADC to read the I/O pin voltage.  See the relevant HardwareProfile - xxxxx.h file for the I/O pin that it will measure. /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
0020d2   cff3     MOVFF     0xff3,0xfde                                                                                     
0020d4   ffde                                                                                                               
0020d6   cff4     MOVFF     0xff4,0xfdd                                                                                     
0020d8   ffdd                                                                                                               
                                           														//Some demo boards, like the PIC18F87J50 FS USB Plug-In Module board, do not have a potentiometer (when used stand alone). /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           														//This function call will still measure the analog voltage on the I/O pin however.  To make the demo more interesting, it /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           														//is suggested that an external adjustable analog voltage should be applied to this pin. /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
0020da   0105     MOVLB     0x5            						ToSendDataBuffer[0] = 0x37;  	//Echo back to the host the command we are fulfilling in the first byte.  In this case, the Read POT (analog voltage) command. /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
0020dc   0e37     MOVLW     0x37                                                                                            
0020de   6f40     MOVWF     0x40,0x1                                                                                        
0020e0   cfdf     MOVFF     0xfdf,0x541    						ToSendDataBuffer[1] = w.v[0];  	//Measured analog voltage LSB             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
0020e2   f541                                                                                                               
0020e4   0e01     MOVLW     0x1            						ToSendDataBuffer[2] = w.v[1];  	//Measured analog voltage MSB             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
0020e6   cfdb     MOVFF     0xfdb,0x542                                                                                     
0020e8   f542                                                                                                               
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	                    USBInHandle = HIDTxPacket(HID_EP,(BYTE*)&ToSendDataBuffer[0],64); /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	                }					                                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                           }                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
0020ea   d02f     BRA       0x214a                         break;                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           						case 0x23:                                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
0020ec   0ee0     MOVLW     0xe0           							PORTB ^= 0b11100000;                                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
0020ee   1a81     XORWF     0x81,0x1,0x0                                                                                    
0020f0   5101     MOVF      0x1,0x0,0x1    							switch(ReceivedDataBuffer[1]){                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
0020f2   0a03     XORLW     0x3                                                                                             
0020f4   e00a     BZ        0x210a                                                                                          
0020f6   0a01     XORLW     0x1                                                                                             
0020f8   e005     BZ        0x2104                                                                                          
0020fa   0a03     XORLW     0x3                                                                                             
0020fc   e10b     BNZ       0x2114                                                                                          
                                           								case 0x01: // Caso em que se faz a leitura de todos os sensores.        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
0020fe   d94c     RCALL     0x2398         									ReadSensors(ToSendDataBuffer);                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002100   de87     RCALL     0x1e10                                                                                          
002102   d005     BRA       0x210e         									break;                                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           								case 0x02: // Caso em que se faz a leitura somente dos potenciometros   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002104   d949     RCALL     0x2398         									Potenci(ToSendDataBuffer);                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002106   ded4     RCALL     0x1eb0                                                                                          
002108   d002     BRA       0x210e         									break;                                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           								case 0x03: // Caso em que se faz a leitura somente dos amperimetros     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
00210a   d946     RCALL     0x2398         									Amperimet(ToSendDataBuffer);                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
00210c   df05     RCALL     0x1f18                                                                                          
00210e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002110   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002112   d010     BRA       0x2134         									break;                                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           								default: // Fun��o n�o reconhecida                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002114   6940     SETF      0x40,0x1       									ToSendDataBuffer[0] = 0xFF;                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002116   6941     SETF      0x41,0x1       									ToSendDataBuffer[1] = 0xFF;                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002118   6942     SETF      0x42,0x1       									ToSendDataBuffer[2] = 0xFF;                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
00211a   6943     SETF      0x43,0x1       									ToSendDataBuffer[3] = 0xFF;                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
00211c   6944     SETF      0x44,0x1       									ToSendDataBuffer[4] = 0xFF;                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
00211e   6945     SETF      0x45,0x1       									ToSendDataBuffer[5] = 0xFF;                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002120   6946     SETF      0x46,0x1       									ToSendDataBuffer[6] = 0xFF;                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002122   6947     SETF      0x47,0x1       									ToSendDataBuffer[7] = 0xFF;                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002124   6948     SETF      0x48,0x1       									ToSendDataBuffer[8] = 0xFF;                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002126   6949     SETF      0x49,0x1       									ToSendDataBuffer[9] = 0xFF;                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002128   694a     SETF      0x4a,0x1       									ToSendDataBuffer[10] = 0xFF;                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
00212a   694b     SETF      0x4b,0x1       									ToSendDataBuffer[11] = 0xFF;                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
00212c   694c     SETF      0x4c,0x1       									ToSendDataBuffer[12] = 0xFF;                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
00212e   694d     SETF      0x4d,0x1       									ToSendDataBuffer[13] = 0xFF;                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002130   694e     SETF      0x4e,0x1       									ToSendDataBuffer[14] = 0xFF;                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002132   694f     SETF      0x4f,0x1       									ToSendDataBuffer[15] = 0xFF;                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           									break;                                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           							}                                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002134   0100     MOVLB     0x0            							  if(!HIDTxHandleBusy(USBInHandle))                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002136   519a     MOVF      0x9a,0x0,0x1                                                                                    
002138   119b     IORWF     0x9b,0x0,0x1                                                                                    
00213a   e102     BNZ       0x2140                                                                                          
00213c   0e00     MOVLW     0x0                                                                                             
00213e   d003     BRA       0x2146                                                                                          
002140   d91f     RCALL     0x2380                                                                                          
002142   e001     BZ        0x2146                                                                                          
002144   0e01     MOVLW     0x1                                                                                             
002146   0900     IORLW     0x0                                                                                             
002148   e10b     BNZ       0x2160                                                                                          
002380   c09a     MOVFF     0x9a,0xfe9                                                                                      
002382   ffe9                                                                                                               
002384   c09b     MOVFF     0x9b,0xfea                                                                                      
002386   ffea                                                                                                               
002388   50ef     MOVF      0xef,0x0,0x0                                                                                    
00238a   0b80     ANDLW     0x80                                                                                            
00238c   0012     RETURN    0x0                                                                                             
                                                           {                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
00214a   0e40     MOVLW     0x40                               USBInHandle = HIDTxPacket(HID_EP,(BYTE*)&ToSendDataBuffer[0],64); /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
00214c   6ee6     MOVWF     0xe6,0x0                                                                                        
00214e   d924     RCALL     0x2398                                                                                          
002150   0e01     MOVLW     0x1                                                                                             
002152   6ee6     MOVWF     0xe6,0x0                                                                                        
002154   d947     RCALL     0x23e4                                                                                          
002156   cff3     MOVFF     0xff3,0x9a                                                                                      
002158   f09a                                                                                                               
00215a   cff4     MOVFF     0xff4,0x9b                                                                                      
00215c   f09b                                                                                                               
002398   0e40     MOVLW     0x40                                                                                            
00239a   6ee6     MOVWF     0xe6,0x0                                                                                        
00239c   0e05     MOVLW     0x5                                                                                             
00239e   6ee6     MOVWF     0xe6,0x0                                                                                        
0023a0   0012     RETURN    0x0                                                                                             
0023e4   6ee6     MOVWF     0xe6,0x0                                                                                        
0023e6   ece7     CALL      0x19ce,0x0                                                                                      
0023e8   f00c                                                                                                               
0023ea   6e0b     MOVWF     0xb,0x0                                                                                         
0023ec   0e05     MOVLW     0x5                                                                                             
0023ee   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
0023f0   500b     MOVF      0xb,0x0,0x0                                                                                     
0023f2   0012     RETURN    0x0                                                                                             
                                                           }                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
00215e   d002     BRA       0x2164         			else                                                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           			{                                                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002160   0e08     MOVLW     0x8            				PORTB = 0b00001000;                                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002162   6e81     MOVWF     0x81,0x0                                                                                        
                                           			}                                                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           							break;                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   }                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   //Re-arm the OUT endpoint for the next packet                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002164   d8e9     RCALL     0x2338                 USBOutHandle = HIDRxPacket(HID_EP,(BYTE*)&ReceivedDataBuffer,64);       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002338   0e40     MOVLW     0x40                                                                                            
00233a   6ee6     MOVWF     0xe6,0x0                                                                                        
00233c   0e00     MOVLW     0x0                                                                                             
00233e   6ee6     MOVWF     0xe6,0x0                                                                                        
002340   0e05     MOVLW     0x5                                                                                             
002342   6ee6     MOVWF     0xe6,0x0                                                                                        
002344   6ae6     CLRF      0xe6,0x0                                                                                        
002346   0e01     MOVLW     0x1                                                                                             
002348   d84d     RCALL     0x23e4                                                                                          
00234a   cff3     MOVFF     0xff3,0x98                                                                                      
00234c   f098                                                                                                               
00234e   cff4     MOVFF     0xff4,0x99                                                                                      
002350   f099                                                                                                               
002352   0012     RETURN    0x0                                                                                             
                                               }                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002166   0e02     MOVLW     0x2            }//end ProcessIO                                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002168   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
00216a   e202     BC        0x2170                                                                                          
00216c   6ae1     CLRF      0xe1,0x0                                                                                        
00216e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002170   d0f7     BRA       0x2360                                                                                          
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           /****************************************************************************** /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Function:        WORD_VAL ReadPOT(void)                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * PreCondition:    None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Input:           None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Output:          WORD_VAL - the 10-bit right justified POT value             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Side Effects:    ADC buffer value updated                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Overview:        This function reads the POT and leaves the value in the     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                  ADC buffer register                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Note:            None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *****************************************************************************/ /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002172   d917     RCALL     0x23a2         WORD_VAL ReadPOT(void)                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           {                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               WORD_VAL w;                                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               #if defined(__18CXX)                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002174   d91a     RCALL     0x23aa                 mInitPOT();                                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002176   82c2     BSF       0xc2,0x1,0x0           ADCON0bits.GO = 1;              // Start AD conversion                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002178   b2c2     BTFSC     0xc2,0x1,0x0           while(ADCON0bits.NOT_DONE);     // Wait for conversion                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
00217a   d7fe     BRA       0x2178                                                                                          
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
00217c   50c3     MOVF      0xc3,0x0,0x0           w.v[0] = ADRESL;                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
00217e   6edf     MOVWF     0xdf,0x0                                                                                        
002180   0e01     MOVLW     0x1                    w.v[1] = ADRESH;                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002182   cfc4     MOVFF     0xfc4,0xfdb                                                                                     
002184   ffdb                                                                                                               
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               #elif defined(__C30__) || defined(__C32__)                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #if defined(PIC24FJ256GB110_PIM) || \                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       defined(PIC24FJ256DA210_DEV_BOARD) || \                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       defined(PIC24FJ256GB210_PIM)                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       AD1CHS = 0x5;           //MUXA uses AN5                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       // Get an ADC sample                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       AD1CON1bits.SAMP = 1;           //Start sampling                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       for(w.Val=0;w.Val<1000;w.Val++); //Sample delay, conversion start automatically /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       AD1CON1bits.SAMP = 0;           //Start sampling                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       for(w.Val=0;w.Val<1000;w.Val++); //Sample delay, conversion start automatically /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       while(!AD1CON1bits.DONE);       //Wait for conversion to complete   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #elif defined(DSPIC33EP512MU810_PIM) || defined (PIC24EP512GU810_PIM)   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       // Routine to read the Explorer 16 potentiometer.                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                         // Get an ADC sample                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       AD1CHS0bits.CH0SA = 5;\                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       AD1CON1bits.SAMP = 1;           //Start sampling                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       for(w.Val=0;w.Val<1000;w.Val++); //Sample delay, conversion start automatically /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       AD1CON1bits.SAMP = 0;           //Start sampling                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       for(w.Val=0;w.Val<1000;w.Val++); //Sample delay, conversion start automatically /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       while(!AD1CON1bits.DONE);       //Wait for conversion to complete   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #elif defined (DSPIC33E_USB_STARTER_KIT)                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       w.Val = 0;                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #elif defined(PIC24FJ64GB004_PIM)                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       AD1CHS = 0x7;           //MUXA uses AN7                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       // Get an ADC sample                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       AD1CON1bits.SAMP = 1;           //Start sampling                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       for(w.Val=0;w.Val<1000;w.Val++); //Sample delay, conversion start automatically /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       AD1CON1bits.SAMP = 0;           //Start sampling                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       for(w.Val=0;w.Val<1000;w.Val++); //Sample delay, conversion start automatically /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       while(!AD1CON1bits.DONE);       //Wait for conversion to complete   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #elif defined(PIC24F_STARTER_KIT)                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       AD1CHS = 0x0;           //MUXA uses AN0                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       // Get an ADC sample                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       AD1CON1bits.SAMP = 1;           //Start sampling                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       for(w.Val=0;w.Val<1000;w.Val++); //Sample delay, conversion start automatically /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       AD1CON1bits.SAMP = 0;           //Start sampling                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       for(w.Val=0;w.Val<1000;w.Val++); //Sample delay, conversion start automatically /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       while(!AD1CON1bits.DONE);       //Wait for conversion to complete   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #elif defined(PIC32MX460F512L_PIM) || defined(PIC32_USB_STARTER_KIT) || defined(PIC32MX795F512L_PIM) /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       AD1PCFG = 0xFFFB; // PORTB = Digital; RB2 = analog                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       AD1CON1 = 0x0000; // SAMP bit = 0 ends sampling ...                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       // and starts converting                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       AD1CHS = 0x00020000; // Connect RB2/AN2 as CH0 input ..             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       // in this example RB2/AN2 is the input                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       AD1CSSL = 0;                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       AD1CON3 = 0x0002; // Manual Sample, Tad = internal 6 TPB            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       AD1CON2 = 0;                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       AD1CON1SET = 0x8000; // turn ADC ON                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       AD1CON1SET = 0x0002; // start sampling ...                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       for(w.Val=0;w.Val<1000;w.Val++); //Sample delay, conversion start automatically /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       AD1CON1CLR = 0x0002; // start Converting                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       while (!(AD1CON1 & 0x0001));// conversion done?                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #else                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       #error                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #endif                                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   w.Val = ADC1BUF0;                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               #endif                                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002186   d936     RCALL     0x23f4             return w;                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002188   c00b     MOVFF     0xb,0xff3                                                                                       
00218a   fff3                                                                                                               
00218c   c00c     MOVFF     0xc,0xff4                                                                                       
00218e   fff4                                                                                                               
002190   0e02     MOVLW     0x2            }//end ReadPOT                                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002192   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
002194   e202     BC        0x219a                                                                                          
002196   6ae1     CLRF      0xe1,0x0                                                                                        
002198   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00219a   d0e2     BRA       0x2360                                                                                          
002360   6ee1     MOVWF     0xe1,0x0                                                                                        
002362   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002364   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
002366   ffd9                                                                                                               
002368   0012     RETURN    0x0                                                                                             
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           /********************************************************************           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Function:        void BlinkUSBStatus(void)                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * PreCondition:    None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Input:           None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Output:          None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Side Effects:    None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Overview:        BlinkUSBStatus turns on and off LEDs                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                  corresponding to the USB device state.                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Note:            mLED macros can be found in HardwareProfile.h               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                  USBDeviceState is declared and updated in                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                  usb_device.c.                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *******************************************************************/           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           void BlinkUSBStatus(void)                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           {                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           #if defined(PIC24FJ256DA210_DEV_BOARD)                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               // No need to clear UIRbits.SOFIF to 0 here.                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               // Callback caller is already doing that.                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               #define BLINK_INTERVAL 20000                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               #define BLANK_INTERVAL 200000                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               static WORD blink_count=0;                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               static DWORD loop_count = 0;                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               if(loop_count == 0)                                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   if(blink_count != 0)                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   {                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       loop_count = BLINK_INTERVAL;                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       if(mGetLED_1())                                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       {                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                           mLED_1_Off();                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                           blink_count--;                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       }                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       else                                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       {                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                           mLED_1_On();                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       }                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   }                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   else                                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   {                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       loop_count = BLANK_INTERVAL;                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       switch(USBDeviceState)                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       {                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                           case ATTACHED_STATE:                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                               blink_count = 1;                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                               break;                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                           case POWERED_STATE:                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                               blink_count = 2;                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                               break;                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                           case DEFAULT_STATE:                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                               blink_count = 3;                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                               break;                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                           case ADR_PENDING_STATE:                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                               blink_count = 4;                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                               break;                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                           case ADDRESS_STATE:                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                               blink_count = 5;                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                               break;                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                           case CONFIGURED_STATE:                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                               blink_count = 6;                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                               break;                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                           case DETACHED_STATE:                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                               //fall through                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                           default:                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                               blink_count = 0;                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                               break;                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       }                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   }                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               }                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               else                                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   loop_count--;                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               }                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           #else                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               // No need to clear UIRbits.SOFIF to 0 here.                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               // Callback caller is already doing that.                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               static WORD led_count=0;                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
00219c   0100     MOVLB     0x0                if(led_count == 0)led_count = 10000U;                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
00219e   519d     MOVF      0x9d,0x0,0x1                                                                                    
0021a0   119e     IORWF     0x9e,0x0,0x1                                                                                    
0021a2   e104     BNZ       0x21ac                                                                                          
0021a4   0e10     MOVLW     0x10                                                                                            
0021a6   6f9d     MOVWF     0x9d,0x1                                                                                        
0021a8   0e27     MOVLW     0x27                                                                                            
0021aa   6f9e     MOVWF     0x9e,0x1                                                                                        
0021ac   079d     DECF      0x9d,0x1,0x1       led_count--;                                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
0021ae   0e00     MOVLW     0x0                                                                                             
0021b0   5b9e     SUBWFB    0x9e,0x1,0x1                                                                                    
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               #define mLED_Both_Off()         {mLED_1_Off();mLED_2_Off();}                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               #define mLED_Both_On()          {mLED_1_On();mLED_2_On();}                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               #define mLED_Only_1_On()        {mLED_1_On();mLED_2_Off();}                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               #define mLED_Only_2_On()        {mLED_1_Off();mLED_2_On();}                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
0021b2   a26d     BTFSS     0x6d,0x1,0x0       if(USBSuspendControl == 1)                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
0021b4   d007     BRA       0x21c4                                                                                          
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
0021b6   519d     MOVF      0x9d,0x0,0x1           if(led_count==0)                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
0021b8   119e     IORWF     0x9e,0x0,0x1                                                                                    
0021ba   e12e     BNZ       0x2218                                                                                          
                                                   {                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
0021bc   7e8a     BTG       0x8a,0x7,0x0               mLED_1_Toggle();                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
0021be   be8a     BTFSC     0x8a,0x7,0x0               if(mGetLED_1())                                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
0021c0   d013     BRA       0x21e8                                                                                          
                                                       {                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                           mLED_2_On();                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       }                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       else                                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       {                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                           mLED_2_Off();                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       }                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   }//end if                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               }                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
0021c2   d027     BRA       0x2212             else                                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
0021c4   0100     MOVLB     0x0                    if(USBDeviceState == DETACHED_STATE)                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
0021c6   5160     MOVF      0x60,0x0,0x1                                                                                    
0021c8   e102     BNZ       0x21ce                                                                                          
                                                   {                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
0021ca   9e8a     BCF       0x8a,0x7,0x0               mLED_Both_Off();                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   }                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
0021cc   d022     BRA       0x2212                 else if(USBDeviceState == ATTACHED_STATE)                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
0021ce   0560     DECF      0x60,0x0,0x1                                                                                    
0021d0   e102     BNZ       0x21d6                                                                                          
                                                   {                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
0021d2   8e8a     BSF       0x8a,0x7,0x0               mLED_Both_On();                                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   }                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
0021d4   d009     BRA       0x21e8                 else if(USBDeviceState == POWERED_STATE)                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
0021d6   0e02     MOVLW     0x2                                                                                             
0021d8   5d60     SUBWF     0x60,0x0,0x1                                                                                    
0021da   e102     BNZ       0x21e0                                                                                          
                                                   {                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
0021dc   8e8a     BSF       0x8a,0x7,0x0               mLED_Only_1_On();                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   }                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
0021de   d019     BRA       0x2212                 else if(USBDeviceState == DEFAULT_STATE)                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
0021e0   0e04     MOVLW     0x4                                                                                             
0021e2   5d60     SUBWF     0x60,0x0,0x1                                                                                    
0021e4   e103     BNZ       0x21ec                                                                                          
                                                   {                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
0021e6   9e8a     BCF       0x8a,0x7,0x0               mLED_Only_2_On();                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
0021e8   8c8a     BSF       0x8a,0x6,0x0                                                                                    
                                                   }                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
0021ea   0012     RETURN    0x0                    else if(USBDeviceState == ADDRESS_STATE)                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
0021ec   0e10     MOVLW     0x10                                                                                            
0021ee   5d60     SUBWF     0x60,0x0,0x1                                                                                    
0021f0   e106     BNZ       0x21fe                                                                                          
                                                   {                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
0021f2   0100     MOVLB     0x0                        if(led_count == 0)                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
0021f4   519d     MOVF      0x9d,0x0,0x1                                                                                    
0021f6   119e     IORWF     0x9e,0x0,0x1                                                                                    
0021f8   e10f     BNZ       0x2218                                                                                          
                                                       {                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
0021fa   7e8a     BTG       0x8a,0x7,0x0                   mLED_1_Toggle();                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                           mLED_2_Off();                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       }//end if                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   }                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
0021fc   d00a     BRA       0x2212                 else if(USBDeviceState == CONFIGURED_STATE)                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
0021fe   0e20     MOVLW     0x20                                                                                            
002200   5d60     SUBWF     0x60,0x0,0x1                                                                                    
002202   e10a     BNZ       0x2218                                                                                          
                                                   {                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002204   0100     MOVLB     0x0                        if(led_count==0)                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002206   519d     MOVF      0x9d,0x0,0x1                                                                                    
002208   119e     IORWF     0x9e,0x0,0x1                                                                                    
00220a   e106     BNZ       0x2218                                                                                          
                                                       {                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
00220c   7e8a     BTG       0x8a,0x7,0x0                   mLED_1_Toggle();                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
00220e   ae8a     BTFSS     0x8a,0x7,0x0                   if(mGetLED_1())                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002210   d002     BRA       0x2216                                                                                          
                                                           {                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002212   9c8a     BCF       0x8a,0x6,0x0                       mLED_2_Off();                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                           }                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002214   0012     RETURN    0x0                            else                                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                           {                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002216   8c8a     BSF       0x8a,0x6,0x0                       mLED_2_On();                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                           }                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       }//end if                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   }                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               }                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           #endif                                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002218   0012     RETURN    0x0            }//end BlinkUSBStatus                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           // ****************************************************************************************************** /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           // ************** USB Callback Functions **************************************************************** /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           // ****************************************************************************************************** /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           // The USB firmware stack will call the callback functions USBCBxxx() in response to certain USB related /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           // events.  For example, if the host PC is powering down, it will stop sending out Start of Frame (SOF) /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           // packets to your device.  In response to this, all USB devices are supposed to decrease their power /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           // consumption from the USB Vbus to <2.5mA each.  The USB module detects this condition (which according /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           // to the USB specifications is 3+ms of no bus activity/SOF packets) and then calls the USBCBSuspend() /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           // function.  You should modify these callback functions to take appropriate actions for each of these /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           // conditions.  For example, in the USBCBSuspend(), you may wish to add code that will decrease power /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           // consumption from Vbus to <2.5mA (such as by clock switching, turning off LEDs, putting the /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           // microcontroller to sleep, etc.).  Then, in the USBCBWakeFromSuspend() function, you may then wish to /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           // add code that undoes the power saving things done in the USBCBSuspend() function. /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           // The USBCBSendResume() function is special, in that the USB stack will not automatically call this /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           // function.  This function is meant to be called from the application firmware instead.  See the /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           // additional comments near the function.                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           /****************************************************************************** /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Function:        void USBCBSuspend(void)                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * PreCondition:    None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Input:           None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Output:          None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Side Effects:    None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Overview:        Call back that is invoked when a USB suspend is detected    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Note:            None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *****************************************************************************/ /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           void USBCBSuspend(void)                                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           {                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	//Example power saving code.  Insert appropriate code here for the desired     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	//application behavior.  If the microcontroller will be put to sleep, a        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	//process similar to that shown below may be used:                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	//ConfigureIOPinsForLowPower();                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	//SaveStateOfAllInterruptEnableBits();                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	//DisableAllInterruptEnableBits();                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	//EnableOnlyTheInterruptsWhichWillBeUsedToWakeTheMicro();	//should enable at least USBActivityIF as a wake source /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	//Sleep();                                                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	//RestoreStateOfAllPreviouslySavedInterruptEnableBits();	//Preferrably, this should be done in the USBCBWakeFromSuspend() function instead. /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	//RestoreIOPinsToNormal();									//Preferrably, this should be done in the USBCBWakeFromSuspend() function instead. /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	//IMPORTANT NOTE: Do not clear the USBActivityIF (ACTVIF) bit here.  This bit is  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	//cleared inside the usb_device.c file.  Clearing USBActivityIF here will cause  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	//things to not work as intended.	                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               #if defined(__C30__)                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   //This function requires that the _IPL level be something other than 0. /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   //  We can set it here to something other than                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #ifndef DSPIC33E_USB_STARTER_KIT                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   _IPL = 1;                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   USBSleepOnSuspend();                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   #endif                                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               #endif                                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
00221a   0012     RETURN    0x0            }                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           /****************************************************************************** /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Function:        void _USB1Interrupt(void)                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * PreCondition:    None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Input:           None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Output:          None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Side Effects:    None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Overview:        This function is called when the USB interrupt bit is set   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *					In this example the interrupt is only used when the device               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *					goes to sleep when it receives a USB suspend command                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Note:            None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *****************************************************************************/ /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           #if 0                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           void __attribute__ ((interrupt)) _USB1Interrupt(void)                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           {                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               #if !defined(self_powered)                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   if(U1OTGIRbits.ACTVIF)                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   {                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       IEC5bits.USB1IE = 0;                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       U1OTGIEbits.ACTVIE = 0;                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       IFS5bits.USB1IF = 0;                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       //USBClearInterruptFlag(USBActivityIFReg,USBActivityIFBitNum);      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       USBClearInterruptFlag(USBIdleIFReg,USBIdleIFBitNum);                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       //USBSuspendControl = 0;                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   }                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               #endif                                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           }                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           #endif                                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           /****************************************************************************** /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Function:        void USBCBWakeFromSuspend(void)                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * PreCondition:    None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Input:           None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Output:          None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Side Effects:    None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Overview:        The host may put USB peripheral devices in low power        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *					suspend mode (by "sending" 3+ms of idle).  Once in suspend               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *					mode, the host may wake the device back up by sending non-               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *					idle state signalling.                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *					                                                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *					This call back is invoked when a wakeup from USB suspend                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *					is detected.                                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Note:            None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *****************************************************************************/ /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           void USBCBWakeFromSuspend(void)                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           {                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	// If clock switching or other power savings measures were taken when          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	// executing the USBCBSuspend() function, now would be a good time to          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	// switch back to normal full power run mode conditions.  The host allows      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	// a few milliseconds of wakeup time, after which the device must be           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	// fully back to normal, and capable of receiving and processing USB           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	// packets.  In order to do this, the USB module must receive proper           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	// clocking (IE: 48MHz clock must be available to SIE for full speed USB       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	// operation).                                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
00221c   0012     RETURN    0x0            }                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           /********************************************************************           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Function:        void USBCB_SOF_Handler(void)                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * PreCondition:    None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Input:           None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Output:          None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Side Effects:    None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Overview:        The USB host sends out a SOF packet to full-speed           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                  devices every 1 ms. This interrupt may be useful            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                  for isochronous pipes. End designers should                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                  implement callback routine as necessary.                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Note:            None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *******************************************************************/           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           void USBCB_SOF_Handler(void)                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           {                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               // No need to clear UIRbits.SOFIF to 0 here.                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               // Callback caller is already doing that.                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
00221e   0012     RETURN    0x0            }                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           /*******************************************************************            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Function:        void USBCBErrorHandler(void)                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * PreCondition:    None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Input:           None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Output:          None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Side Effects:    None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Overview:        The purpose of this callback is mainly for                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                  debugging during development. Check UEIR to see             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                  which error causes the interrupt.                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Note:            None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *******************************************************************/           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           void USBCBErrorHandler(void)                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           {                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               // No need to clear UEIR to 0 here.                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               // Callback caller is already doing that.                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	// Typically, user firmware does not need to do anything special               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	// if a USB error occurs.  For example, if the host sends an OUT               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	// packet to your device, but the packet gets corrupted (ex:                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	// because of a bad connection, or the user unplugs the                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	// USB cable during the transmission) this will typically set                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	// one or more USB error interrupt flags.  Nothing specific                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	// needs to be done however, since the SIE will automatically                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	// send a "NAK" packet to the host.  In response to this, the                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	// host will normally retry to send the packet again, and no                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	// data loss occurs.  The system will typically recover                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	// automatically, without the need for application firmware                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	// intervention.                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	// Nevertheless, this callback function is provided, such as                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           	// for debugging purposes.                                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002220   0012     RETURN    0x0            }                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           /*******************************************************************            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Function:        void USBCBCheckOtherReq(void)                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * PreCondition:    None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Input:           None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Output:          None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Side Effects:    None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Overview:        When SETUP packets arrive from the host, some               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * 					firmware must process the request and respond                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *					appropriately to fulfill the request.  Some of                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *					the SETUP packets will be for standard                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *					USB "chapter 9" (as in, fulfilling chapter 9 of                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *					the official USB specifications) requests, while                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *					others may be specific to the USB device class                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *					that is being implemented.  For example, a HID                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *					class device needs to be able to respond to                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *					"GET REPORT" type of requests.  This                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *					is not a standard USB chapter 9 request, and                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *					therefore not handled by usb_device.c.  Instead                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *					this request should be handled by class specific                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *					firmware, such as that contained in usb_function_hid.c.                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Note:            None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *******************************************************************/           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           void USBCBCheckOtherReq(void)                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           {                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002222   ef04     GOTO      0x2408             USBCheckHIDRequest();                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002224   f012                                                                                                               
                                           }//end                                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           /*******************************************************************            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Function:        void USBCBStdSetDscHandler(void)                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * PreCondition:    None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Input:           None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Output:          None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Side Effects:    None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Overview:        The USBCBStdSetDscHandler() callback function is            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *					called when a SETUP, bRequest: SET_DESCRIPTOR request                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *					arrives.  Typically SET_DESCRIPTOR requests are                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *					not used in most applications, and it is                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *					optional to support this type of request.                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Note:            None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *******************************************************************/           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           void USBCBStdSetDscHandler(void)                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           {                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               // Must claim session ownership if supporting this request                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002226   0012     RETURN    0x0            }//end                                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           /*******************************************************************            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Function:        void USBCBInitEP(void)                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * PreCondition:    None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Input:           None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Output:          None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Side Effects:    None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Overview:        This function is called when the device becomes             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                  initialized, which occurs after the host sends a            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * 					SET_CONFIGURATION (wValue not = 0) request.  This                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *					callback function should initialize the endpoints                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *					for the device's usage according to the current                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *					configuration.                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Note:            None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *******************************************************************/           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           void USBCBInitEP(void)                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           {                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               //enable the HID endpoint                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002228   0e1e     MOVLW     0x1e               USBEnableEndpoint(HID_EP,USB_IN_ENABLED|USB_OUT_ENABLED|USB_HANDSHAKE_ENABLED|USB_DISALLOW_SETUP); /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
00222a   6ee6     MOVWF     0xe6,0x0                                                                                        
00222c   0e01     MOVLW     0x1                                                                                             
00222e   6ee6     MOVWF     0xe6,0x0                                                                                        
002230   ecb7     CALL      0x196e,0x0                                                                                      
002232   f00c                                                                                                               
002234   52e5     MOVF      0xe5,0x1,0x0                                                                                    
002236   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                               //Re-arm the OUT endpoint for the next packet                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002238   ef9c     GOTO      0x2338             USBOutHandle = HIDRxPacket(HID_EP,(BYTE*)&ReceivedDataBuffer,64);           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
00223a   f011                                                                                                               
                                           }                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           /********************************************************************           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Function:        void USBCBSendResume(void)                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * PreCondition:    None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Input:           None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Output:          None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Side Effects:    None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Overview:        The USB specifications allow some types of USB              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * 					peripheral devices to wake up a host PC (such                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *					as if it is in a low power suspend to RAM state).                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *					This can be a very useful feature in some                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *					USB applications, such as an Infrared remote                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *					control	receiver.  If a user presses the "power"                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *					button on a remote control, it is nice that the                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *					IR receiver can detect this signalling, and then                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *					send a USB "command" to the PC to wake up.                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *					                                                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *					The USBCBSendResume() "callback" function is used                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *					to send this special USB signalling which wakes                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *					up the PC.  This function may be called by                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *					application firmware to wake up the PC.  This                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *					function will only be able to wake up the host if                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                  all of the below are true:                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *					                                                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *					1.  The USB driver used on the host PC supports                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *						the remote wakeup capability.                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *					2.  The USB configuration descriptor indicates                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *						the device is remote wakeup capable in the                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *						bmAttributes field.                                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *					3.  The USB host PC is currently sleeping,                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *						and has previously sent your device a SET                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *						FEATURE setup packet which "armed" the                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *						remote wakeup capability.                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                  If the host has not armed the device to perform remote wakeup, /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                  then this function will return without actually performing a /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                  remote wakeup sequence.  This is the required behavior,     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                  as a USB device that has not been armed to perform remote   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                  wakeup must not drive remote wakeup signalling onto the bus; /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                  doing so will cause USB compliance testing failure.         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *					This callback should send a RESUME signal that                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                  has the period of 1-15ms.                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Note:            This function does nothing and returns quickly, if the USB  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                  bus and host are not in a suspended condition, or are       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                  otherwise not in a remote wakeup ready state.  Therefore, it /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                  is safe to optionally call this function regularly, ex:     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                  anytime application stimulus occurs, as the function will   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                  have no effect, until the bus really is in a state ready    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                  to accept remote wakeup.                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                  When this function executes, it may perform clock switching, /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                  depending upon the application specific code in             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                  USBCBWakeFromSuspend().  This is needed, since the USB      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                  bus will no longer be suspended by the time this function   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                  returns.  Therefore, the USB module will need to be ready   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                  to receive traffic from the host.                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                  The modifiable section in this routine may be changed       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                  to meet the application needs. Current implementation       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                  temporary blocks other functions from executing for a       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                  period of ~3-15 ms depending on the core frequency.         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                  According to USB 2.0 specification section 7.1.7.7,         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                  "The remote wakeup device must hold the resume signaling    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                  for at least 1 ms but for no more than 15 ms."              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                  The idea here is to use a delay counter loop, using a       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                  common value that would work over a wide range of core      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                  frequencies.                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                  That value selected is 1800. See table below:               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                  ==========================================================  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                  Core Freq(MHz)      MIP         RESUME Signal Period (ms)   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                  ==========================================================  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                      48              12          1.05                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                       4              1           12.6                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                  ==========================================================  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                  * These timing could be incorrect when using code           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                    optimization or extended instruction mode,                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                    or when having other interrupts enabled.                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                    Make sure to verify using the MPLAB SIM's Stopwatch       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                    and verify the actual signal on an oscilloscope.          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *******************************************************************/           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           void USBCBSendResume(void)                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           {                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               static WORD delay_count;                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               //First verify that the host has armed us to perform remote wakeup.         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               //It does this by sending a SET_FEATURE request to enable remote wakeup,    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               //usually just before the host goes to standby mode (note: it will only     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               //send this SET_FEATURE request if the configuration descriptor declares    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               //the device as remote wakeup capable, AND, if the feature is enabled       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               //on the host (ex: on Windows based hosts, in the device manager            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               //properties page for the USB device, power management tab, the             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               //"Allow this device to bring the computer out of standby." checkbox        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               //should be checked).                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
00223c   0100     MOVLB     0x0                if(USBGetRemoteWakeupStatus() == TRUE)                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
00223e   057f     DECF      0x7f,0x0,0x1                                                                                    
002240   e120     BNZ       0x2282                                                                                          
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   //Verify that the USB bus is in fact suspended, before we send          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   //remote wakeup signalling.                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002242   0100     MOVLB     0x0                    if(USBIsBusSuspended() == TRUE)                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002244   0580     DECF      0x80,0x0,0x1                                                                                    
002246   e11d     BNZ       0x2282                                                                                          
                                                   {                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002248   9aa0     BCF       0xa0,0x5,0x0               USBMaskInterrupts();                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       //Clock switch to settings consistent with normal USB operation.    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
00224a   dfe8     RCALL     0x221c                     USBCBWakeFromSuspend();                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
00224c   926d     BCF       0x6d,0x1,0x0               USBSuspendControl = 0;                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
00224e   0100     MOVLB     0x0                        USBBusIsSuspended = FALSE;  //So we don't execute this code again,  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002250   6b80     CLRF      0x80,0x1                                                                                        
                                                                                   //until a new suspend condition is detected. /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       //Section 7.1.7.7 of the USB 2.0 specifications indicates a USB     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       //device must continuously see 5ms+ of idle on the bus, before it sends /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       //remote wakeup signalling.  One way to be certain that this parameter /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       //gets met, is to add a 2ms+ blocking delay here (2ms plus at       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       //least 3ms from bus idle to USBIsBusSuspended() == TRUE, yeilds    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       //5ms+ total delay since start of idle).                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002252   0100     MOVLB     0x0                        delay_count = 3600U;                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002254   0e10     MOVLW     0x10                                                                                            
002256   6fa1     MOVWF     0xa1,0x1                                                                                        
002258   0e0e     MOVLW     0xe                                                                                             
00225a   6fa2     MOVWF     0xa2,0x1                                                                                        
                                                       do                                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       {                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
00225c   07a1     DECF      0xa1,0x1,0x1                   delay_count--;                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
00225e   0e00     MOVLW     0x0                                                                                             
002260   5ba2     SUBWFB    0xa2,0x1,0x1                                                                                    
002262   51a1     MOVF      0xa1,0x0,0x1               }while(delay_count);                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002264   11a2     IORWF     0xa2,0x0,0x1                                                                                    
002266   e1fa     BNZ       0x225c                                                                                          
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       //Now drive the resume K-state signalling onto the USB bus.         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002268   846d     BSF       0x6d,0x2,0x0               USBResumeControl = 1;       // Start RESUME signaling               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
00226a   0e08     MOVLW     0x8                        delay_count = 1800U;        // Set RESUME line for 1-13 ms          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
00226c   6fa1     MOVWF     0xa1,0x1                                                                                        
00226e   0e07     MOVLW     0x7                                                                                             
002270   6fa2     MOVWF     0xa2,0x1                                                                                        
                                                       do                                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       {                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002272   07a1     DECF      0xa1,0x1,0x1                   delay_count--;                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002274   0e00     MOVLW     0x0                                                                                             
002276   5ba2     SUBWFB    0xa2,0x1,0x1                                                                                    
002278   51a1     MOVF      0xa1,0x0,0x1               }while(delay_count);                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
00227a   11a2     IORWF     0xa2,0x0,0x1                                                                                    
00227c   e1fa     BNZ       0x2272                                                                                          
00227e   946d     BCF       0x6d,0x2,0x0               USBResumeControl = 0;       //Finished driving resume signalling    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002280   8aa0     BSF       0xa0,0x5,0x0               USBUnmaskInterrupts();                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   }                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               }                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002282   0012     RETURN    0x0            }                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           /*******************************************************************            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Function:        BOOL USER_USB_CALLBACK_EVENT_HANDLER(                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                        USB_EVENT event, void *pdata, WORD size)              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * PreCondition:    None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Input:           USB_EVENT event - the type of event                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                  void *pdata - pointer to the event data                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                  WORD size - size of the event data                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Output:          None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Side Effects:    None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Overview:        This function is called from the USB stack to               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                  notify a user application that a USB event                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                  occured.  This callback is in interrupt context             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                  when the USB_INTERRUPT option is selected.                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            * Note:            None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                            *******************************************************************/           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002284   d8bc     RCALL     0x23fe         BOOL USER_USB_CALLBACK_EVENT_HANDLER(USB_EVENT event, void *pdata, WORD size)   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           {                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002286   0efd     MOVLW     0xfd               switch(event)                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002288   cfdb     MOVFF     0xfdb,0x6                                                                                       
00228a   f006                                                                                                               
00228c   0efe     MOVLW     0xfe                                                                                            
00228e   cfdb     MOVFF     0xfdb,0x7                                                                                       
002290   f007                                                                                                               
002292   0e05     MOVLW     0x5                                                                                             
002294   1806     XORWF     0x6,0x0,0x0                                                                                     
002296   e101     BNZ       0x229a                                                                                          
002298   5007     MOVF      0x7,0x0,0x0                                                                                     
00229a   e036     BZ        0x2308                                                                                          
00229c   68e8     SETF      0xe8,0x0                                                                                        
00229e   1806     XORWF     0x6,0x0,0x0                                                                                     
0022a0   e102     BNZ       0x22a6                                                                                          
0022a2   0e7f     MOVLW     0x7f                                                                                            
0022a4   1807     XORWF     0x7,0x0,0x0                                                                                     
0022a6   e02f     BZ        0x2306                                                                                          
0022a8   0e03     MOVLW     0x3                                                                                             
0022aa   1806     XORWF     0x6,0x0,0x0                                                                                     
0022ac   e101     BNZ       0x22b0                                                                                          
0022ae   5007     MOVF      0x7,0x0,0x0                                                                                     
0022b0   e028     BZ        0x2302                                                                                          
0022b2   0e02     MOVLW     0x2                                                                                             
0022b4   1806     XORWF     0x6,0x0,0x0                                                                                     
0022b6   e101     BNZ       0x22ba                                                                                          
0022b8   5007     MOVF      0x7,0x0,0x0                                                                                     
0022ba   e021     BZ        0x22fe                                                                                          
0022bc   0e01     MOVLW     0x1                                                                                             
0022be   1806     XORWF     0x6,0x0,0x0                                                                                     
0022c0   e101     BNZ       0x22c4                                                                                          
0022c2   5007     MOVF      0x7,0x0,0x0                                                                                     
0022c4   e01a     BZ        0x22fa                                                                                          
0022c6   0e74     MOVLW     0x74                                                                                            
0022c8   1806     XORWF     0x6,0x0,0x0                                                                                     
0022ca   e101     BNZ       0x22ce                                                                                          
0022cc   5007     MOVF      0x7,0x0,0x0                                                                                     
0022ce   e013     BZ        0x22f6                                                                                          
0022d0   0e75     MOVLW     0x75                                                                                            
0022d2   1806     XORWF     0x6,0x0,0x0                                                                                     
0022d4   e101     BNZ       0x22d8                                                                                          
0022d6   5007     MOVF      0x7,0x0,0x0                                                                                     
0022d8   e00c     BZ        0x22f2                                                                                          
0022da   0e73     MOVLW     0x73                                                                                            
0022dc   1806     XORWF     0x6,0x0,0x0                                                                                     
0022de   e101     BNZ       0x22e2                                                                                          
0022e0   5007     MOVF      0x7,0x0,0x0                                                                                     
0022e2   e005     BZ        0x22ee                                                                                          
0022e4   0e72     MOVLW     0x72                                                                                            
0022e6   1806     XORWF     0x6,0x0,0x0                                                                                     
0022e8   e10f     BNZ       0x2308                                                                                          
0022ea   5007     MOVF      0x7,0x0,0x0                                                                                     
0022ec   d00d     BRA       0x2308                                                                                          
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   case EVENT_TRANSFER:                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       //Add application specific callback task or callback function here if desired. /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       break;                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   case EVENT_SOF:                                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
0022ee   df97     RCALL     0x221e                     USBCB_SOF_Handler();                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
0022f0   d00b     BRA       0x2308                     break;                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   case EVENT_SUSPEND:                                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
0022f2   df93     RCALL     0x221a                     USBCBSuspend();                                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
0022f4   d009     BRA       0x2308                     break;                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   case EVENT_RESUME:                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
0022f6   df92     RCALL     0x221c                     USBCBWakeFromSuspend();                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
0022f8   d007     BRA       0x2308                     break;                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   case EVENT_CONFIGURED:                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
0022fa   df96     RCALL     0x2228                     USBCBInitEP();                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
0022fc   d005     BRA       0x2308                     break;                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   case EVENT_SET_DESCRIPTOR:                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
0022fe   df93     RCALL     0x2226                     USBCBStdSetDscHandler();                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002300   d003     BRA       0x2308                     break;                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   case EVENT_EP0_REQUEST:                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002302   df8f     RCALL     0x2222                     USBCBCheckOtherReq();                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002304   d001     BRA       0x2308                     break;                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   case EVENT_BUS_ERROR:                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002306   df8c     RCALL     0x2220                     USBCBErrorHandler();                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       break;                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   case EVENT_TRANSFER_TERMINATED:                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       //Add application specific callback task or callback function here if desired. /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       //The EVENT_TRANSFER_TERMINATED event occurs when the host performs a CLEAR /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       //FEATURE (endpoint halt) request on an application endpoint which was  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       //previously armed (UOWN was = 1).  Here would be a good place to:  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       //1.  Determine which endpoint the transaction that just got terminated was  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       //      on, by checking the handle value in the *pdata.             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       //2.  Re-arm the endpoint if desired (typically would be the case for OUT  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       //      endpoints).                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       break;                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                   default:                                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                                       break;                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                               }                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
002308   0e01     MOVLW     0x1                return TRUE;                                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
00230a   52e5     MOVF      0xe5,0x1,0x0   }                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
00230c   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
00230e   ffd9                                                                                                               
002310   0012     RETURN    0x0                                                                                             
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           /** EOF main.c *************************************************/               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           #endif                                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/main.c
                                           /********************************************************************           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                            FileName:     	usb_descriptors.c                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                            Dependencies:	See INCLUDES section                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                            Processor:		PIC18 or PIC24 USB Microcontrollers                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                            Hardware:		The code is natively intended to be used on the following           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                            				hardware platforms: PICDEM� FS USB Demo Board,                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                            				PIC18F87J50 FS USB Plug-In Module, or                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                            				Explorer 16 + PIC24 USB PIM.  The firmware may be                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                            				modified for use on other USB platforms by editing the                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                            				HardwareProfile.h file.                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                            Complier:  	Microchip C18 (for PIC18) or C30 (for PIC24)                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                            Company:		Microchip Technology, Inc.                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                            Software License Agreement:                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                            The software supplied herewith by Microchip Technology Incorporated            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                            (the �Company�) for its PIC� Microcontroller is intended and             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                            supplied to you, the Company�s customer, for use solely and                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                            exclusively on Microchip PIC Microcontroller products. The                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                            software is owned by the Company and/or its supplier, and is                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                            protected under applicable copyright laws. All rights are reserved.            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                            Any use in violation of the foregoing restrictions may subject the             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                            user to criminal sanctions under applicable laws, as well as to                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                            civil liability for the breach of the terms and conditions of this             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                            license.                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                            THIS SOFTWARE IS PROVIDED IN AN �AS IS� CONDITION. NO WARRANTIES,          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                            WHETHER EXPRESS, IMPLIED OR STATUTORY, INCLUDING, BUT NOT LIMITED              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                            TO, IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                            PARTICULAR PURPOSE APPLY TO THIS SOFTWARE. THE COMPANY SHALL NOT,              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                            IN ANY CIRCUMSTANCES, BE LIABLE FOR SPECIAL, INCIDENTAL OR                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                            CONSEQUENTIAL DAMAGES, FOR ANY REASON WHATSOEVER.                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           *********************************************************************           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           -usb_descriptors.c-                                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           -------------------------------------------------------------------             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           Filling in the descriptor values in the usb_descriptors.c file:                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           -------------------------------------------------------------------             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           [Device Descriptors]                                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           The device descriptor is defined as a USB_DEVICE_DESCRIPTOR type.               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           This type is defined in usb_ch9.h  Each entry into this structure               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           needs to be the correct length for the data type of the entry.                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           [Configuration Descriptors]                                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           The configuration descriptor was changed in v2.x from a structure               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           to a BYTE array.  Given that the configuration is now a byte array              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           each byte of multi-byte fields must be listed individually.  This               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           means that for fields like the total size of the configuration where            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           the field is a 16-bit value "64,0," is the correct entry for a                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           configuration that is only 64 bytes long and not "64," which is one             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           too few bytes.                                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           The configuration attribute must always have the _DEFAULT                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           definition at the minimum. Additional options can be ORed                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           to the _DEFAULT attribute. Available options are _SELF and _RWU.                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           These definitions are defined in the usb_device.h file. The                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           _SELF tells the USB host that this device is self-powered. The                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           _RWU tells the USB host that this device supports Remote Wakeup.                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           [Endpoint Descriptors]                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           Like the configuration descriptor, the endpoint descriptors were                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           changed in v2.x of the stack from a structure to a BYTE array.  As              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           endpoint descriptors also has a field that are multi-byte entities,             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           please be sure to specify both bytes of the field.  For example, for            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           the endpoint size an endpoint that is 64 bytes needs to have the size           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           defined as "64,0," instead of "64,"                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           Take the following example:                                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               // Endpoint Descriptor //                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               0x07,                       //the size of this descriptor //                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               USB_DESCRIPTOR_ENDPOINT,    //Endpoint Descriptor                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               _EP02_IN,                   //EndpointAddress                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               _INT,                       //Attributes                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               0x08,0x00,                  //size (note: 2 bytes)                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               0x02,                       //Interval                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           The first two parameters are self-explanatory. They specify the                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           length of this endpoint descriptor (7) and the descriptor type.                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           The next parameter identifies the endpoint, the definitions are                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           defined in usb_device.h and has the following naming                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           convention:                                                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           _EP<##>_<dir>                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           where ## is the endpoint number and dir is the direction of                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           transfer. The dir has the value of either 'OUT' or 'IN'.                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           The next parameter identifies the type of the endpoint. Available               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           options are _BULK, _INT, _ISO, and _CTRL. The _CTRL is not                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           typically used because the default control transfer endpoint is                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           not defined in the USB descriptors. When _ISO option is used,                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           addition options can be ORed to _ISO. Example:                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           _ISO|_AD|_FE                                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           This describes the endpoint as an isochronous pipe with adaptive                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           and feedback attributes. See usb_device.h and the USB                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           specification for details. The next parameter defines the size of               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           the endpoint. The last parameter in the polling interval.                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           -------------------------------------------------------------------             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           Adding a USB String                                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           -------------------------------------------------------------------             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           A string descriptor array should have the following format:                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           rom struct{byte bLength;byte bDscType;word string[size];}sdxxx={                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           sizeof(sdxxx),DSC_STR,<text>};                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           The above structure provides a means for the C compiler to                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           calculate the length of string descriptor sdxxx, where xxx is the               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           index number. The first two bytes of the descriptor are descriptor              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           length and type. The rest <text> are string texts which must be                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           in the unicode format. The unicode format is achieved by declaring              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           each character as a word type. The whole text string is declared                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           as a word array with the number of characters equals to <size>.                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           <size> has to be manually counted and entered into the array                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           declaration. Let's study this through an example:                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           if the string is "USB" , then the string descriptor should be:                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           (Using index 02)                                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           rom struct{byte bLength;byte bDscType;word string[3];}sd002={                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           sizeof(sd002),DSC_STR,'U','S','B'};                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           A USB project may have multiple strings and the firmware supports               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           the management of multiple strings through a look-up table.                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           The look-up table is defined as:                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           rom const unsigned char *rom USB_SD_Ptr[]={&sd000,&sd001,&sd002};               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           The above declaration has 3 strings, sd000, sd001, and sd002.                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           Strings can be removed or added. sd000 is a specialized string                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           descriptor. It defines the language code, usually this is                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           US English (0x0409). The index of the string must match the index               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           position of the USB_SD_Ptr array, &sd000 must be in position                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           USB_SD_Ptr[0], &sd001 must be in position USB_SD_Ptr[1] and so on.              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           The look-up table USB_SD_Ptr is used by the get string handler                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           function.                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           -------------------------------------------------------------------             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           The look-up table scheme also applies to the configuration                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           descriptor. A USB device may have multiple configuration                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           descriptors, i.e. CFG01, CFG02, etc. To add a configuration                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           descriptor, user must implement a structure similar to CFG01.                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           The next step is to add the configuration descriptor name, i.e.                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           cfg01, cfg02,.., to the look-up table USB_CD_Ptr. USB_CD_Ptr[0]                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           is a dummy place holder since configuration 0 is the un-configured              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           state according to the definition in the USB specification.                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           ********************************************************************/           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           /*********************************************************************          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                            * Descriptor specific type definitions are defined in:                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                            * usb_device.h                                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                            * Configuration options are defined in:                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                            * usb_config.h                                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                            ********************************************************************/          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           #ifndef __USB_DESCRIPTORS_C                                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           #define __USB_DESCRIPTORS_C                                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           /** INCLUDES *******************************************************/           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           #include "./USB/usb.h"                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           #include "./USB/usb_function_hid.h"                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           /** CONSTANTS ******************************************************/           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           #if defined(__18CXX)                                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           #pragma romdata                                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           #endif                                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           /* Device Descriptor */                                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           ROM USB_DEVICE_DESCRIPTOR device_dsc=                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           {                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               0x12,    // Size of this descriptor in bytes                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               USB_DESCRIPTOR_DEVICE,                // DEVICE descriptor type             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               0x0200,                 // USB Spec Release Number in BCD format            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               0x00,                   // Class Code                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               0x00,                   // Subclass code                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               0x00,                   // Protocol code                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               USB_EP0_BUFF_SIZE,          // Max packet size for EP0, see usb_config.h    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               0x06E8,                 // Vendor ID                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               0x063F,                 // Product ID: Mouse in a circle fw demo            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               0x0002,                 // Device release number in BCD format              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               0x01,                   // Manufacturer string index                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               0x02,                   // Product string index                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               0x00,                   // Device serial number string index                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               0x01                    // Number of possible configurations                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           };                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           /* Configuration 1 Descriptor */                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           ROM BYTE configDescriptor1[]={                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               /* Configuration Descriptor */                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               0x09,//sizeof(USB_CFG_DSC),    // Size of this descriptor in bytes          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               USB_DESCRIPTOR_CONFIGURATION,                // CONFIGURATION descriptor type /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               0x29,0x00,            // Total length of data for this cfg                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               1,                      // Number of interfaces in this cfg                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               1,                      // Index value of this configuration                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               0,                      // Configuration string index                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               _DEFAULT | _SELF,               // Attributes, see usb_device.h             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               50,                     // Max power consumption (2X mA)                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           							                                                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               /* Interface Descriptor */                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               0x09,//sizeof(USB_INTF_DSC),   // Size of this descriptor in bytes          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               USB_DESCRIPTOR_INTERFACE,               // INTERFACE descriptor type        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               0,                      // Interface Number                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               0,                      // Alternate Setting Number                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               2,                      // Number of endpoints in this intf                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               HID_INTF,               // Class code                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               0,     // Subclass code                                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               0,     // Protocol code                                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               0,                      // Interface string index                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               /* HID Class-Specific Descriptor */                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               0x09,//sizeof(USB_HID_DSC)+3,    // Size of this descriptor in bytes        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               DSC_HID,                // HID descriptor type                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               0x11,0x01,                 // HID Spec Release Number in BCD format (1.11)  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               0x00,                   // Country Code (0x00 for Not supported)            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               HID_NUM_OF_DSC,         // Number of class descriptors, see usbcfg.h        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               DSC_RPT,                // Report descriptor type                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               HID_RPT01_SIZE,0x00,//sizeof(hid_rpt01),      // Size of the report descriptor /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               /* Endpoint Descriptor */                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               0x07,/*sizeof(USB_EP_DSC)*/                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               USB_DESCRIPTOR_ENDPOINT,    //Endpoint Descriptor                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               HID_EP | _EP_IN,                   //EndpointAddress                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               _INTERRUPT,                       //Attributes                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               0x40,0x00,                  //size                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               0x01,                        //Interval                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               /* Endpoint Descriptor */                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               0x07,/*sizeof(USB_EP_DSC)*/                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               USB_DESCRIPTOR_ENDPOINT,    //Endpoint Descriptor                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               HID_EP | _EP_OUT,                   //EndpointAddress                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               _INTERRUPT,                       //Attributes                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               0x40,0x00,                  //size                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               0x01                        //Interval                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           };                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           //Language code string descriptor                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           ROM struct{BYTE bLength;BYTE bDscType;WORD string[1];}sd000={                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           sizeof(sd000),USB_DESCRIPTOR_STRING,{0x0409                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           }};                                                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           //Manufacturer string descriptor                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           ROM struct{BYTE bLength;BYTE bDscType;WORD string[25];}sd001={                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           sizeof(sd001),USB_DESCRIPTOR_STRING,                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           {'M','i','c','r','o','c','h','i','p',' ',                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           'T','e','c','h','n','o','l','o','g','y',' ','I','n','c','.'                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           }};                                                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           //Product string descriptor                                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           ROM struct{BYTE bLength;BYTE bDscType;WORD string[22];}sd002={                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           sizeof(sd002),USB_DESCRIPTOR_STRING,                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           {'S','i','m','p','l','e',' ','H','I','D',' ',                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           'D','e','v','i','c','e',' ','D','e','m','o'                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           }};                                                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           //Class specific descriptor - HID                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           ROM struct{BYTE report[HID_RPT01_SIZE];}hid_rpt01={                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           {                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               0x06, 0x00, 0xFF,       // Usage Page = 0xFF00 (Vendor Defined Page 1)      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               0x09, 0x01,             // Usage (Vendor Usage 1)                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               0xA1, 0x01,             // Collection (Application)                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               0x19, 0x01,             //      Usage Minimum                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               0x29, 0x40,             //      Usage Maximum 	//64 input usages total (0x01 to 0x40) /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               0x15, 0x01,             //      Logical Minimum (data bytes in the report may have minimum value = 0x00) /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               0x25, 0x40,      	  	//      Logical Maximum (data bytes in the report may have maximum value = 0x00FF = unsigned 255) /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               0x75, 0x08,             //      Report Size: 8-bit field size               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               0x95, 0x40,             //      Report Count: Make sixty-four 8-bit fields (the next time the parser hits an "Input", "Output", or "Feature" item) /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               0x81, 0x00,             //      Input (Data, Array, Abs): Instantiates input packet fields based on the above report size, count, logical min/max, and usage. /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               0x19, 0x01,             //      Usage Minimum                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               0x29, 0x40,             //      Usage Maximum 	//64 output usages total (0x01 to 0x40) /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               0x91, 0x00,             //      Output (Data, Array, Abs): Instantiates output packet fields.  Uses same report size and count as "Input" fields, since nothing new/different was specified to the parser since the "Input" item. /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               0xC0}                   // End Collection                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           };                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           //Array of configuration descriptors                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           ROM BYTE *ROM USB_CD_Ptr[]=                                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           {                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               (ROM BYTE *ROM)&configDescriptor1                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           };                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           //Array of string descriptors                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           ROM BYTE *ROM USB_SD_Ptr[]=                                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           {                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               (ROM BYTE *ROM)&sd000,                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               (ROM BYTE *ROM)&sd001,                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                               (ROM BYTE *ROM)&sd002                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           };                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           /** EOF usb_descriptors.c ***************************************************/  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           #endif                                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/usb_descriptors.c
                                           /********************************************************************           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                             File Information:                                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               FileName:     	usb_function_hid.c                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               Dependencies:   See INCLUDES section                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               Processor:      PIC18 or PIC24 USB Microcontrollers                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               Hardware:       The code is natively intended to be used on the following   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               				hardware platforms: PICDEM FS USB Demo Board,                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               				PIC18F87J50 FS USB Plug-In Module, or                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               				Explorer 16 + PIC24 USB PIM.  The firmware may be                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               				modified for use on other USB platforms by editing the                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               				HardwareProfile.h file.                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               Complier:  	    Microchip C18 (for PIC18) or C30 (for PIC24)                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               Company:        Microchip Technology, Inc.                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               Software License Agreement:                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               The software supplied herewith by Microchip Technology Incorporated         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               (the Company) for its PIC Microcontroller is intended and                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               supplied to you, the Companys customer, for use solely and                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               exclusively on Microchip PIC Microcontroller products. The                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               software is owned by the Company and/or its supplier, and is                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               protected under applicable copyright laws. All rights are reserved.         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               Any use in violation of the foregoing restrictions may subject the          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               user to criminal sanctions under applicable laws, as well as to             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               civil liability for the breach of the terms and conditions of this          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               license.                                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               THIS SOFTWARE IS PROVIDED IN AN AS IS CONDITION. NO WARRANTIES,           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               WHETHER EXPRESS, IMPLIED OR STATUTORY, INCLUDING, BUT NOT LIMITED           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               TO, IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               PARTICULAR PURPOSE APPLY TO THIS SOFTWARE. THE COMPANY SHALL NOT,           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               IN ANY CIRCUMSTANCES, BE LIABLE FOR SPECIAL, INCIDENTAL OR                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               CONSEQUENTIAL DAMAGES, FOR ANY REASON WHATSOEVER.                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                             File Description:                                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               Change History:                                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                Rev   Date         Description                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                1.0   11/19/2004   Initial release                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                2.1   02/26/2007   Updated for simplicity and to use common                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                                   coding style                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                             Summary:                                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               This file contains all of functions, macros, definitions, variables,        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               datatypes, etc. that are required for usage with the HID function           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               driver. This file should be included in projects that use the HID           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               \function driver.                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               This file is located in the "\<Install Directory\>\\Microchip\\USB\\HID     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               Device Driver" directory.                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                             Description:                                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               USB HID Function Driver File                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               This file contains all of functions, macros, definitions, variables,        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               datatypes, etc. that are required for usage with the HID function           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               driver. This file should be included in projects that use the HID           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               \function driver.                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               This file is located in the "\<Install Directory\>\\Microchip\\USB\\HID     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               Device Driver" directory.                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               When including this file in a new project, this file can either be          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               referenced from the directory in which it was installed or copied           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               directly into the user application folder. If the first method is           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               chosen to keep the file located in the folder in which it is installed      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               then include paths need to be added so that the library and the             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               application both know where to reference each others files. If the          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               application folder is located in the same folder as the Microchip           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               folder (like the current demo folders), then the following include          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               paths need to be added to the application's project:                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               ..\\Include                                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               ..\\..\\Include                                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               ..\\..\\Microchip\\Include                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               ..\\..\\\<Application Folder\>                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               ..\\..\\..\\\<Application Folder\>                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               If a different directory structure is used, modify the paths as             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               required. An example using absolute paths instead of relative paths         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               would be the following:                                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               C:\\Microchip Solutions\\Microchip\\Include                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               C:\\Microchip Solutions\\My Demo Application                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                           *******************************************************************/            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                           #ifndef USB_FUNCTION_HID_C                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                           #define USB_FUNCTION_HID_C                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                           /** INCLUDES *******************************************************/           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                           #include "GenericTypeDefs.h"                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                           #include "Compiler.h"                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                           #include "./USB/usb.h"                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                           #include "./USB/usb_function_hid.h"                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                           /** VARIABLES ******************************************************/           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                           #if defined(COMPILER_MPLAB_C18)                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                           	#pragma udata                                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                           #endif                                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                           BYTE idle_rate;                                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                           BYTE active_protocol;   // [0] Boot Protocol [1] Report Protocol                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                           /** EXTERNAL PROTOTYPES ********************************************/           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                           #if defined USER_GET_REPORT_HANDLER                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               void USER_GET_REPORT_HANDLER(void);                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                           #endif                                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                           #if defined USER_SET_REPORT_HANDLER                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               void USER_SET_REPORT_HANDLER(void);                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                           #endif                                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                           /** Section: DECLARATIONS ***************************************************/  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                           #pragma code                                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                           /** Section: CLASS SPECIFIC REQUESTS ****************************************/  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                           /********************************************************************           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                           	Function:                                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                           		void USBCheckHIDRequest(void)                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                           		                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                            	Summary:                                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                            		This routine handles HID specific request that happen on EP0.                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                   This function should be called from the USBCBCheckOtherReq() call back  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                   function whenever implementing a HID device.                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                            	Description:                                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                            		This routine handles HID specific request that happen on EP0.  These         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                   include, but are not limited to, requests for the HID report            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                   descriptors.  This function should be called from the                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                   USBCBCheckOtherReq() call back function whenever using an HID device.	  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                   Typical Usage:                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                   <code>                                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                   void USBCBCheckOtherReq(void)                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                   {                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                       //Since the stack didn't handle the request I need to check         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                       //  my class drivers to see if it is for them                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                       USBCheckHIDRequest();                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                   }                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                   </code>                                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                           		                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                           	PreCondition:                                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                           		None                                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                           		                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                           	Parameters:                                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                           		None                                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                           		                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                           	Return Values:                                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                           		None                                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                           		                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                           	Remarks:                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                           		None                                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                            *******************************************************************/           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                           void USBCheckHIDRequest(void)                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                           {                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
002408   0104     MOVLB     0x4                if(SetupPkt.Recipient != USB_SETUP_RECIPIENT_INTERFACE_BITFIELD) return;    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
00240a   5120     MOVF      0x20,0x0,0x1                                                                                    
00240c   0b1f     ANDLW     0x1f                                                                                            
00240e   0801     SUBLW     0x1                                                                                             
002410   e001     BZ        0x2414                                                                                          
002412   0012     RETURN    0x0                                                                                             
002414   5124     MOVF      0x24,0x0,0x1       if(SetupPkt.bIntfID != HID_INTF_ID) return;                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
002416   e001     BZ        0x241a                                                                                          
002418   0012     RETURN    0x0                                                                                             
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               /*                                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                * There are two standard requests that hid.c may support.                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                * 1. GET_DSC(DSC_HID,DSC_RPT,DSC_PHY);                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                * 2. SET_DSC(DSC_HID,DSC_RPT,DSC_PHY);                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                */                                                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
00241a   0e06     MOVLW     0x6                if(SetupPkt.bRequest == USB_REQUEST_GET_DESCRIPTOR)                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
00241c   5d21     SUBWF     0x21,0x0,0x1                                                                                    
00241e   e11e     BNZ       0x245c                                                                                          
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
002420   5123     MOVF      0x23,0x0,0x1           switch(SetupPkt.bDescriptorType)                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
002422   0a23     XORLW     0x23                                                                                            
002424   e01b     BZ        0x245c                                                                                          
002426   0a01     XORLW     0x1                                                                                             
002428   e00c     BZ        0x2442                                                                                          
00242a   0a03     XORLW     0x3                                                                                             
00242c   e117     BNZ       0x245c                                                                                          
                                                   {                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                       case DSC_HID: //HID Descriptor                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
00242e   0100     MOVLB     0x0                            if(USBActiveConfiguration == 1)                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
002430   0561     DECF      0x61,0x0,0x1                                                                                    
002432   e114     BNZ       0x245c                                                                                          
                                                           {                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
002434   0100     MOVLB     0x0                                USBEP0SendROMPtr(                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
002436   0ef4     MOVLW     0xf4                                                                                            
002438   6f71     MOVWF     0x71,0x1                                                                                        
00243a   0e24     MOVLW     0x24                                                                                            
00243c   6f72     MOVWF     0x72,0x1                                                                                        
00243e   0e09     MOVLW     0x9                                    (ROM BYTE*)&configDescriptor1 + 18,		//18 is a magic number.  It is the offset from start of the configuration descriptor to the start of the HID descriptor. /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                                   sizeof(USB_HID_DSC)+3,                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
002440   d009     BRA       0x2454                                 USB_EP0_INCLUDE_ZERO);                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                           }                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
002442   0100     MOVLB     0x0                            break;                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
002444   0561     DECF      0x61,0x0,0x1                                                                                    
002446   e10a     BNZ       0x245c                                                                                          
                                                       case DSC_RPT:  //Report Descriptor                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
002448   0100     MOVLB     0x0                            if(USBActiveConfiguration == 1)                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
00244a   0e71     MOVLW     0x71                                                                                            
00244c   6f71     MOVWF     0x71,0x1                                                                                        
00244e   0e25     MOVLW     0x25                                                                                            
002450   6f72     MOVWF     0x72,0x1                                                                                        
002452   0e1c     MOVLW     0x1c                                                                                            
002454   6f74     MOVWF     0x74,0x1                                                                                        
002456   6b75     CLRF      0x75,0x1                                                                                        
002458   0ec0     MOVLW     0xc0                           {                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
00245a   6f73     MOVWF     0x73,0x1                                                                                        
                                                               USBEP0SendROMPtr(                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                                   (ROM BYTE*)&hid_rpt01,                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                                   sizeof(hid_rpt01),     //See usbcfg.h                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                                   USB_EP0_INCLUDE_ZERO);                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                           }                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                           break;                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                       case DSC_PHY:  //Physical Descriptor                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                           				//Note: The below placeholder code is commented out.  HID Physical Descriptors are optional and are not used /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                           				//in many types of HID applications.  If an application does not have a physical descriptor, /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                           				//then the device should return STALL in response to this request (stack will do this automatically /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                           				//if no-one claims ownership of the control transfer).                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                           				//If an application does implement a physical descriptor, then make sure to declare /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                           				//hid_phy01 (rom structure containing the descriptor data), and hid_phy01 (the size of the descriptors in bytes), /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                           				//and then uncomment the below code.                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                           //if(USBActiveConfiguration == 1)                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                           //{                                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                           //    USBEP0SendROMPtr((ROM BYTE*)&hid_phy01, sizeof(hid_phy01), USB_EP0_INCLUDE_ZERO); /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                           //}                                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
00245c   0104     MOVLB     0x4                            break;                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
00245e   5120     MOVF      0x20,0x0,0x1                                                                                    
002460   0b60     ANDLW     0x60                                                                                            
002462   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
002464   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
002466   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
002468   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
00246a   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
00246c   0801     SUBLW     0x1                                                                                             
00246e   e001     BZ        0x2472                                                                                          
                                                   }//end switch(SetupPkt.bDescriptorType)                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
002470   0012     RETURN    0x0                }//end if(SetupPkt.bRequest == GET_DSC)                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               if(SetupPkt.RequestType != USB_SETUP_TYPE_CLASS_BITFIELD)                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
002472   5121     MOVF      0x21,0x0,0x1       {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
002474   0a0b     XORLW     0xb                                                                                             
002476   e026     BZ        0x24c4                                                                                          
002478   0a08     XORLW     0x8                                                                                             
00247a   e019     BZ        0x24ae                                                                                          
00247c   0a09     XORLW     0x9                                                                                             
00247e   e011     BZ        0x24a2                                                                                          
002480   0a08     XORLW     0x8                                                                                             
002482   e005     BZ        0x248e                                                                                          
002484   0a0b     XORLW     0xb                                                                                             
002486   e023     BZ        0x24ce                                                                                          
002488   0a08     XORLW     0x8                                                                                             
00248a   e021     BZ        0x24ce                                                                                          
00248c   0012     RETURN    0x0                                                                                             
                                                   return;                                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               }                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               switch(SetupPkt.bRequest)                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                   case GET_REPORT:                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                       #if defined USER_GET_REPORT_HANDLER                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                           USER_GET_REPORT_HANDLER();                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                       #endif                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                       break;                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                   case SET_REPORT:                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                       #if defined USER_SET_REPORT_HANDLER                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                           USER_SET_REPORT_HANDLER();                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                       #endif                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                       break;                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                   case GET_IDLE:                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
00248e   0100     MOVLB     0x0                        USBEP0SendRAMPtr(                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
002490   0e9f     MOVLW     0x9f                                                                                            
002492   6f71     MOVWF     0x71,0x1                                                                                        
002494   0e00     MOVLW     0x0                                                                                             
002496   6f72     MOVWF     0x72,0x1                                                                                        
002498   0e01     MOVLW     0x1                                                                                             
00249a   6f74     MOVWF     0x74,0x1                                                                                        
00249c   6b75     CLRF      0x75,0x1                                                                                        
00249e   0ec1     MOVLW     0xc1                                                                                            
0024a0   d00f     BRA       0x24c0                         (BYTE*)&idle_rate,                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                           1,                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
0024a2   0100     MOVLB     0x0                            USB_EP0_INCLUDE_ZERO);                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
0024a4   0e80     MOVLW     0x80                                                                                            
0024a6   6f73     MOVWF     0x73,0x1                                                                                        
0024a8   c423     MOVFF     0x423,0x9f                 break;                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
0024aa   f09f                                                                                                               
0024ac   0012     RETURN    0x0                    case SET_IDLE:                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                       USBEP0Transmit(USB_EP0_NO_DATA);                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
0024ae   0100     MOVLB     0x0                        idle_rate = SetupPkt.W_Value.byte.HB;                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
0024b0   0ea0     MOVLW     0xa0                                                                                            
0024b2   6f71     MOVWF     0x71,0x1                                                                                        
0024b4   0e00     MOVLW     0x0                                                                                             
0024b6   6f72     MOVWF     0x72,0x1                                                                                        
0024b8   0e01     MOVLW     0x1                                                                                             
0024ba   6f74     MOVWF     0x74,0x1                                                                                        
0024bc   6b75     CLRF      0x75,0x1                                                                                        
0024be   0e81     MOVLW     0x81                                                                                            
0024c0   6f73     MOVWF     0x73,0x1                                                                                        
0024c2   0012     RETURN    0x0                        break;                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                   case GET_PROTOCOL:                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
0024c4   0100     MOVLB     0x0                        USBEP0SendRAMPtr(                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
0024c6   0e80     MOVLW     0x80                                                                                            
0024c8   6f73     MOVWF     0x73,0x1                                                                                        
0024ca   c422     MOVFF     0x422,0xa0                     (BYTE*)&active_protocol,                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
0024cc   f0a0                                                                                                               
                                                           1,                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                           USB_EP0_NO_OPTIONS);                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                       break;                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
0024ce   0012     RETURN    0x0                    case SET_PROTOCOL:                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                       USBEP0Transmit(USB_EP0_NO_DATA);                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                       active_protocol = SetupPkt.W_Value.byte.LB;                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                       break;                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                               }//end switch(SetupPkt.bRequest)                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                           }//end USBCheckHIDRequest                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                           /** USER API *******************************************************/           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                           #endif                                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                           /** EOF usb_function_hid.c ******************************************************/ /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/HID-Device-Driver/usb_function_hid.c
                                           /********************************************************************           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                             File Information:                                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               FileName:     	usb_device.c                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               Dependencies:	See INCLUDES section                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               Processor:		PIC18,PIC24, PIC32 and dsPIC33E USB Microcontrollers            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               Hardware:		This code is natively intended to be used on Mirochip USB        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                               demo boards.  See www.microchip.com/usb (Software & Tools   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                               section) for list of available platforms.  The firmware may  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                               be modified for use on other USB platforms by editing the   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               				HardwareProfile.h and HardwareProfile - [platform].h files.             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               Complier:  	    Microchip C18 (for PIC18),C30 (for PIC24 and dsPIC33E)      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                               and C32 (for PIC32)                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               Company:		Microchip Technology, Inc.                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               Software License Agreement:                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               The software supplied herewith by Microchip Technology Incorporated         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               (the "Company") for its PIC(r) Microcontroller is intended and              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               supplied to you, the Company's customer, for use solely and                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               exclusively on Microchip PIC Microcontroller products. The                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               software is owned by the Company and/or its supplier, and is                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               protected under applicable copyright laws. All rights are reserved.         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               Any use in violation of the foregoing restrictions may subject the          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               user to criminal sanctions under applicable laws, as well as to             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               civil liability for the breach of the terms and conditions of this          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               license.                                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               THIS SOFTWARE IS PROVIDED IN AN "AS IS" CONDITION. NO WARRANTIES,           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               WHETHER EXPRESS, IMPLIED OR STATUTORY, INCLUDING, BUT NOT LIMITED           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               TO, IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               PARTICULAR PURPOSE APPLY TO THIS SOFTWARE. THE COMPANY SHALL NOT,           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               IN ANY CIRCUMSTANCES, BE LIABLE FOR SPECIAL, INCIDENTAL OR                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               CONSEQUENTIAL DAMAGES, FOR ANY REASON WHATSOEVER.                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                             Summary:                                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               This file contains functions, macros, definitions, variables,               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               datatypes, etc. that are required for usage with the MCHPFSUSB device       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               stack. This file should be included in projects that use the device stack.  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               This file is located in the "\<Install Directory\>\\Microchip\\USB"         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               directory.                                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                             Description:                                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               USB Device Stack File                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               This file contains functions, macros, definitions, variables,               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               datatypes, etc. that are required for usage with the MCHPFSUSB device       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               stack. This file should be included in projects that use the device stack.  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               This file is located in the "\<Install Directory\>\\Microchip\\USB"         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               directory.                                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               When including this file in a new project, this file can either be          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               referenced from the directory in which it was installed or copied           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               directly into the user application folder. If the first method is           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               chosen to keep the file located in the folder in which it is installed      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               then include paths need to be added so that the library and the             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               application both know where to reference each others files. If the          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               application folder is located in the same folder as the Microchip           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               folder (like the current demo folders), then the following include          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               paths need to be added to the application's project:                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               .                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               ..\\..\\MicrochipInclude                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               If a different directory structure is used, modify the paths as             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               required. An example using absolute paths instead of relative paths         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               would be the following:                                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               C:\\Microchip Solutions\\Microchip\\Include                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               C:\\Microchip Solutions\\My Demo Application                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           ********************************************************************            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            File Description:                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            Change History:                                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                             Rev    Description                                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                             ----   -----------                                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                             2.6    Added USBCancelIO() function.  Moved and some stack                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    defintions to be more consistant with the host stack.                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                             2.6a   Fixed issue where a SET_CONFIGURATION received could cause             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    inability to transmit on an endpoint if using ping-pong                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    and an odd number of packets had been sent on that endpoint            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                             2.7    Fixed error where the USB error interrupt flag was not getting         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    cleared properly for PIC32 resulting in lots of extra error interrupts. /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    http://www.microchip.com/forums/tm.aspx?m=479085                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    Fixed issue with dual role mode when device run in polling             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    mode.  Interrupts were remaining enabled after the host mode           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    operation was complete.  This was incompatible with polling            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    mode operation.                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    Changed how the bus sensing works.  In previous revisions it           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    was impossible to use the USBDeviceDetach to detach from the           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    bus if the bus voltage was still present.  This is now                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    possible.  It was also possible to move the device to the              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    ATTACHED state in interrupt mode even if the bus voltage               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    wasn't available.  This is now prohibited unless VBUS is               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    present.                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    Improved error case handling when the host sends more OUT              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    bytes in a control transfer than the firmware was expecting            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    to receive (based on the size parameter when calling USBEP0Receive()). /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    In the USBStdSetCfgHandler(), modified the code so the USBDeviceState  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    variable only gets updated to the CONFIGURED_STATE at the end of the   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    function.                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                             2.7a   Update to support the PIC18F47J53 A1 and later revision                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    devices.                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    Fixed an error on 16-bit and 32-bit processors where a word access     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    could be performed on a byte pointer resulting in possible address     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    errors with odd aligned pointers.                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                             2.8    Several changes to the way control transfers get processed,            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    so as to support the ability to allow application/class specific       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    handler code to defer the status stage.                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    Implemented USBCtrlEPAllowStatusStage() API function.                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    Implemented USBDeferStatusStage() API function (macro).                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    These changes also greatly relax the USBDeviceTasks() calling frequency  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    requirement, while allowing USB class handlers more flexibility.       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    Also implemented the following API functions and macros, for delaying  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    the data stage of a control transfer (with data stage):                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    USBDeferINDataStage()                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    USBDeferOUTDataStage()                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    USBOUTDataStageDeferred()                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    USBINDataStageDeferred()                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    USBCtrlEPAllowDataStage()                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    Fixed USB reset event handler issue, where the USB stack would         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    re-initialize global interrupt settings in the interrupt context, on   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    PIC18 devices with the stack operated in USB_INTERRUPT mode.           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    Fixed handling of SET/CLEAR FEATURE (endpoint halt) host requests.     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    Previous implementation would not always initialize endpoints correctly  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    to DATA0 DTS state after a clear feature endpoint halt request, for    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    all ping pong mode and usage scenarios.                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                              2.9   Fixed an issue with STALL handling behavior on non-EP0 endpoints, for  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    PIC24 and PIC32 devices.                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                              		                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                              		 Fixed an issue where the ep_data_in[]/ep_data_out[] flags weren't         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                              		 getting re-initialized coincident with the hardware ping pong pointer     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                              		 reset during set configuration events.                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                              		                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                              		 Implemented USBGetNextHandle() API function (actually a macro, defined    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                              		 in usb_device.h).                                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           ********************************************************************/           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           /*---------------------------------------------------------------------------------- /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           The USBDeviceTasks() function is responsible for detecting and processing various /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           USB bus events and host requests, such as those required for USB enumeration, when /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           the USB cable is first attached to the host.  This function is the main dispatcher /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           routine for the USB stack.                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           Additional API functions and macros are also provided by the USB stack, which can be  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           used to send/receive USB data to/from the host, among other things.  A full list  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           of the available implemented functions/macros are provided in the               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           "MCHPFSUSB Library Help".  For normal installations of the MCHPFSUSB Framework, /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           the USB API documentation can be found from:                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           Start menu --> (All Programs) --> Microchip --> MCHPFSUSB vX.x --> Documents --> MCHPFSUSB Library Help /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           Once the help file is opened, the API functions/macros are described in the following section: /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           Library Interface (API) --> Device/Peripheral --> Device Stack --> Interface Routines /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           Additional API functions may also be provided depending upon the specific USB device class /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           implemented, and these functions are also documented in the MCHPFSUSB Library Help. /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           If the USB stack is operated in "USB_POLLING" mode (user selectable option in   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           usb_config.h), then the application firmware is reponsible for calling the      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           USBDeviceTasks() function periodically.  If the USB stack is operated in the    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           "USB_INTERRUPT" mode, then the application firmware does not have to directly   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           call USBDeviceTasks(), as it will execute only when necessary as an interrupt handler. /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           In order to properly operate a USB connection, and to correctly process and respond /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           to control transfers in the maximum time allowed by the USB specifications, the /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           USBDeviceTasks() function/interrupt handler must be allowed to execute in a timely /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           fashion.                                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           When the USB module is enabled, the USB cable is attached to the host, the USB bus /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           is not in the suspend state, and the USB stack is operated in the USB_POLLING mode  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           with ping pong buffering enabled (at least) on EP0 OUT,  then the maximum allowed  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           time between calls to the USBDeviceTasks() function needs to be:                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           The faster of:                                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           1.  Once per ~1.8ms, when USBDeviceState == ADR_PENDING_STATE                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           2.  Once per ~9.8ms, when USBDeviceState == (any other value other than ADR_PENDING_STATE) /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           3.  Fast enough to ensure the USTAT FIFO can never get full.  See additional explanation below. /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           Additional details of the above timing limits are provided:                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           Timing item #1: This parameter originates from the 2ms set address "recovery interval" /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           specification dictated by section "9.2.6.3 Set Address Processing" of the official  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           USB 2.0 specifications.                                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           Timing item #2: This parameter originates from several "10 ms" criteria in the  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           USB 2.0 specifications.  For example, reset recovery intervals, resume recovery  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           intervals, suspend to actual current reduction, etc. have timing maximums of 10ms. /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           Timing item #3: This is not a fixed X.X ms parameter, but depends on the        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           transaction rate implemented by the application.  The USBDeviceTasks() function is /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           responsible for popping entries off the USTAT FIFO.  If the FIFO ever gets full, /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           then no further USB transactions are allowed to occur, until the firmware pops entries /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           off the FIFO.  In practice, this means the firmware should call USBDeviceTasks() at /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           a rate at least as fast as once every three times the USBTransferOnePacket() function /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           is called.  This ensures that the rate that USTAT FIFO entries are getting added to /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           the FIFO is lower than the rate that the entries are getting popped off the FIFO (the /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           USBDeviceTasks() function will pop up to 4 entries per call), which is a        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           necessary criteria to ensure the USTAT FIFO entries don't "pile up."  Calling   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           USBDeviceTasks() even more often, ex: >=1 to 1 ratio of USBDeviceTasks() to     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           USBTransferOnePacket(), adds further protection against the USTAT FIFO getting full, /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           and is therefore recommended.                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           When the USB stack is operated in USB_INTERRUPT mode, then the above timing     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           parameters should be interpreted to be the longest allowed time that the USB    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           interrupts may be masked/disabled for, before re-enabling the USB interrupts.   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           Calling USBDeviceTasks() (or allowing USBDeviceTasks() to be called) more often  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           will still have potential USB data rate speed and processing latency benefits.  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           It is also beneficial to call USBDeviceTasks() more often than theoretically    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           required, since it has been observed that not all host/drivers/bios/hubs are    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           100% consistently compliant with all timing parameters of the USB 2.0 specifications. /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           Therefore, in a USB_POLLING based application, it is still suggested to call    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           USBDeviceTasks() as often as there are free CPU cycles.  This ensures best      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           performance, along with best possible compatibility with all existing USB       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           hosts/hubs (both those that are compliant and [partially] non-compliant).       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           If ping pong buffering is not enabled on (at least) EP0 OUT, then it is required /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           to call (or allow to execute) USBDeviceTasks() much more frequently (ex: once   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           per 100us, or preferrably faster).  Therefore, in all applications, it is       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           normally recommended to select either the USB_PING_PONG__FULL_PING_PONG or      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           USB_PING_PONG__EP0_OUT_ONLY mode (user option in usb_config.h), as these modes  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           allow for much more relaxed timing requirements, and therefore greater application /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           firmware design flexibility.                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           //----------------------------------------------------------------------------------*/ /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           /** INCLUDES *******************************************************/           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           #include "./USB/usb.h"                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           #include "HardwareProfile.h"                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           #include "../USB/usb_device_local.h"                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           #if defined(USB_USE_MSD)                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               #include "./USB/usb_function_msd.h"                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           #endif                                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           #if !defined(USE_USB_BUS_SENSE_IO)                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               #undef USB_BUS_SENSE                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               #define USB_BUS_SENSE 1                                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           #endif                                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           /** Definitions ****************************************************/           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           /** VARIABLES ******************************************************/           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           #pragma udata                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           USB_VOLATILE USB_DEVICE_STATE USBDeviceState;                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           USB_VOLATILE BYTE USBActiveConfiguration;                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           USB_VOLATILE BYTE USBAlternateInterface[USB_MAX_NUM_INT];                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           volatile BDT_ENTRY *pBDTEntryEP0OutCurrent;                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           volatile BDT_ENTRY *pBDTEntryEP0OutNext;                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           volatile BDT_ENTRY *pBDTEntryOut[USB_MAX_EP_NUMBER+1];                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           volatile BDT_ENTRY *pBDTEntryIn[USB_MAX_EP_NUMBER+1];                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           USB_VOLATILE BYTE shortPacketStatus;                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           USB_VOLATILE BYTE controlTransferState;                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           USB_VOLATILE IN_PIPE inPipes[1];                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           USB_VOLATILE OUT_PIPE outPipes[1];                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           USB_VOLATILE BYTE *pDst;                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           USB_VOLATILE BOOL RemoteWakeup;                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           USB_VOLATILE BOOL USBBusIsSuspended;                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           USB_VOLATILE USTAT_FIELDS USTATcopy;                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           USB_VOLATILE BYTE endpoint_number;                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           USB_VOLATILE BOOL BothEP0OutUOWNsSet;                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           USB_VOLATILE EP_STATUS ep_data_in[USB_MAX_EP_NUMBER+1];                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           USB_VOLATILE EP_STATUS ep_data_out[USB_MAX_EP_NUMBER+1];                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           USB_VOLATILE BYTE USBStatusStageTimeoutCounter;                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           volatile BOOL USBDeferStatusStagePacket;                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           volatile BOOL USBStatusStageEnabledFlag1;                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           volatile BOOL USBStatusStageEnabledFlag2;                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           volatile BOOL USBDeferINDataStagePackets;                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           volatile BOOL USBDeferOUTDataStagePackets;                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           /** USB FIXED LOCATION VARIABLES ***********************************/           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           #if defined(__18CXX)                                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               #if defined(__18F14K50) || defined(__18F13K50) || defined(__18LF14K50) || defined(__18LF13K50) /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   #pragma udata USB_BDT=0x200     //See Linker Script, BDT in bank 2 on these devices - usb2:0x200-0x2FF(256-byte) /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               #elif defined(__18F47J53) || defined(__18F46J53) || defined(__18F27J53) || defined(__18F26J53) || defined(__18LF47J53) || defined(__18LF46J53) || defined(__18LF27J53) || defined(__18LF26J53) /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           		#pragma udata USB_BDT=0xD00		//BDT in Bank 13 on these devices                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               #else                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   #pragma udata USB_BDT=0x400     //All other PIC18 devices place the BDT in usb4:0x400-0x4FF(256-byte) /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           	#endif                                                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           #endif                                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           /********************************************************************           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Section A: Buffer Descriptor Table                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * - 256 bytes max.  Actual size depends on number of endpoints enabled and     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *   the ping pong buffering mode.                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * - USB_MAX_EP_NUMBER is defined in usb_config.h                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *******************************************************************/           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           #if (USB_PING_PONG_MODE == USB_PING_PONG__NO_PING_PONG)                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               volatile BDT_ENTRY BDT[(USB_MAX_EP_NUMBER + 1) * 2] __attribute__ ((aligned (512))); /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           #elif (USB_PING_PONG_MODE == USB_PING_PONG__EP0_OUT_ONLY)                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               volatile BDT_ENTRY BDT[((USB_MAX_EP_NUMBER + 1) * 2)+1] __attribute__ ((aligned (512))); /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           #elif (USB_PING_PONG_MODE == USB_PING_PONG__FULL_PING_PONG)                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               volatile BDT_ENTRY BDT[(USB_MAX_EP_NUMBER + 1) * 4] __attribute__ ((aligned (512))); /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           #elif (USB_PING_PONG_MODE == USB_PING_PONG__ALL_BUT_EP0)                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               volatile BDT_ENTRY BDT[((USB_MAX_EP_NUMBER + 1) * 4)-2] __attribute__ ((aligned (512))); /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           #else                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               #error "No ping pong mode defined."                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           #endif                                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           /********************************************************************           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Section B: EP0 Buffer Space                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *******************************************************************/           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           volatile CTRL_TRF_SETUP SetupPkt;           // 8-byte only                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           volatile BYTE CtrlTrfData[USB_EP0_BUFF_SIZE];                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           /********************************************************************           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Section C: non-EP0 Buffer Space                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *******************************************************************/           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           // Can provide compile time option to do software pingpong                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           #if defined(USB_USE_HID)                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               volatile unsigned char hid_report_out[HID_INT_OUT_EP_SIZE];                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               volatile unsigned char hid_report_in[HID_INT_IN_EP_SIZE];                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           #endif                                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           #if defined(USB_USE_MSD)                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           	//volatile far USB_MSD_CBW_CSW msd_cbw_csw;                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           	volatile USB_MSD_CBW msd_cbw;                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           	volatile USB_MSD_CSW msd_csw;                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           	//#pragma udata                                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           	#if defined(__18CXX)                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           		#pragma udata myMSD=MSD_BUFFER_ADDRESS                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           	#endif                                                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           	volatile char msd_buffer[512];                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           #endif                                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           #if defined(__18CXX)                                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           #pragma udata                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           #endif                                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           ////Depricated in v2.2 - will be removed in a future revision                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           #if !defined(USB_USER_DEVICE_DESCRIPTOR)                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //Device descriptor                                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               extern ROM USB_DEVICE_DESCRIPTOR device_dsc;                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           #else                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               USB_USER_DEVICE_DESCRIPTOR_INCLUDE;                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           #endif                                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           #if !defined(USB_USER_CONFIG_DESCRIPTOR)                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //Array of configuration descriptors                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               extern ROM BYTE *ROM USB_CD_Ptr[];                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           #else                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               USB_USER_CONFIG_DESCRIPTOR_INCLUDE;                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           #endif                                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           extern ROM BYTE *ROM USB_SD_Ptr[];                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           /** DECLARATIONS ***************************************************/           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           #pragma code                                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           /** Macros *********************************************************/           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           /** Function Prototypes ********************************************/           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           //External                                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           //This is the prototype for the required user event handler                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           BOOL USER_USB_CALLBACK_EVENT_HANDLER(USB_EVENT event, void *pdata, WORD size);  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           //Internal Functions                                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           static void USBCtrlEPService(void);                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           static void USBCtrlTrfSetupHandler(void);                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           static void USBCtrlTrfInHandler(void);                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           static void USBCheckStdRequest(void);                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           static void USBStdGetDscHandler(void);                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           static void USBCtrlEPServiceComplete(void);                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           static void USBCtrlTrfTxService(void);                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           static void USBCtrlTrfRxService(void);                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           static void USBStdSetCfgHandler(void);                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           static void USBStdGetStatusHandler(void);                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           static void USBStdFeatureReqHandler(void);                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           static void USBCtrlTrfOutHandler(void);                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           static void USBConfigureEndpoint(BYTE EPNum, BYTE direction);                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           static void USBWakeFromSuspend(void);                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           static void USBSuspend(void);                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           static void USBStallHandler(void);                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           //static BOOL USBIsTxBusy(BYTE EPNumber);                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           //static void USBPut(BYTE EPNum, BYTE Data);                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           //static void USBEPService(void);                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           //static void USBProtocolResetHandler(void);                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           /******************************************************************************/ /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           /** Functions Implementations *************************************************/ /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           /******************************************************************************/ /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           //DOM-IGNORE-BEGIN                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           /****************************************************************************   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                             Function:                                                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               void USBAdvancePingPongBuffer(BDT_ENTRY** buffer)                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                             Description:                                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               This function will advance the passed pointer to the next buffer based on   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               the ping pong option setting.  This function should be used for EP1-EP15    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               only.  This function is not valid for EP0.                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                             Precondition:                                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               None                                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                             Parameters:                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               BDT_ENTRY** - pointer to the BDT_ENTRY pointer that you want to be advanced /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               to the next buffer state                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                             Return Values:                                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               None                                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                             Remarks:                                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               None                                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                             ***************************************************************************/  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           //DOM-IGNORE-END                                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           #define USBAdvancePingPongBuffer(buffer) ((BYTE_VAL*)buffer)->Val ^= USB_NEXT_PING_PONG; /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           #define USBHALPingPongSetToOdd(buffer)   {((BYTE_VAL*)buffer)->Val |= USB_NEXT_PING_PONG;} /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           #define USBHALPingPongSetToEven(buffer)  {((BYTE_VAL*)buffer)->Val &= ~USB_NEXT_PING_PONG;} /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           //DOM-IGNORE-BEGIN                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           /****************************************************************************   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                             Function:                                                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               void USBDeviceInit(void)                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                             Description:                                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               This function initializes the device stack                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               it in the default state                                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                             Precondition:                                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               None                                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                             Parameters:                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               None                                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                             Return Values:                                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               None                                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                             Remarks:                                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               The USB module will be completely reset including                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               all of the internal variables, registers, and                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               interrupt flags.                                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                             ***************************************************************************/  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           //DOM-IGNORE-END                                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001038   ec5f     CALL      0x1cbe,0x0     void USBDeviceInit(void)                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00103a   f00e                                                                                                               
                                           {                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               BYTE i;                                                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00103c   9aa0     BCF       0xa0,0x5,0x0       USBDisableInterrupts();                                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               // Clear all USB error flags                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00103e   6a6a     CLRF      0x6a,0x0           USBClearInterruptRegister(U1EIR);                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               // Clears all USB interrupts                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001040   6a68     CLRF      0x68,0x0           USBClearInterruptRegister(U1IR);                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //Clear all of the endpoint control registers                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001042   6a70     CLRF      0x70,0x0           U1EP0 = 0;                                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001044   ecaa     CALL      0x1b54,0x0         DisableNonZeroEndpoints(USB_MAX_EP_NUMBER);                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001046   f00d                                                                                                               
001b54   0e01     MOVLW     0x1                                                                                             
001b56   6ee6     MOVWF     0xe6,0x0                                                                                        
001b58   6ae6     CLRF      0xe6,0x0                                                                                        
001b5a   6ae6     CLRF      0xe6,0x0                                                                                        
001b5c   0e71     MOVLW     0x71                                                                                            
001b5e   6ee6     MOVWF     0xe6,0x0                                                                                        
001b60   0e0f     MOVLW     0xf                                                                                             
001b62   ef57     GOTO      0x1cae                                                                                          
001b64   f00e                                                                                                               
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001048   ecf7     CALL      0x1bee,0x0         SetConfigurationOptions();                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00104a   f00d                                                                                                               
001bee   0e16     MOVLW     0x16                                                                                            
001bf0   6e6f     MOVWF     0x6f,0x0                                                                                        
001bf2   0e9f     MOVLW     0x9f                                                                                            
001bf4   6e6b     MOVWF     0x6b,0x0                                                                                        
001bf6   0e7b     MOVLW     0x7b                                                                                            
001bf8   6e69     MOVWF     0x69,0x0                                                                                        
001bfa   0012     RETURN    0x0                                                                                             
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //power up the module (if not already powered)                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               USBPowerModule();                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //set the address of the BDT (if applicable)                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               USBSetBDTAddress(BDT);                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //Clear all of the BDT entries                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00104c   6adf     CLRF      0xdf,0x0           for(i=0;i<(sizeof(BDT)/sizeof(BDT_ENTRY));i++)                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00104e   ece0     CALL      0x1bc0,0x0                                                                                      
001050   f00d                                                                                                               
001052   e203     BC        0x105a                                                                                          
001058   d7fa     BRA       0x104e                                                                                          
001b3c   2adf     INCF      0xdf,0x1,0x0                                                                                    
001b3e   0012     RETURN    0x0                                                                                             
001bc0   50df     MOVF      0xdf,0x0,0x0                                                                                    
001bc2   6e0b     MOVWF     0xb,0x0                                                                                         
001bc4   6a0c     CLRF      0xc,0x0                                                                                         
001bc6   0e08     MOVLW     0x8                                                                                             
001bc8   5c0b     SUBWF     0xb,0x0,0x0                                                                                     
001bca   0e00     MOVLW     0x0                                                                                             
001bcc   580c     SUBWFB    0xc,0x0,0x0                                                                                     
001bce   0012     RETURN    0x0                                                                                             
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001054   ec90     CALL      0x1b20,0x0             BDT[i].Val = 0x00;                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001056   f00d                                                                                                               
001b20   50df     MOVF      0xdf,0x0,0x0                                                                                    
001b22   0d04     MULLW     0x4                                                                                             
001b24   cff3     MOVFF     0xff3,0xfe9                                                                                     
001b26   ffe9                                                                                                               
001b28   cff4     MOVFF     0xff4,0xfea                                                                                     
001b2a   ffea                                                                                                               
001b2c   0e00     MOVLW     0x0                                                                                             
001b2e   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
001b30   0e04     MOVLW     0x4                                                                                             
001b32   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
001b34   6aee     CLRF      0xee,0x0                                                                                        
001b36   6aee     CLRF      0xee,0x0                                                                                        
001b38   6aee     CLRF      0xee,0x0                                                                                        
001b3a   6aee     CLRF      0xee,0x0                                                                                        
                                               }                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               // Assert reset request to all of the Ping Pong buffer pointers             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00105a   8c6d     BSF       0x6d,0x6,0x0       USBPingPongBufferReset = 1;                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               // Reset to default address                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00105c   6a6e     CLRF      0x6e,0x0           U1ADDR = 0x00;                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               // Make sure packet processing is enabled                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00105e   986d     BCF       0x6d,0x4,0x0       USBPacketDisable = 0;                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //Stop trying to reset ping pong buffer pointers                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001060   9c6d     BCF       0x6d,0x6,0x0       USBPingPongBufferReset = 0;                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               // Flush any pending transactions                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001062   a668     BTFSS     0x68,0x3,0x0       while(USBTransactionCompleteIF == 1)                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001064   d007     BRA       0x1074                                                                                          
001072   d7f7     BRA       0x1062                                                                                          
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001066   9668     BCF       0x68,0x3,0x0           USBClearInterruptFlag(USBTransactionCompleteIFReg,USBTransactionCompleteIFBitNum); /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //Initialize USB stack software state variables                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001068   0100     MOVLB     0x0                    inPipes[0].info.Val = 0;                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00106a   6b73     CLRF      0x73,0x1                                                                                        
00106c   6b78     CLRF      0x78,0x1               outPipes[0].info.Val = 0;                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00106e   6b79     CLRF      0x79,0x1               outPipes[0].wCount.Val = 0;                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001070   6b7a     CLRF      0x7a,0x1                                                                                        
                                               }                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //Set flags to TRUE, so the USBCtrlEPAllowStatusStage() function knows not to /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //try and arm a status stage, even before the first control transfer starts. /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001074   0100     MOVLB     0x0                USBStatusStageEnabledFlag1 = TRUE;                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001076   0e01     MOVLW     0x1                                                                                             
001078   6f8a     MOVWF     0x8a,0x1                                                                                        
00107a   6f8b     MOVWF     0x8b,0x1           USBStatusStageEnabledFlag2 = TRUE;                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //Initialize other flags                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00107c   6b8c     CLRF      0x8c,0x1           USBDeferINDataStagePackets = FALSE;                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00107e   6b8d     CLRF      0x8d,0x1           USBDeferOUTDataStagePackets = FALSE;                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001080   6b80     CLRF      0x80,0x1           USBBusIsSuspended = FALSE;                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           	//Initialize all pBDTEntryIn[] and pBDTEntryOut[]                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           	//pointers to NULL, so they don't get used inadvertently.                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001082   6adf     CLRF      0xdf,0x0       	for(i = 0; i < (BYTE)(USB_MAX_EP_NUMBER+1u); i++)                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001084   0e02     MOVLW     0x2                                                                                             
001086   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001088   e211     BC        0x10ac                                                                                          
0010aa   d7ec     BRA       0x1084                                                                                          
001b50   2adf     INCF      0xdf,0x1,0x0                                                                                    
001b52   0012     RETURN    0x0                                                                                             
                                           	{                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00108a   6aea     CLRF      0xea,0x0       		pBDTEntryIn[i] = 0u;                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00108c   34df     RLCF      0xdf,0x0,0x0                                                                                    
00108e   ec62     CALL      0x1cc4,0x0                                                                                      
001090   f00e                                                                                                               
001092   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
001094   6aee     CLRF      0xee,0x0                                                                                        
001096   6aed     CLRF      0xed,0x0                                                                                        
001cc4   0bfe     ANDLW     0xfe                                                                                            
001cc6   36ea     RLCF      0xea,0x1,0x0                                                                                    
001cc8   6ee9     MOVWF     0xe9,0x0                                                                                        
001cca   0e6b     MOVLW     0x6b                                                                                            
001ccc   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
001cce   0e00     MOVLW     0x0                                                                                             
001cd0   0012     RETURN    0x0                                                                                             
001098   6aea     CLRF      0xea,0x0       		pBDTEntryOut[i] = 0u;		                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00109a   34df     RLCF      0xdf,0x0,0x0                                                                                    
00109c   ec69     CALL      0x1cd2,0x0                                                                                      
00109e   f00e                                                                                                               
0010a0   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0010a2   6aee     CLRF      0xee,0x0                                                                                        
0010a4   6aed     CLRF      0xed,0x0                                                                                        
001cd2   0bfe     ANDLW     0xfe                                                                                            
001cd4   36ea     RLCF      0xea,0x1,0x0                                                                                    
001cd6   6ee9     MOVWF     0xe9,0x0                                                                                        
001cd8   0e67     MOVLW     0x67                                                                                            
001cda   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
001cdc   0e00     MOVLW     0x0                                                                                             
001cde   0012     RETURN    0x0                                                                                             
0010a6   eca0     CALL      0x1b40,0x0     		ep_data_in[i].Val = 0u;                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0010a8   f00d                                                                                                               
001b40   50df     MOVF      0xdf,0x0,0x0                                                                                    
001b42   d8da     RCALL     0x1cf8                                                                                          
001b44   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
001b46   6aef     CLRF      0xef,0x0                                                                                        
001b48   50df     MOVF      0xdf,0x0,0x0           ep_data_out[i].Val = 0u;                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001b4a   d8d1     RCALL     0x1cee                                                                                          
001b4c   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
001b4e   6aef     CLRF      0xef,0x0                                                                                        
                                           	}                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //Get ready for the first packet                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0010ac   0100     MOVLB     0x0                pBDTEntryIn[0] = (volatile BDT_ENTRY*)&BDT[EP0_IN_EVEN];                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0010ae   0e08     MOVLW     0x8                                                                                             
0010b0   6f6b     MOVWF     0x6b,0x1                                                                                        
0010b2   0e04     MOVLW     0x4                                                                                             
0010b4   6f6c     MOVWF     0x6c,0x1                                                                                        
                                               // Initialize EP0 as a Ctrl EP                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0010b6   0e16     MOVLW     0x16               U1EP0 = EP_CTRL|USB_HANDSHAKE_ENABLED;                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0010b8   6e70     MOVWF     0x70,0x0                                                                                        
                                           	//Prepare for the first SETUP on EP0 OUT                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0010ba   0104     MOVLB     0x4                BDT[EP0_OUT_EVEN].ADR = ConvertToPhysicalAddress(&SetupPkt);                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0010bc   0e20     MOVLW     0x20                                                                                            
0010be   6f02     MOVWF     0x2,0x1                                                                                         
0010c0   0e04     MOVLW     0x4                                                                                             
0010c2   6f03     MOVWF     0x3,0x1                                                                                         
0010c4   0e08     MOVLW     0x8                BDT[EP0_OUT_EVEN].CNT = USB_EP0_BUFF_SIZE;                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0010c6   6f01     MOVWF     0x1,0x1                                                                                         
0010c8   0e84     MOVLW     0x84               BDT[EP0_OUT_EVEN].STAT.Val = _USIE|_DAT0|_BSTALL;                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0010ca   6f00     MOVWF     0x0,0x1                                                                                         
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               // Clear active configuration                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0010cc   0100     MOVLB     0x0                USBActiveConfiguration = 0;                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0010ce   6b61     CLRF      0x61,0x1                                                                                        
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //Indicate that we are now in the detached state                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0010d0   6b60     CLRF      0x60,0x1           USBDeviceState = DETACHED_STATE;                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0010d2   52e5     MOVF      0xe5,0x1,0x0   }                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0010d4   ef6a     GOTO      0x1ad4                                                                                          
0010d6   f00d                                                                                                               
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           //DOM-IGNORE-BEGIN                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           /****************************************************************************   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                             Function:                                                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               void USBDeviceTasks(void)                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                             Description:                                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               This function is the main state machine of the                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               USB device side stack.  This function should be                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               called periodically to receive and transmit                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               packets through the stack.  This function should                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               be called  preferably once every 100us                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               during the enumeration process.  After the                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               enumeration process this function still needs to                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               be called periodically to respond to various                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               situations on the bus but is more relaxed in its                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               time requirements.  This function should also                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               be called at least as fast as the OUT data                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               expected from the PC.                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                             Precondition:                                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               None                                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                             Parameters:                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               None                                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                             Return Values:                                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               None                                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                             Remarks:                                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               None                                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                             ***************************************************************************/  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           //DOM-IGNORE-END                                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           #if defined(USB_INTERRUPT)                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                             #if defined(__18CXX)                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0010d8   ec5f     CALL      0x1cbe,0x0         void USBDeviceTasks(void)                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0010da   f00e                                                                                                               
                                             #elif defined(__C30__)                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               void __attribute__((interrupt,auto_psv)) _USB1Interrupt()                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                             #elif defined(__PIC32MX__)                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               void __attribute__((interrupt(),vector(45))) _USB1Interrupt( void )         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                             #endif                                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           #else                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           void USBDeviceTasks(void)                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           #endif                                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           {                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               BYTE i;                                                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           #ifdef USB_SUPPORT_OTG                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //SRP Time Out Check                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               if (USBOTGSRPIsReady())                                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   if (USBT1MSECIF && USBT1MSECIE)                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   {                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       if (USBOTGGetSRPTimeOutFlag())                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       {                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           if (USBOTGIsSRPTimeOutExpired())                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           {                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                               USB_OTGEventHandler(0,OTG_EVENT_SRP_FAILED,0,0);            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           }                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       }                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       //Clear Interrupt Flag                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       USBClearInterruptFlag(USBT1MSECIFReg,USBT1MSECIFBitNum);            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   }                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               }                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           #endif                                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               #if defined(USB_POLLING)                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //If the interrupt option is selected then the customer is required         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //  to notify the stack when the device is attached or removed from the     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //  bus by calling the USBDeviceAttach() and USBDeviceDetach() functions.   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               if (USB_BUS_SENSE != 1)                                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    // Disable module & detach from bus                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    U1CON = 0;                                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    // Mask all USB interrupts                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    U1IE = 0;                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    //Move to the detached state                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    USBDeviceState = DETACHED_STATE;                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    #ifdef  USB_SUPPORT_OTG                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                        //Disable D+ Pullup                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                        U1OTGCONbits.DPPULUP = 0;                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                        //Disable HNP                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                        USBOTGDisableHnp();                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                        //Deactivate HNP                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                        USBOTGDeactivateHnp();                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                        //If ID Pin Changed State                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                        if (USBIDIF && USBIDIE)                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                        {                                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                            //Re-detect & Initialize                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                             USBOTGInitialize();                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                             //Clear ID Interrupt Flag                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                             USBClearInterruptFlag(USBIDIFReg,USBIDIFBitNum);              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                        }                                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    #endif                                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    #ifdef __C30__                                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                        //USBClearInterruptFlag(U1OTGIR, 3);                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    #endif                                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       //return so that we don't go through the rest of                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       //the state machine                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    USBClearUSBInterrupt();                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    return;                                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               }                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           	#ifdef USB_SUPPORT_OTG                                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //If Session Is Started Then                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               else                                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           	{                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //If SRP Is Ready                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   if (USBOTGSRPIsReady())                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   {                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       //Clear SRPReady                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       USBOTGClearSRPReady();                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       //Clear SRP Timeout Flag                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       USBOTGClearSRPTimeOutFlag();                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       //Indicate Session Started                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       UART2PrintString( "\r\n***** USB OTG B Event - Session Started  *****\r\n" ); /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   }                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               }                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           	#endif	//#ifdef USB_SUPPORT_OTG                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //if we are in the detached state                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               if(USBDeviceState == DETACHED_STATE)                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           	    //Initialize register to known value                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   U1CON = 0;                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   // Mask all USB interrupts                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   U1IE = 0;                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //Enable/set things like: pull ups, full/low-speed mode,                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //set the ping pong mode, and set internal transceiver                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   SetConfigurationOptions();                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   // Enable module & attach to bus                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   while(!U1CONbits.USBEN){U1CONbits.USBEN = 1;}                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //moved to the attached state                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   USBDeviceState = ATTACHED_STATE;                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   #ifdef  USB_SUPPORT_OTG                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       U1OTGCON |= USB_OTG_DPLUS_ENABLE | USB_OTG_ENABLE;                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   #endif                                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               }                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           	#endif  //#if defined(USB_POLLING)                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0010dc   0100     MOVLB     0x0                if(USBDeviceState == ATTACHED_STATE)                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0010de   0560     DECF      0x60,0x0,0x1                                                                                    
0010e0   e107     BNZ       0x10f0                                                                                          
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   /*                                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    * After enabling the USB module, it takes some time for the            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    * voltage on the D+ or D- line to rise high enough to get out          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    * of the SE0 condition. The USB Reset interrupt should not be          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    * unmasked until the SE0 condition is cleared. This helps              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    * prevent the firmware from misinterpreting this unique event          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    * as a USB bus reset from the USB host.                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    */                                                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0010e2   ba6d     BTFSC     0x6d,0x5,0x0           if(!USBSE0Event)                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0010e4   d005     BRA       0x10f0                                                                                          
                                                   {                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0010e6   6a68     CLRF      0x68,0x0                   USBClearInterruptRegister(U1IR);// Clear all USB interrupts         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       #if defined(USB_POLLING)                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           U1IE=0;                        // Mask all USB interrupts       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       #endif                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0010e8   8069     BSF       0x69,0x0,0x0               USBResetIE = 1;             // Unmask RESET interrupt               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0010ea   8869     BSF       0x69,0x4,0x0               USBIdleIE = 1;             // Unmask IDLE interrupt                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0010ec   0e02     MOVLW     0x2                        USBDeviceState = POWERED_STATE;                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0010ee   6f60     MOVWF     0x60,0x1                                                                                        
                                                   }                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               }                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               #ifdef  USB_SUPPORT_OTG                                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //If ID Pin Changed State                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   if (USBIDIF && USBIDIE)                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   {                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       //Re-detect & Initialize                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       USBOTGInitialize();                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       USBClearInterruptFlag(USBIDIFReg,USBIDIFBitNum);                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   }                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               #endif                                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               /*                                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                * Task A: Service USB Activity Interrupt                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                */                                                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0010f0   5068     MOVF      0x68,0x0,0x0       if(USBActivityIF && USBActivityIE)                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0010f2   0b04     ANDLW     0x4                                                                                             
0010f4   e005     BZ        0x1100                                                                                          
0010f6   5069     MOVF      0x69,0x0,0x0                                                                                    
0010f8   0b04     ANDLW     0x4                                                                                             
0010fa   e002     BZ        0x1100                                                                                          
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0010fc   9468     BCF       0x68,0x2,0x0           USBClearInterruptFlag(USBActivityIFReg,USBActivityIFBitNum);            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   #if defined(USB_SUPPORT_OTG)                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       U1OTGIR = 0x10;                                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   #else                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0010fe   d898     RCALL     0x1230                     USBWakeFromSuspend();                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   #endif                                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               }                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               /*                                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                * Pointless to continue servicing if the device is in suspend mode.        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                */                                                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001100   b26d     BTFSC     0x6d,0x1,0x0       if(USBSuspendControl==1)                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001102   d045     BRA       0x118e                                                                                          
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   USBClearUSBInterrupt();                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   return;                                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               }                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               /*                                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                * Task B: Service USB Bus Reset Interrupt.                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                * When bus reset is received during suspend, ACTVIF will be set first,     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                * once the UCONbits.SUSPND is clear, then the URSTIF bit will be asserted. /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                * This is why URSTIF is checked after ACTVIF.                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                *                                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                * The USB reset flag is masked when the USB state is in                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                * DETACHED_STATE or ATTACHED_STATE, and therefore cannot                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                * cause a USB reset event during these two states.                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                */                                                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001104   5068     MOVF      0x68,0x0,0x0       if(USBResetIF && USBResetIE)                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001106   0b01     ANDLW     0x1                                                                                             
001108   e009     BZ        0x111c                                                                                          
00110a   5069     MOVF      0x69,0x0,0x0                                                                                    
00110c   0b01     ANDLW     0x1                                                                                             
00110e   e006     BZ        0x111c                                                                                          
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001110   df93     RCALL     0x1038                 USBDeviceInit();                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //Re-enable the interrupts since the USBDeviceInit() function will      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //  disable them.  This will do nothing in a polling setup              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001112   8aa0     BSF       0xa0,0x5,0x0           USBUnmaskInterrupts();                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001114   0100     MOVLB     0x0                    USBDeviceState = DEFAULT_STATE;                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001116   0e04     MOVLW     0x4                                                                                             
001118   6f60     MOVWF     0x60,0x1                                                                                        
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   #ifdef USB_SUPPORT_OTG                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                        //Disable HNP                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                        USBOTGDisableHnp();                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                        //Deactivate HNP                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                        USBOTGDeactivateHnp();                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   #endif                                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00111a   9068     BCF       0x68,0x0,0x0           USBClearInterruptFlag(USBResetIFReg,USBResetIFBitNum);                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               }                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               /*                                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                * Task C: Service other USB interrupts                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                */                                                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00111c   5068     MOVF      0x68,0x0,0x0       if(USBIdleIF && USBIdleIE)                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00111e   0b10     ANDLW     0x10                                                                                            
001120   e005     BZ        0x112c                                                                                          
001122   5069     MOVF      0x69,0x0,0x0                                                                                    
001124   0b10     ANDLW     0x10                                                                                            
001126   e002     BZ        0x112c                                                                                          
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   #ifdef  USB_SUPPORT_OTG                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       //If Suspended, Try to switch to Host                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       USBOTGSelectRole(ROLE_HOST);                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   #else                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001128   d878     RCALL     0x121a                     USBSuspend();                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   #endif                                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00112a   9868     BCF       0x68,0x4,0x0           USBClearInterruptFlag(USBIdleIFReg,USBIdleIFBitNum);                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               }                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00112c   ac68     BTFSS     0x68,0x6,0x0       if(USBSOFIF)                                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00112e   d00f     BRA       0x114e                                                                                          
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001130   ac69     BTFSS     0x69,0x6,0x0           if(USBSOFIE)                                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001132   d005     BRA       0x113e                                                                                          
                                                   {                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001134   ecfe     CALL      0x1bfc,0x0                 USB_SOF_HANDLER(EVENT_SOF,0,1);                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001136   f00d                                                                                                               
001138   0e73     MOVLW     0x73                                                                                            
00113a   ec57     CALL      0x1aae,0x0                                                                                      
00113c   f00d                                                                                                               
001bfc   0e01     MOVLW     0x1                                                                                             
001bfe   6ee6     MOVWF     0xe6,0x0                                                                                        
001c00   6ae6     CLRF      0xe6,0x0                                                                                        
001c02   0e00     MOVLW     0x0                                                                                             
001c04   6ee6     MOVWF     0xe6,0x0                                                                                        
001c06   6ae6     CLRF      0xe6,0x0                                                                                        
001c08   0012     RETURN    0x0                                                                                             
                                                   }                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00113e   9c68     BCF       0x68,0x6,0x0           USBClearInterruptFlag(USBSOFIFReg,USBSOFIFBitNum);                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   #if defined(USB_ENABLE_STATUS_STAGE_TIMEOUTS)                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       //Supporting this feature requires a 1ms timebase for keeping track of the timeout interval. /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       #if(USB_SPEED_OPTION == USB_LOW_SPEED)                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           #warning "Double click this message.  See inline code comments." /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           //The "USB_ENABLE_STATUS_STAGE_TIMEOUTS" feature is optional and is /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           //not strictly needed in all applications (ex: those that never call  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           //USBDeferStatusStage() and don't use host to device (OUT) control /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           //transfers with data stage).                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           //However, if this feature is enabled and used, it requires a timer  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           //(preferrably 1ms) to decrement the USBStatusStageTimeoutCounter.   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           //In USB Full Speed applications, the host sends Start-of-Frame (SOF)  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           //packets at a 1ms rate, which generates SOFIF interrupts.      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           //These interrupts can be used to decrement USBStatusStageTimeoutCounter as shown  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           //below.  However, the host does not send SOF packets to Low Speed devices.   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           //Therefore, some other method  (ex: using a general purpose microcontroller  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           //timer, such as Timer0) needs to be implemented to call and execute the below code /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           //at a once/1ms rate, in a low speed USB application.           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           //Note: Pre-condition to executing the below code: USBDeviceInit() should have /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           //been called at least once (since the last microcontroller reset/power up),  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           //prior to executing the below code.                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       #endif                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       //Decrement our status stage counter.                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001140   0100     MOVLB     0x0                        if(USBStatusStageTimeoutCounter != 0u)                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001142   5188     MOVF      0x88,0x0,0x1                                                                                    
001144   e001     BZ        0x1148                                                                                          
                                                       {                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001146   0788     DECF      0x88,0x1,0x1                   USBStatusStageTimeoutCounter--;                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       }                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       //Check if too much time has elapsed since progress was made in     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       //processing the control transfer, without arming the status stage.   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       //If so, auto-arm the status stage to ensure that the control       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       //transfer can [eventually] complete, within the timing limits      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       //dictated by section 9.2.6 of the official USB 2.0 specifications. /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001148   5188     MOVF      0x88,0x0,0x1               if(USBStatusStageTimeoutCounter == 0)                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00114a   e101     BNZ       0x114e                                                                                          
                                                       {                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00114c   da20     RCALL     0x158e                         USBCtrlEPAllowStatusStage();    //Does nothing if the status stage was already armed. /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       }                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   #endif                                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               }                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00114e   5068     MOVF      0x68,0x0,0x0       if(USBStallIF && USBStallIE)                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001150   0b20     ANDLW     0x20                                                                                            
001152   e004     BZ        0x115c                                                                                          
001154   5069     MOVF      0x69,0x0,0x0                                                                                    
001156   0b20     ANDLW     0x20                                                                                            
001158   e001     BZ        0x115c                                                                                          
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00115a   d84c     RCALL     0x11f4                 USBStallHandler();                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               }                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00115c   5068     MOVF      0x68,0x0,0x0       if(USBErrorIF && USBErrorIE)                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00115e   0b02     ANDLW     0x2                                                                                             
001160   e00b     BZ        0x1178                                                                                          
001162   5069     MOVF      0x69,0x0,0x0                                                                                    
001164   0b02     ANDLW     0x2                                                                                             
001166   e008     BZ        0x1178                                                                                          
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001168   ecfe     CALL      0x1bfc,0x0             USB_ERROR_HANDLER(EVENT_BUS_ERROR,0,1);                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00116a   f00d                                                                                                               
00116c   68e6     SETF      0xe6,0x0                                                                                        
00116e   0e7f     MOVLW     0x7f                                                                                            
001170   6ee6     MOVWF     0xe6,0x0                                                                                        
001172   ec70     CALL      0x1ce0,0x0                                                                                      
001174   f00e                                                                                                               
001ce0   ec42     CALL      0x2284,0x0                                                                                      
001ce2   f011                                                                                                               
001ce4   6e0b     MOVWF     0xb,0x0                                                                                         
001ce6   0e06     MOVLW     0x6                                                                                             
001ce8   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
001cea   500b     MOVF      0xb,0x0,0x0                                                                                     
001cec   0012     RETURN    0x0                                                                                             
001176   6a6a     CLRF      0x6a,0x0               USBClearInterruptRegister(U1EIR);               // This clears UERRIF   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //On PIC18, clearing the source of the error will automatically clear   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //  the interrupt flag.  On other devices the interrupt flag must be    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //  manually cleared.                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   #if defined(__C32__) || defined(__C30__)                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       USBClearInterruptFlag( USBErrorIFReg, USBErrorIFBitNum );           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   #endif                                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               }                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               /*                                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                * Pointless to continue servicing if the host has not sent a bus reset.    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                * Once bus reset is received, the device transitions into the DEFAULT      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                * state and is ready for communication.                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                */                                                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001178   0e04     MOVLW     0x4                if(USBDeviceState < DEFAULT_STATE)                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00117a   0100     MOVLB     0x0                                                                                             
00117c   6ee7     MOVWF     0xe7,0x0                                                                                        
00117e   1960     XORWF     0x60,0x0,0x1                                                                                    
001180   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
001182   d002     BRA       0x1188                                                                                          
001184   34e7     RLCF      0xe7,0x0,0x0                                                                                    
001186   d002     BRA       0x118c                                                                                          
001188   50e7     MOVF      0xe7,0x0,0x0                                                                                    
00118a   5d60     SUBWF     0x60,0x0,0x1                                                                                    
00118c   e202     BC        0x1192                                                                                          
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00118e   9aa1     BCF       0xa1,0x5,0x0   	    USBClearUSBInterrupt();                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001190   d02e     BRA       0x11ee         	    return;                                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           	}                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               /*                                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                * Task D: Servicing USB Transaction Complete Interrupt                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                */                                                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001192   a669     BTFSS     0x69,0x3,0x0       if(USBTransactionCompleteIE)                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001194   d02b     BRA       0x11ec                                                                                          
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001196   6adf     CLRF      0xdf,0x0       	    for(i = 0; i < 4u; i++)	//Drain or deplete the USAT FIFO entries.  If the USB FIFO ever gets full, USB bandwidth  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001198   0e04     MOVLW     0x4                                                                                             
00119a   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
00119c   e227     BC        0x11ec                                                                                          
0011e8   2adf     INCF      0xdf,0x1,0x0                                                                                    
0011ea   d7d6     BRA       0x1198                                                                                          
                                           		{						//utilization can be compromised, and the device won't be able to receive SETUP packets. /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00119e   a668     BTFSS     0x68,0x3,0x0   		    if(USBTransactionCompleteIF)                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0011a0   d025     BRA       0x11ec                                                                                          
                                           		    {                                                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               		    //Save and extract USTAT register info.  Will use this info later.    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0011a2   cf6c     MOVFF     0xf6c,0x81                     USTATcopy.Val = U1STAT;                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0011a4   f081                                                                                                               
0011a6   0100     MOVLB     0x0                            endpoint_number = USBHALGetLastEndpoint(USTATcopy);             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0011a8   5181     MOVF      0x81,0x0,0x1                                                                                    
0011aa   0b78     ANDLW     0x78                                                                                            
0011ac   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
0011ae   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
0011b0   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
0011b2   6f82     MOVWF     0x82,0x1                                                                                        
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0011b4   9668     BCF       0x68,0x3,0x0                   USBClearInterruptFlag(USBTransactionCompleteIFReg,USBTransactionCompleteIFBitNum); /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           //Keep track of the hardware ping pong state for endpoints other /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           //than EP0, if ping pong buffering is enabled.                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           #if (USB_PING_PONG_MODE == USB_PING_PONG__ALL_BUT_EP0) || (USB_PING_PONG_MODE == USB_PING_PONG__FULL_PING_PONG)  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0011b6   b581     BTFSC     0x81,0x2,0x1                       if(USBHALGetLastDirection(USTATcopy) == OUT_FROM_HOST)      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0011b8   d004     BRA       0x11c2                                                                                          
                                                               {                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0011ba   5182     MOVF      0x82,0x0,0x1                           ep_data_out[endpoint_number].bits.ping_pong_state ^= 1; /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0011bc   ec77     CALL      0x1cee,0x0                                                                                      
0011be   f00e                                                                                                               
                                                               }                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0011c0   d003     BRA       0x11c8                             else                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                               {                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0011c2   5182     MOVF      0x82,0x0,0x1                           ep_data_in[endpoint_number].bits.ping_pong_state ^= 1;  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0011c4   ec7c     CALL      0x1cf8,0x0                                                                                      
0011c6   f00e                                                                                                               
0011c8   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0011ca   70ef     BTG       0xef,0x0,0x0                                                                                    
                                                               }                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           #endif                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           //USBCtrlEPService only services transactions over EP0.         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           //It ignores all other EP transactions.                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0011cc   5182     MOVF      0x82,0x0,0x1                   if(endpoint_number == 0)                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0011ce   e102     BNZ       0x11d4                                                                                          
                                                           {                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0011d0   d83d     RCALL     0x124c                             USBCtrlEPService();                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           }                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0011d2   d00a     BRA       0x11e8                         else                                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           {                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0011d4   0e00     MOVLW     0x0                                USB_TRANSFER_COMPLETE_HANDLER(EVENT_TRANSFER, (BYTE*)&USTATcopy.Val, 0); /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0011d6   6ee6     MOVWF     0xe6,0x0                                                                                        
0011d8   6ae6     CLRF      0xe6,0x0                                                                                        
0011da   0e81     MOVLW     0x81                                                                                            
0011dc   6ee6     MOVWF     0xe6,0x0                                                                                        
0011de   0e00     MOVLW     0x0                                                                                             
0011e0   6ee6     MOVWF     0xe6,0x0                                                                                        
0011e2   0e72     MOVLW     0x72                                                                                            
0011e4   ec57     CALL      0x1aae,0x0                                                                                      
0011e6   f00d                                                                                                               
                                                           }                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           		    }//end if(USBTransactionCompleteIF)                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           		    else                                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           		    	break;	//USTAT FIFO must be empty.                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           		}//end for()                                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           	}//end if(USBTransactionCompleteIE)                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0011ec   9aa1     BCF       0xa1,0x5,0x0       USBClearUSBInterrupt();                                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0011ee   52e5     MOVF      0xe5,0x1,0x0   }//end of USBDeviceTasks()                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0011f0   ef6a     GOTO      0x1ad4                                                                                          
0011f2   f00d                                                                                                               
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           /********************************************************************           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Function:        void USBStallHandler(void)                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * PreCondition:    None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Input:           None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Output:          None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Side Effects:                                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Overview:        This function handles the event of a STALL                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                  occuring on the bus                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Note:            None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *******************************************************************/           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           static void USBStallHandler(void)                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           {                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               /*                                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                * Does not really have to do anything here,                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                * even for the control endpoint.                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                * All BDs of Endpoint 0 are owned by SIE right now,                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                * but once a Setup Transaction is received, the ownership                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                * for EP0_OUT will be returned to CPU.                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                * When the Setup Transaction is serviced, the ownership                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                * for EP0_IN will then be forced back to CPU by firmware.                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                */                                                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               /* v2b fix */                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0011f4   a070     BTFSS     0x70,0x0,0x0       if(U1EP0bits.EPSTALL == 1)                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0011f6   d00f     BRA       0x1216                                                                                          
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   // UOWN - if 0, owned by CPU, if 1, owned by SIE                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0011f8   ec76     CALL      0x1aec,0x0             if((pBDTEntryEP0OutCurrent->STAT.Val == _USIE) && (pBDTEntryIn[0]->STAT.Val == (_USIE|_BSTALL))) /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0011fa   f00d                                                                                                               
0011fc   50ef     MOVF      0xef,0x0,0x0                                                                                    
0011fe   0880     SUBLW     0x80                                                                                            
001200   e109     BNZ       0x1214                                                                                          
001202   ec60     CALL      0x1ac0,0x0                                                                                      
001204   f00d                                                                                                               
001206   50ef     MOVF      0xef,0x0,0x0                                                                                    
001208   0884     SUBLW     0x84                                                                                            
00120a   e104     BNZ       0x1214                                                                                          
                                                   {                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       // Set ep0Bo to stall also                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00120c   ec76     CALL      0x1aec,0x0                 pBDTEntryEP0OutCurrent->STAT.Val = _USIE|_DAT0|_DTSEN|_BSTALL;      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00120e   f00d                                                                                                               
001210   0e8c     MOVLW     0x8c                                                                                            
001212   6eef     MOVWF     0xef,0x0                                                                                        
                                                   }//end if                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001214   9070     BCF       0x70,0x0,0x0           U1EP0bits.EPSTALL = 0;               // Clear stall status              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               }//end if                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001216   9a68     BCF       0x68,0x5,0x0       USBClearInterruptFlag(USBStallIFReg,USBStallIFBitNum);                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001218   0012     RETURN    0x0            }                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           /********************************************************************           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Function:        void USBSuspend(void)                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * PreCondition:    None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Input:           None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Output:          None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Side Effects:                                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Overview:        This function handles if the host tries to                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                  suspend the device                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Note:            None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *******************************************************************/           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           static void USBSuspend(void)                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           {                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               /*                                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                * NOTE: Do not clear UIRbits.ACTVIF here!                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                * Reason:                                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                * ACTVIF is only generated once an IDLEIF has been generated.              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                * This is a 1:1 ratio interrupt generation.                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                * For every IDLEIF, there will be only one ACTVIF regardless of            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                * the number of subsequent bus transitions.                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                *                                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                * If the ACTIF is cleared here, a problem could occur when:                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                * [       IDLE       ][bus activity ->                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                * <--- 3 ms ----->     ^                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                *                ^     ACTVIF=1                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                *                IDLEIF=1                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                *  #           #           #           #   (#=Program polling flags)       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                *                          ^                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                *                          This polling loop will see both                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                *                          IDLEIF=1 and ACTVIF=1.                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                *                          However, the program services IDLEIF first      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                *                          because ACTIVIE=0.                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                *                          If this routine clears the only ACTIVIF,        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                *                          then it can never get out of the suspend        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                *                          mode.                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                */                                                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00121a   8469     BSF       0x69,0x2,0x0       USBActivityIE = 1;                     // Enable bus activity interrupt     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00121c   9868     BCF       0x68,0x4,0x0       USBClearInterruptFlag(USBIdleIFReg,USBIdleIFBitNum);                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           #if defined(__18CXX)                                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00121e   826d     BSF       0x6d,0x1,0x0       U1CONbits.SUSPND = 1;                   // Put USB module in power conserve /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                       // mode, SIE clock inactive         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           #endif                                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001220   0100     MOVLB     0x0                USBBusIsSuspended = TRUE;                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001222   0e01     MOVLW     0x1                                                                                             
001224   6f80     MOVWF     0x80,0x1                                                                                        
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               /*                                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                * At this point the PIC can go into sleep,idle, or                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                * switch to a slower clock, etc.  This should be done in the               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                * USBCBSuspend() if necessary.                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                */                                                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001226   ecc6     CALL      0x1b8c,0x0         USB_SUSPEND_HANDLER(EVENT_SUSPEND,0,0);                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001228   f00d                                                                                                               
00122a   0e75     MOVLW     0x75                                                                                            
00122c   ef57     GOTO      0x1aae                                                                                          
00122e   f00d                                                                                                               
                                           }                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           /********************************************************************           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Function:        void USBWakeFromSuspend(void)                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * PreCondition:    None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Input:           None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Output:          None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Side Effects:    None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Overview:                                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Note:            None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *******************************************************************/           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           static void USBWakeFromSuspend(void)                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           {                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001230   0100     MOVLB     0x0                USBBusIsSuspended = FALSE;                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001232   6b80     CLRF      0x80,0x1                                                                                        
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               /*                                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                * If using clock switching, the place to restore the original              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                * microcontroller core clock frequency is in the USBCBWakeFromSuspend() callback /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                */                                                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001234   ecc6     CALL      0x1b8c,0x0         USB_WAKEUP_FROM_SUSPEND_HANDLER(EVENT_RESUME,0,0);                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001236   f00d                                                                                                               
001238   0e74     MOVLW     0x74                                                                                            
00123a   ec57     CALL      0x1aae,0x0                                                                                      
00123c   f00d                                                                                                               
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               #if defined(__18CXX)                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //To avoid improperly clocking the USB module, make sure the oscillator /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //settings are consistant with USB operation before clearing the SUSPND bit. /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //Make sure the correct oscillator settings are selected in the         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //"USB_WAKEUP_FROM_SUSPEND_HANDLER(EVENT_RESUME,0,0)" handler.          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00123e   926d     BCF       0x6d,0x1,0x0           U1CONbits.SUSPND = 0;   // Bring USB module out of power conserve       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                           // mode.                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               #endif                                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001240   9469     BCF       0x69,0x2,0x0       USBActivityIE = 0;                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               /********************************************************************       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               Bug Fix: Feb 26, 2007 v2.1                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               *********************************************************************       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               The ACTVIF bit cannot be cleared immediately after the USB module wakes     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               up from Suspend or while the USB module is suspended. A few clock cycles    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               are required to synchronize the internal hardware state machine before      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               the ACTIVIF bit can be cleared by firmware. Clearing the ACTVIF bit         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               before the internal hardware is synchronized may not have an effect on      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               the value of ACTVIF. Additonally, if the USB module uses the clock from     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               the 96 MHz PLL source, then after clearing the SUSPND bit, the USB          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               module may not be immediately operational while waiting for the 96 MHz      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               PLL to lock.                                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               ********************************************************************/       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               // UIRbits.ACTVIF = 0;                      // Removed                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               #if defined(__18CXX)                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001242   a468     BTFSS     0x68,0x2,0x0       while(USBActivityIF)                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001244   d002     BRA       0x124a                                                                                          
001248   d7fc     BRA       0x1242                                                                                          
                                               #endif                                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001246   9468     BCF       0x68,0x2,0x0           USBClearInterruptFlag(USBActivityIFReg,USBActivityIFBitNum);            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               }  // Added                                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00124a   0012     RETURN    0x0            }//end USBWakeFromSuspend                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           /********************************************************************           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Function:        void USBCtrlEPService(void)                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * PreCondition:    USTAT is loaded with a valid endpoint address.              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Input:           None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Output:          None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Side Effects:    None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Overview:        USBCtrlEPService checks for three transaction               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                  types that it knows how to service and services             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                  them:                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                  1. EP0 SETUP                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                  2. EP0 OUT                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                  3. EP0 IN                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                  It ignores all other types (i.e. EP1, EP2, etc.)            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Note:            None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *******************************************************************/           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00124c   ec5f     CALL      0x1cbe,0x0     static void USBCtrlEPService(void)                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00124e   f00e                                                                                                               
                                           {                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //If we get to here, that means a successful transaction has just occurred  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //on EP0.  This means "progress" has occurred in the currently pending      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //control transfer, so we should re-initialize our timeout counter.         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               #if defined(USB_ENABLE_STATUS_STAGE_TIMEOUTS)                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001250   0100     MOVLB     0x0                    USBStatusStageTimeoutCounter = USB_STATUS_STAGE_TIMEOUT;                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001252   0e2d     MOVLW     0x2d                                                                                            
001254   6f88     MOVWF     0x88,0x1                                                                                        
                                               #endif                                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           	                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           	//Check if the last transaction was on EP0 OUT endpoint (of any kind, to either the even or odd buffer if ping pong buffers used) /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001256   0efd     MOVLW     0xfd               if((USTATcopy.Val & USTAT_EP0_PP_MASK) == USTAT_EP0_OUT_EVEN)               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001258   1581     ANDWF     0x81,0x0,0x1                                                                                    
00125a   e140     BNZ       0x12dc                                                                                          
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           		//Point to the EP0 OUT buffer of the buffer that arrived                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   #if defined(__18CXX)                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00125c   0e7e     MOVLW     0x7e                       pBDTEntryEP0OutCurrent = (volatile BDT_ENTRY*)&BDT[(USTATcopy.Val & USTAT_EP_MASK)>>1]; /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00125e   1581     ANDWF     0x81,0x0,0x1                                                                                    
001260   40e8     RRNCF     0xe8,0x0,0x0                                                                                    
001262   0b7f     ANDLW     0x7f                                                                                            
001264   0d04     MULLW     0x4                                                                                             
001266   cff3     MOVFF     0xff3,0x63                                                                                      
001268   f063                                                                                                               
00126a   cff4     MOVFF     0xff4,0x64                                                                                      
00126c   f064                                                                                                               
00126e   0e00     MOVLW     0x0                                                                                             
001270   2763     ADDWF     0x63,0x1,0x1                                                                                    
001272   0e04     MOVLW     0x4                                                                                             
001274   2364     ADDWFC    0x64,0x1,0x1                                                                                    
                                                   #elif defined(__C30__) || defined(__C32__)                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       pBDTEntryEP0OutCurrent = (volatile BDT_ENTRY*)&BDT[(USTATcopy.Val & USTAT_EP_MASK)>>2]; /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   #else                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       #error "unimplemented"                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   #endif                                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           		//Set the next out to the current out packet                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001276   c063     MOVFF     0x63,0x65              pBDTEntryEP0OutNext = pBDTEntryEP0OutCurrent;                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001278   f065                                                                                                               
00127a   c064     MOVFF     0x64,0x66                                                                                       
00127c   f066                                                                                                               
                                           		//Toggle it to the next ping pong buffer (if applicable)                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00127e   7565     BTG       0x65,0x2,0x1           ((BYTE_VAL*)&pBDTEntryEP0OutNext)->Val ^= USB_NEXT_EP0_OUT_PING_PONG;   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           		//If the current EP0 OUT buffer has a SETUP packet                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001280   ec76     CALL      0x1aec,0x0             if(pBDTEntryEP0OutCurrent->STAT.PID == PID_SETUP)                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001282   f00d                                                                                                               
001284   50ef     MOVF      0xef,0x0,0x0                                                                                    
001286   0b3c     ANDLW     0x3c                                                                                            
001288   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
00128a   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
00128c   080d     SUBLW     0xd                                                                                             
00128e   e124     BNZ       0x12d8                                                                                          
                                                   {                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       unsigned char setup_cnt;                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           	        //The SETUP transaction data may have gone into the the CtrlTrfData    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           	        //buffer, or elsewhere, depending upon how the BDT was prepared        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           	        //before the transaction.  Therefore, we should copy the data to the   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           	        //SetupPkt buffer so it can be processed correctly by USBCtrlTrfSetupHandler().		     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001290   6adf     CLRF      0xdf,0x0                   for(setup_cnt = 0; setup_cnt < 8u; setup_cnt++) //SETUP data packets always contain exactly 8 bytes. /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001292   0e08     MOVLW     0x8                                                                                             
001294   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
001296   e21a     BC        0x12cc                                                                                          
0012c8   2adf     INCF      0xdf,0x1,0x0                                                                                    
0012ca   d7e3     BRA       0x1292                                                                                          
                                                       {                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001298   ec76     CALL      0x1aec,0x0                     *(BYTE*)((BYTE*)&SetupPkt + setup_cnt) = *(BYTE*)ConvertToVirtualAddress(pBDTEntryEP0OutCurrent->ADR); /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00129a   f00d                                                                                                               
00129c   0e02     MOVLW     0x2                                                                                             
00129e   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0012a0   0e00     MOVLW     0x0                                                                                             
0012a2   ecb3     CALL      0x1b66,0x0                                                                                      
0012a4   f00d                                                                                                               
0012a6   50ef     MOVF      0xef,0x0,0x0                                                                                    
0012a8   6ee6     MOVWF     0xe6,0x0                                                                                        
0012aa   50df     MOVF      0xdf,0x0,0x0                                                                                    
0012ac   6aea     CLRF      0xea,0x0                                                                                        
0012ae   0f20     ADDLW     0x20                                                                                            
0012b0   6ee9     MOVWF     0xe9,0x0                                                                                        
0012b2   0e04     MOVLW     0x4                                                                                             
0012b4   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0012b6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0012b8   50e7     MOVF      0xe7,0x0,0x0                                                                                    
0012ba   6eef     MOVWF     0xef,0x0                                                                                        
0012bc   ec76     CALL      0x1aec,0x0                     pBDTEntryEP0OutCurrent->ADR++;                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0012be   f00d                                                                                                               
0012c0   ec8b     CALL      0x1d16,0x0                                                                                      
0012c2   f00e                                                                                                               
0012c4   2aee     INCF      0xee,0x1,0x0                                                                                    
0012c6   22ef     ADDWFC    0xef,0x1,0x0                                                                                    
                                                       }                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0012cc   ec76     CALL      0x1aec,0x0                 pBDTEntryEP0OutCurrent->ADR = ConvertToPhysicalAddress(&SetupPkt);  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0012ce   f00d                                                                                                               
0012d0   ec2b     CALL      0x1c56,0x0                                                                                      
0012d2   f00e                                                                                                               
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           			//Handle the control transfer (parse the 8-byte SETUP command and figure out what to do) /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0012d4   d80b     RCALL     0x12ec                     USBCtrlTrfSetupHandler();                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   }                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0012d6   d007     BRA       0x12e6                 else                                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   {                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           			//Handle the DATA transfer                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0012d8   d826     RCALL     0x1326                     USBCtrlTrfOutHandler();                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   }                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               }                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0012da   d005     BRA       0x12e6             else if((USTATcopy.Val & USTAT_EP0_PP_MASK) == USTAT_EP0_IN)                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0012dc   0efd     MOVLW     0xfd                                                                                            
0012de   1581     ANDWF     0x81,0x0,0x1                                                                                    
0012e0   0804     SUBLW     0x4                                                                                             
0012e2   e101     BNZ       0x12e6                                                                                          
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           		//Otherwise the transmission was and EP0 IN                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           		//  so take care of the IN transfer                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0012e4   d82f     RCALL     0x1344                 USBCtrlTrfInHandler();                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               }                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0012e6   52e5     MOVF      0xe5,0x1,0x0   }//end USBCtrlEPService                                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0012e8   ef6a     GOTO      0x1ad4                                                                                          
0012ea   f00d                                                                                                               
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           /********************************************************************           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Function:        void USBCtrlTrfSetupHandler(void)                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * PreCondition:    SetupPkt buffer is loaded with valid USB Setup Data         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Input:           None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Output:          None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Side Effects:    None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Overview:        This routine is a task dispatcher and has 3 stages.         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                  1. It initializes the control transfer state machine.       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                  2. It calls on each of the module that may know how to      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                     service the Setup Request from the host.                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                     Module Example: USBD, HID, CDC, MSD, ...                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                     A callback function, USBCBCheckOtherReq(),               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                     is required to call other module handlers.               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                  3. Once each of the modules has had a chance to check if    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                     it is responsible for servicing the request, stage 3     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                     then checks direction of the transfer to determine how   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                     to prepare EP0 for the control transfer.                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                     Refer to USBCtrlEPServiceComplete() for more details.    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Note:            Microchip USB Firmware has three different states for       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                  the control transfer state machine:                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                  1. WAIT_SETUP                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                  2. CTRL_TRF_TX (device sends data to host through IN transactions) /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                  3. CTRL_TRF_RX (device receives data from host through OUT transactions) /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                  Refer to firmware manual to find out how one state          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                  is transitioned to another.                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                  A Control Transfer is composed of many USB transactions.    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                  When transferring data over multiple transactions,          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                  it is important to keep track of data source, data          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                  destination, and data count. These three parameters are     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                  stored in pSrc,pDst, and wCount. A flag is used to          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                  note if the data source is from ROM or RAM.                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *******************************************************************/           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           static void USBCtrlTrfSetupHandler(void)                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           {                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //-------------------------------------------------------------------------- /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //1. Re-initialize state tracking variables related to control transfers.   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //-------------------------------------------------------------------------- /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0012ec   0100     MOVLB     0x0                shortPacketStatus = SHORT_PKT_NOT_USED;                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0012ee   6b6f     CLRF      0x6f,0x1                                                                                        
0012f0   6b89     CLRF      0x89,0x1           USBDeferStatusStagePacket = FALSE;                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0012f2   6b8c     CLRF      0x8c,0x1           USBDeferINDataStagePackets = FALSE;                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0012f4   6b8d     CLRF      0x8d,0x1           USBDeferOUTDataStagePackets = FALSE;                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0012f6   6b83     CLRF      0x83,0x1           BothEP0OutUOWNsSet = FALSE;                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0012f8   6b70     CLRF      0x70,0x1           controlTransferState = WAIT_SETUP;                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //Abandon any previous control transfers that might have been using EP0.    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //Ordinarily, nothing actually needs abandoning, since the previous control /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //transfer would have completed successfully prior to the host sending the next /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //SETUP packet.  However, in a timeout error case, or after an EP0 STALL event, /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //one or more UOWN bits might still be set.  If so, we should clear the UOWN bits, /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //so the EP0 IN/OUT endpoints are in a known inactive state, ready for re-arming /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //by the class request handler that will be called next.                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0012fa   dbe2     RCALL     0x1ac0             pBDTEntryIn[0]->STAT.Val &= ~(_USIE);                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0012fc   9eef     BCF       0xef,0x7,0x0                                                                                    
0012fe   756b     BTG       0x6b,0x2,0x1       ((BYTE_VAL*)&pBDTEntryIn[0])->Val ^= USB_NEXT_EP0_IN_PING_PONG;             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001300   dbdf     RCALL     0x1ac0             pBDTEntryIn[0]->STAT.Val &= ~(_USIE);                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001302   9eef     BCF       0xef,0x7,0x0                                                                                    
001304   756b     BTG       0x6b,0x2,0x1       ((BYTE_VAL*)&pBDTEntryIn[0])->Val ^= USB_NEXT_EP0_IN_PING_PONG;             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001306   ec1a     CALL      0x1c34,0x0         pBDTEntryEP0OutNext->STAT.Val &= ~(_USIE);                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001308   f00e                                                                                                               
00130a   9eef     BCF       0xef,0x7,0x0                                                                                    
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00130c   6b73     CLRF      0x73,0x1           inPipes[0].info.Val = 0;                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00130e   6b74     CLRF      0x74,0x1           inPipes[0].wCount.Val = 0;                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001310   6b75     CLRF      0x75,0x1                                                                                        
001312   6b78     CLRF      0x78,0x1           outPipes[0].info.Val = 0;                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001314   6b79     CLRF      0x79,0x1           outPipes[0].wCount.Val = 0;                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001316   6b7a     CLRF      0x7a,0x1                                                                                        
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //-------------------------------------------------------------------------- /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //2. Now find out what was in the SETUP packet, and begin handling the request. /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //-------------------------------------------------------------------------- /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001318   d850     RCALL     0x13ba             USBCheckStdRequest();                                               //Check for standard USB "Chapter 9" requests. /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00131a   ecc6     CALL      0x1b8c,0x0         USB_DISABLE_NONSTANDARD_EP0_REQUEST_HANDLER(EVENT_EP0_REQUEST,0,0); //Check for USB device class specific requests /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00131c   f00d                                                                                                               
00131e   0e03     MOVLW     0x3                                                                                             
001320   dbc6     RCALL     0x1aae                                                                                          
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //-------------------------------------------------------------------------- /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //3. Re-arm EP0 IN and EP0 OUT endpoints, based on the control transfer in  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //   progress.  If one of the above handlers (in step 2) knew how to process /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //   the request, it will have set one of the inPipes[0].info.bits.busy or  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //   outPipes[0].info.bits.busy flags = 1.  This lets the                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //   USBCtrlEPServiceComplete() function know how and which endpoints to    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //   arm.  If both info.bits.busy flags are = 0, then no one knew how to    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //   process the request.  In this case, the default behavior will be to    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //   perform protocol STALL on EP0.                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //--------------------------------------------------------------------------  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001322   ef81     GOTO      0x1702             USBCtrlEPServiceComplete();                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001324   f00b                                                                                                               
                                           }//end USBCtrlTrfSetupHandler                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           /****************************************************************************** /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Function:        void USBCtrlTrfOutHandler(void)                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * PreCondition:    None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Input:           None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Output:          None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Side Effects:    None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Overview:        This routine handles an OUT transaction according to        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                  which control transfer state is currently active.           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Note:            Note that if the the control transfer was from              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                  host to device, the session owner should be notified        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                  at the end of each OUT transaction to service the           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                  received data.                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *****************************************************************************/ /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           static void USBCtrlTrfOutHandler(void)                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           {                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001326   0e02     MOVLW     0x2                if(controlTransferState == CTRL_TRF_RX)                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001328   0100     MOVLB     0x0                                                                                             
00132a   5d70     SUBWF     0x70,0x0,0x1                                                                                    
00132c   e102     BNZ       0x1332                                                                                          
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00132e   efed     GOTO      0x17da                 USBCtrlTrfRxService();	//Copies the newly received data into the appropriate buffer and configures EP0 OUT for next transaction. /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001330   f00b                                                                                                               
                                               }                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               else //In this case the last OUT transaction must have been a status stage of a CTRL_TRF_TX (<setup><in><in>...<OUT>  <-- this last OUT just occurred as the status stage) /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //If the status stage is complete, this means we are done with the      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //control transfer.  Go back to the idle "WAIT_SETUP" state.            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001332   6b70     CLRF      0x70,0x1               controlTransferState = WAIT_SETUP;                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           	    //Prepare EP0 OUT for the next SETUP transaction, however, it may have     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           	    //already been prepared if ping-pong buffering was enabled on EP0 OUT,     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           	    //and the last control transfer was of direction: device to host, see      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           	    //USBCtrlEPServiceComplete().  If it was already prepared, do not want     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           	    //to do anything to the BDT.                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001334   5183     MOVF      0x83,0x0,0x1   		if(BothEP0OutUOWNsSet == FALSE)                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001336   e104     BNZ       0x1340                                                                                          
                                           		{                                                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001338   dbb1     RCALL     0x1a9c         	        pBDTEntryEP0OutNext->CNT = USB_EP0_BUFF_SIZE;                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           	        pBDTEntryEP0OutNext->ADR = ConvertToPhysicalAddress(&SetupPkt);        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00133a   0e8c     MOVLW     0x8c           	        pBDTEntryEP0OutNext->STAT.Val = _USIE|_DAT0|_DTSEN|_BSTALL;			         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00133c   6eef     MOVWF     0xef,0x0                                                                                        
                                           		}                                                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00133e   0012     RETURN    0x0            		else                                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           		{                                                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001340   6b83     CLRF      0x83,0x1       			BothEP0OutUOWNsSet = FALSE;                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           		}                                                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               }                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001342   0012     RETURN    0x0            }                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           /****************************************************************************** /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Function:        void USBCtrlTrfInHandler(void)                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * PreCondition:    None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Input:           None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Output:          None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Side Effects:    None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Overview:        This routine handles an IN transaction according to         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                  which control transfer state is currently active.           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Note:            A Set Address Request must not change the acutal address    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                  of the device until the completion of the control           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                  transfer. The end of the control transfer for Set Address   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                  Request is an IN transaction. Therefore it is necessary     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                  to service this unique situation when the condition is      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                  right. Macro mUSBCheckAdrPendingState is defined in         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                  usb9.h and its function is to specifically service this     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                  event.                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *****************************************************************************/ /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001344   ec5f     CALL      0x1cbe,0x0     static void USBCtrlTrfInHandler(void)                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001346   f00e                                                                                                               
                                           {                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               BYTE lastDTS;                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001348   dbbb     RCALL     0x1ac0             lastDTS = pBDTEntryIn[0]->STAT.DTS;                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00134a   50ef     MOVF      0xef,0x0,0x0                                                                                    
00134c   0b40     ANDLW     0x40                                                                                            
00134e   e001     BZ        0x1352                                                                                          
001350   0e01     MOVLW     0x1                                                                                             
001352   6edf     MOVWF     0xdf,0x0                                                                                        
001ac0   c06b     MOVFF     0x6b,0xfe9                                                                                      
001ac2   ffe9                                                                                                               
001ac4   c06c     MOVFF     0x6c,0xfea                                                                                      
001ac6   ffea                                                                                                               
001ac8   0012     RETURN    0x0                                                                                             
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //switch to the next ping pong buffer                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001354   0100     MOVLB     0x0                ((BYTE_VAL*)&pBDTEntryIn[0])->Val ^= USB_NEXT_EP0_IN_PING_PONG;             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001356   756b     BTG       0x6b,0x2,0x1                                                                                    
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //Must check if in ADR_PENDING_STATE.  If so, we need to update the address /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //now, since the IN status stage of the (set address) control transfer has  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //evidently completed successfully.                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001358   0e08     MOVLW     0x8                if(USBDeviceState == ADR_PENDING_STATE)                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00135a   5d60     SUBWF     0x60,0x0,0x1                                                                                    
00135c   e108     BNZ       0x136e                                                                                          
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00135e   c422     MOVFF     0x422,0xf6e            U1ADDR = SetupPkt.bDevADR.Val;                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001360   ff6e                                                                                                               
001362   506e     MOVF      0x6e,0x0,0x0           if(U1ADDR != 0u)                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001364   e002     BZ        0x136a                                                                                          
                                                   {                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001366   0e10     MOVLW     0x10                       USBDeviceState=ADDRESS_STATE;                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   }                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001368   d001     BRA       0x136c                 else                                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   {                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00136a   0e04     MOVLW     0x4                        USBDeviceState=DEFAULT_STATE;                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00136c   6f60     MOVWF     0x60,0x1                                                                                        
                                                   }                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               }//end if                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00136e   0570     DECF      0x70,0x0,0x1       if(controlTransferState == CTRL_TRF_TX)                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001370   e113     BNZ       0x1398                                                                                          
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001372   dba6     RCALL     0x1ac0                 pBDTEntryIn[0]->ADR = ConvertToPhysicalAddress(CtrlTrfData);            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001374   dbc0     RCALL     0x1af6                                                                                          
001376   d9f2     RCALL     0x175c                 USBCtrlTrfTxService();                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //Check if we have already sent a short packet.  If so, configure       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //the endpoint to STALL in response to any further IN tokens (in the    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //case that the host erroneously tries to receive more data than it     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //should).                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001378   0e02     MOVLW     0x2                    if(shortPacketStatus == SHORT_PKT_SENT)                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00137a   0100     MOVLB     0x0                                                                                             
00137c   5d6f     SUBWF     0x6f,0x0,0x1                                                                                    
00137e   e103     BNZ       0x1386                                                                                          
                                                   {                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       // If a short packet has been sent, don't want to send any more,    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       // stall next time if host is still trying to read.                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001380   db9f     RCALL     0x1ac0                     pBDTEntryIn[0]->STAT.Val = _USIE|_BSTALL;                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001382   0e84     MOVLW     0x84                                                                                            
                                                   }                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001384   d007     BRA       0x1394                 else                                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   {                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001386   50df     MOVF      0xdf,0x0,0x0               if(lastDTS == 0)                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001388   e103     BNZ       0x1390                                                                                          
                                                       {                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00138a   db9a     RCALL     0x1ac0                         pBDTEntryIn[0]->STAT.Val = _USIE|_DAT1|_DTSEN;                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00138c   0ec8     MOVLW     0xc8                                                                                            
                                                       }                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00138e   d002     BRA       0x1394                     else                                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       {                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001390   db97     RCALL     0x1ac0                         pBDTEntryIn[0]->STAT.Val = _USIE|_DAT0|_DTSEN;                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001392   0e88     MOVLW     0x88                                                                                            
001394   6eef     MOVWF     0xef,0x0                                                                                        
                                                       }                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   }//end if(...)else                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               }                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001396   d00f     BRA       0x13b6         	else // must have been a CTRL_TRF_RX status stage IN packet (<setup><out><out>...<IN>  <-- this last IN just occurred as the status stage) /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           	{                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //if someone is still expecting data from the control transfer          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //  then make sure to terminate that request and let them know that     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //  they are done                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001398   af78     BTFSS     0x78,0x7,0x1           if(outPipes[0].info.bits.busy == 1)                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00139a   d00c     BRA       0x13b4                                                                                          
                                                   {                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00139c   517b     MOVF      0x7b,0x0,0x1               if(outPipes[0].pFunc != NULL)                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00139e   117c     IORWF     0x7c,0x0,0x1                                                                                    
0013a0   e007     BZ        0x13b0                                                                                          
                                                       {                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0013a2   d005     BRA       0x13ae                         outPipes[0].pFunc();                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0013a4   c07c     MOVFF     0x7c,0xffa                                                                                      
0013a6   fffa                                                                                                               
0013a8   0100     MOVLB     0x0                                                                                             
0013aa   517b     MOVF      0x7b,0x0,0x1                                                                                    
0013ac   6ef9     MOVWF     0xf9,0x0                                                                                        
0013ae   dffa     RCALL     0x13a4                                                                                          
                                                       }                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0013b0   0100     MOVLB     0x0                        outPipes[0].info.bits.busy = 0;                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0013b2   9f78     BCF       0x78,0x7,0x1                                                                                    
                                                   }                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               	                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0013b4   6b70     CLRF      0x70,0x1               controlTransferState = WAIT_SETUP;                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //Don't need to arm EP0 OUT here.  It was already armed by the last <out> that /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //got processed by the USBCtrlTrfRxService() handler.                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           	}	                                                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0013b6   52e5     MOVF      0xe5,0x1,0x0   }                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0013b8   d38d     BRA       0x1ad4                                                                                          
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           /********************************************************************           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Function:        void USBCheckStdRequest(void)                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * PreCondition:    None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Input:           None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Output:          None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Side Effects:    None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Overview:        This routine checks the setup data packet to see            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                  if it knows how to handle it                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Note:            None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *******************************************************************/           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           static void USBCheckStdRequest(void)                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           {                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0013ba   0104     MOVLB     0x4                if(SetupPkt.RequestType != USB_SETUP_TYPE_STANDARD_BITFIELD) return;        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0013bc   5120     MOVF      0x20,0x0,0x1                                                                                    
0013be   0b60     ANDLW     0x60                                                                                            
0013c0   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
0013c2   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
0013c4   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
0013c6   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
0013c8   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
0013ca   0900     IORLW     0x0                                                                                             
0013cc   e001     BZ        0x13d0                                                                                          
0013ce   0012     RETURN    0x0                                                                                             
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0013d0   5121     MOVF      0x21,0x0,0x1       switch(SetupPkt.bRequest)                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0013d2   0a0c     XORLW     0xc                                                                                             
0013d4   e045     BZ        0x1460                                                                                          
0013d6   0a0b     XORLW     0xb                                                                                             
0013d8   e03f     BZ        0x1458                                                                                          
0013da   0a0c     XORLW     0xc                                                                                             
0013dc   e031     BZ        0x1440                                                                                          
0013de   0a01     XORLW     0x1                                                                                             
0013e0   e022     BZ        0x1426                                                                                          
0013e2   0a0b     XORLW     0xb                                                                                             
0013e4   e01e     BZ        0x1422                                                                                          
0013e6   0a02     XORLW     0x2                                                                                             
0013e8   e01c     BZ        0x1422                                                                                          
0013ea   0a03     XORLW     0x3                                                                                             
0013ec   e018     BZ        0x141e                                                                                          
0013ee   0a08     XORLW     0x8                                                                                             
0013f0   e010     BZ        0x1412                                                                                          
0013f2   0a01     XORLW     0x1                                                                                             
0013f4   e00c     BZ        0x140e                                                                                          
0013f6   0a0f     XORLW     0xf                                                                                             
0013f8   e008     BZ        0x140a                                                                                          
0013fa   0a03     XORLW     0x3                                                                                             
0013fc   e001     BZ        0x1400                                                                                          
0013fe   0012     RETURN    0x0                                                                                             
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   case USB_REQUEST_SET_ADDRESS:                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001400   0100     MOVLB     0x0                        inPipes[0].info.bits.busy = 1;            // This will generate a zero length packet /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001402   8f73     BSF       0x73,0x7,0x1                                                                                    
001404   0e08     MOVLW     0x8                        USBDeviceState = ADR_PENDING_STATE;       // Update state only      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001406   6f60     MOVWF     0x60,0x1                                                                                        
                                                       /* See USBCtrlTrfInHandler() for the next step */                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001408   0012     RETURN    0x0                        break;                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   case USB_REQUEST_GET_DESCRIPTOR:                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00140a   ef09     GOTO      0x1612                     USBStdGetDscHandler();                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00140c   f00b                                                                                                               
                                                       break;                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   case USB_REQUEST_SET_CONFIGURATION:                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00140e   ef51     GOTO      0x18a2                     USBStdSetCfgHandler();                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001410   f00c                                                                                                               
                                                       break;                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   case USB_REQUEST_GET_CONFIGURATION:                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001412   0100     MOVLB     0x0                        inPipes[0].pSrc.bRam = (BYTE*)&USBActiveConfiguration;         // Set Source /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001414   0e61     MOVLW     0x61                                                                                            
001416   6f71     MOVWF     0x71,0x1                                                                                        
001418   0e00     MOVLW     0x0                                                                                             
00141a   6f72     MOVWF     0x72,0x1                                                                                        
                                                       inPipes[0].info.bits.ctrl_trf_mem = USB_EP0_RAM;               // Set memory type /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       inPipes[0].wCount.v[0] = 1;                         // Set data count /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       inPipes[0].info.bits.busy = 1;                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00141c   d00c     BRA       0x1436                     break;                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   case USB_REQUEST_GET_STATUS:                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00141e   ef46     GOTO      0x168c                     USBStdGetStatusHandler();                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001420   f00b                                                                                                               
                                                       break;                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   case USB_REQUEST_CLEAR_FEATURE:                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   case USB_REQUEST_SET_FEATURE:                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001422   ef31     GOTO      0x1462                     USBStdFeatureReqHandler();                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001424   f00a                                                                                                               
                                                       break;                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   case USB_REQUEST_GET_INTERFACE:                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001426   5124     MOVF      0x24,0x0,0x1               inPipes[0].pSrc.bRam = (BYTE*)&USBAlternateInterface[SetupPkt.bIntfID];  // Set source /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001428   0100     MOVLB     0x0                                                                                             
00142a   6f71     MOVWF     0x71,0x1                                                                                        
00142c   6b72     CLRF      0x72,0x1                                                                                        
00142e   0e62     MOVLW     0x62                                                                                            
001430   2771     ADDWF     0x71,0x1,0x1                                                                                    
001432   0e00     MOVLW     0x0                                                                                             
001434   2372     ADDWFC    0x72,0x1,0x1                                                                                    
001436   8173     BSF       0x73,0x0,0x1               inPipes[0].info.bits.ctrl_trf_mem = USB_EP0_RAM;               // Set memory type /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001438   0e01     MOVLW     0x1                        inPipes[0].wCount.v[0] = 1;                         // Set data count /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00143a   6f74     MOVWF     0x74,0x1                                                                                        
00143c   8f73     BSF       0x73,0x7,0x1               inPipes[0].info.bits.busy = 1;                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00143e   0012     RETURN    0x0                        break;                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   case USB_REQUEST_SET_INTERFACE:                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001440   0100     MOVLB     0x0                        inPipes[0].info.bits.busy = 1;                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001442   8f73     BSF       0x73,0x7,0x1                                                                                    
001444   0104     MOVLB     0x4                        USBAlternateInterface[SetupPkt.bIntfID] = SetupPkt.bAltID;          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001446   5124     MOVF      0x24,0x0,0x1                                                                                    
001448   6aea     CLRF      0xea,0x0                                                                                        
00144a   0f62     ADDLW     0x62                                                                                            
00144c   6ee9     MOVWF     0xe9,0x0                                                                                        
00144e   0e00     MOVLW     0x0                                                                                             
001450   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
001452   c422     MOVFF     0x422,0xfef                                                                                     
001454   ffef                                                                                                               
001456   0012     RETURN    0x0                        break;                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   case USB_REQUEST_SET_DESCRIPTOR:                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001458   db99     RCALL     0x1b8c                     USB_SET_DESCRIPTOR_HANDLER(EVENT_SET_DESCRIPTOR,0,0);               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00145a   0e02     MOVLW     0x2                                                                                             
00145c   ef57     GOTO      0x1aae                                                                                          
00145e   f00d                                                                                                               
001b8c   0e00     MOVLW     0x0                                                                                             
001b8e   6ee6     MOVWF     0xe6,0x0                                                                                        
001b90   6ae6     CLRF      0xe6,0x0                                                                                        
001b92   6ee6     MOVWF     0xe6,0x0                                                                                        
001b94   6ae6     CLRF      0xe6,0x0                                                                                        
001b96   0012     RETURN    0x0                                                                                             
                                                       break;                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   case USB_REQUEST_SYNCH_FRAME:                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   default:                                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       break;                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               }//end switch                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001460   0012     RETURN    0x0            }//end USBCheckStdRequest                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           /********************************************************************           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Function:        void USBStdFeatureReqHandler(void)                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * PreCondition:    None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Input:           None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Output:          Can alter BDT entries.  Can also modify USB stack           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                  Maintained variables.                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Side Effects:    None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Overview:        This routine handles the standard SET & CLEAR               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                  FEATURES requests                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Note:            This is a private function, intended for internal           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                  use by the USB stack, when processing SET/CLEAR             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                  feature requests.                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *******************************************************************/           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001462   db33     RCALL     0x1aca         static void USBStdFeatureReqHandler(void)                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001464   0e05     MOVLW     0x5                                                                                             
001466   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               BDT_ENTRY *p;                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               EP_STATUS current_ep_data;                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               #if defined(__C32__)                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   DWORD* pUEP;                                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               #else                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   unsigned char* pUEP;                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               #endif                                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               #ifdef	USB_SUPPORT_OTG                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //Check for USB On-The-Go (OTG) specific requests                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               if ((SetupPkt.bFeature == OTG_FEATURE_B_HNP_ENABLE)&&                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   (SetupPkt.Recipient == USB_SETUP_RECIPIENT_DEVICE_BITFIELD))            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   inPipes[0].info.bits.busy = 1;                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   if(SetupPkt.bRequest == USB_REQUEST_SET_FEATURE)                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       USBOTGEnableHnp();                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   else                                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       USBOTGDisableHnp();                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               }                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               if ((SetupPkt.bFeature == OTG_FEATURE_A_HNP_SUPPORT)&&                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   (SetupPkt.Recipient == USB_SETUP_RECIPIENT_DEVICE_BITFIELD))            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   inPipes[0].info.bits.busy = 1;                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   if(SetupPkt.bRequest == USB_REQUEST_SET_FEATURE)                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       USBOTGEnableSupportHnp();                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   else                                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       USBOTGDisableSupportHnp();                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               }                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               if ((SetupPkt.bFeature == OTG_FEATURE_A_ALT_HNP_SUPPORT)&&                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   (SetupPkt.Recipient == USB_SETUP_RECIPIENT_DEVICE_BITFIELD))            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   inPipes[0].info.bits.busy = 1;                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   if(SetupPkt.bRequest == USB_REQUEST_SET_FEATURE)                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       USBOTGEnableAltHnp();                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   else                                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       USBOTGDisableAltHnp();                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               }                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               #endif   //#ifdef USB_SUPPORT_OTG                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //Check if the host sent a valid SET or CLEAR feature (remote wakeup) request. /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001468   0104     MOVLB     0x4                if((SetupPkt.bFeature == USB_FEATURE_DEVICE_REMOTE_WAKEUP)&&                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00146a   0522     DECF      0x22,0x0,0x1                                                                                    
00146c   e110     BNZ       0x148e                (SetupPkt.Recipient == USB_SETUP_RECIPIENT_DEVICE_BITFIELD))             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00146e   5120     MOVF      0x20,0x0,0x1                                                                                    
001470   0b1f     ANDLW     0x1f                                                                                            
001472   0900     IORLW     0x0                                                                                             
001474   e10c     BNZ       0x148e                                                                                          
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001476   0100     MOVLB     0x0                    inPipes[0].info.bits.busy = 1;                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001478   8f73     BSF       0x73,0x7,0x1                                                                                    
00147a   0e03     MOVLW     0x3                    if(SetupPkt.bRequest == USB_REQUEST_SET_FEATURE)                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00147c   0104     MOVLB     0x4                                                                                             
00147e   5d21     SUBWF     0x21,0x0,0x1                                                                                    
001480   e104     BNZ       0x148a                                                                                          
001482   0100     MOVLB     0x0                        RemoteWakeup = TRUE;                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001484   0e01     MOVLW     0x1                                                                                             
001486   6f7f     MOVWF     0x7f,0x1                                                                                        
001488   d002     BRA       0x148e                 else                                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00148a   0100     MOVLB     0x0                        RemoteWakeup = FALSE;                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00148c   6b7f     CLRF      0x7f,0x1                                                                                        
                                               }//end if                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //Check if the host sent a valid SET or CLEAR endpoint halt request.        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00148e   0104     MOVLB     0x4                if((SetupPkt.bFeature == USB_FEATURE_ENDPOINT_HALT)&&                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001490   5122     MOVF      0x22,0x0,0x1                                                                                    
001492   e001     BZ        0x1496                (SetupPkt.Recipient == USB_SETUP_RECIPIENT_ENDPOINT_BITFIELD)&&          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001494   d075     BRA       0x1580                                                                                          
001496   5120     MOVF      0x20,0x0,0x1                                                                                    
001498   0b1f     ANDLW     0x1f                                                                                            
00149a   0802     SUBLW     0x2                                                                                             
00149c   e171     BNZ       0x1580                                                                                          
00149e   5124     MOVF      0x24,0x0,0x1          (SetupPkt.EPNum != 0) && (SetupPkt.EPNum <= USB_MAX_EP_NUMBER)&&         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0014a0   0b0f     ANDLW     0xf                                                                                             
0014a2   0900     IORLW     0x0                                                                                             
0014a4   e06d     BZ        0x1580                                                                                          
0014a6   5124     MOVF      0x24,0x0,0x1                                                                                    
0014a8   0b0f     ANDLW     0xf                                                                                             
0014aa   0801     SUBLW     0x1                                                                                             
0014ac   e369     BNC       0x1580                                                                                          
0014ae   0e20     MOVLW     0x20                  (USBDeviceState == CONFIGURED_STATE))                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0014b0   0100     MOVLB     0x0                                                                                             
0014b2   5d60     SUBWF     0x60,0x0,0x1                                                                                    
0014b4   e165     BNZ       0x1580                                                                                          
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           		//The request was valid.  Take control of the control transfer and            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           		//perform the host requested action.                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0014b6   8f73     BSF       0x73,0x7,0x1   		inPipes[0].info.bits.busy = 1;                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //Fetch a pointer to the BDT that the host wants to SET/CLEAR halt on.  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0014b8   0104     MOVLB     0x4                    if(SetupPkt.EPDir == OUT_FROM_HOST)                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0014ba   bf24     BTFSC     0x24,0x7,0x1                                                                                    
0014bc   d004     BRA       0x14c6                                                                                          
                                                   {                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0014be   dbe6     RCALL     0x1c8c                     p = (BDT_ENTRY*)pBDTEntryOut[SetupPkt.EPNum];                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0014c0   db6b     RCALL     0x1b98                                                                                          
0014c2   db70     RCALL     0x1ba4                     current_ep_data.Val = ep_data_out[SetupPkt.EPNum].Val;              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   }                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0014c4   d003     BRA       0x14cc                 else                                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   {                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0014c6   dbe7     RCALL     0x1c96                     p = (BDT_ENTRY*)pBDTEntryIn[SetupPkt.EPNum];                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0014c8   db67     RCALL     0x1b98                                                                                          
001b98   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
001b9a   cfee     MOVFF     0xfee,0xfde                                                                                     
001b9c   ffde                                                                                                               
001b9e   cfed     MOVFF     0xfed,0xfdd                                                                                     
001ba0   ffdd                                                                                                               
001ba2   0012     RETURN    0x0                                                                                             
0014ca   db70     RCALL     0x1bac                     current_ep_data.Val = ep_data_in[SetupPkt.EPNum].Val;               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0014cc   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0014ce   0e02     MOVLW     0x2                                                                                             
0014d0   cfef     MOVFF     0xfef,0xfdb                                                                                     
0014d2   ffdb                                                                                                               
                                                   }                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //If ping pong buffering is enabled on the requested endpoint, need     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //to point to the one that is the active BDT entry which the SIE will   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //use for the next attempted transaction on that EP number.             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   #if (USB_PING_PONG_MODE == USB_PING_PONG__ALL_BUT_EP0) || (USB_PING_PONG_MODE == USB_PING_PONG__FULL_PING_PONG)    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0014d4   db9a     RCALL     0x1c0a                     if(current_ep_data.bits.ping_pong_state == 0) //Check if even       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0014d6   0b01     ANDLW     0x1                                                                                             
0014d8   e103     BNZ       0x14e0                                                                                          
001c0a   50d9     MOVF      0xd9,0x0,0x0                                                                                    
001c0c   0f02     ADDLW     0x2                                                                                             
001c0e   6ee9     MOVWF     0xe9,0x0                                                                                        
001c10   cfda     MOVFF     0xfda,0xfea                                                                                     
001c12   ffea                                                                                                               
001c14   50ef     MOVF      0xef,0x0,0x0                                                                                    
001c16   0012     RETURN    0x0                                                                                             
                                                       {                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0014da   0e00     MOVLW     0x0                            USBHALPingPongSetToEven(&p);                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0014dc   94df     BCF       0xdf,0x2,0x0                                                                                    
                                                       }                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0014de   d001     BRA       0x14e2                     else //else must have been odd                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       {                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0014e0   84df     BSF       0xdf,0x2,0x0                   USBHALPingPongSetToOdd(&p);                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       }                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   #endif                                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //Update the BDT pointers with the new, next entry based on the feature /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //  request                                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0014e2   bf24     BTFSC     0x24,0x7,0x1           if(SetupPkt.EPDir == OUT_FROM_HOST)                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0014e4   d002     BRA       0x14ea                                                                                          
                                                   {                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0014e6   dbd2     RCALL     0x1c8c                     pBDTEntryOut[SetupPkt.EPNum] = (volatile BDT_ENTRY *)p;             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   }                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0014e8   d001     BRA       0x14ec                 else                                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   {                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0014ea   dbd5     RCALL     0x1c96                     pBDTEntryIn[SetupPkt.EPNum] = (volatile BDT_ENTRY *)p;              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0014ec   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0014ee   cfde     MOVFF     0xfde,0xfee                                                                                     
0014f0   ffee                                                                                                               
0014f2   cfdd     MOVFF     0xfdd,0xfed                                                                                     
0014f4   ffed                                                                                                               
                                                   }                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           		//Check if it was a SET_FEATURE endpoint halt request                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0014f6   0e03     MOVLW     0x3                    if(SetupPkt.bRequest == USB_REQUEST_SET_FEATURE)                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0014f8   5d21     SUBWF     0x21,0x0,0x1                                                                                    
0014fa   e10d     BNZ       0x1516                                                                                          
                                                   {                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0014fc   dbd1     RCALL     0x1ca0                     if(p->STAT.UOWN == 1)                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0014fe   e007     BZ        0x150e                                                                                          
                                                       {                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           //Mark that we are terminating this transfer and that the user  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           //  needs to be notified later                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001500   bf24     BTFSC     0x24,0x7,0x1                   if(SetupPkt.EPDir == OUT_FROM_HOST)                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001502   d002     BRA       0x1508                                                                                          
                                                           {                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001504   db4f     RCALL     0x1ba4                             ep_data_out[SetupPkt.EPNum].bits.transfer_terminated = 1;   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           }                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001506   d001     BRA       0x150a                         else                                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           {                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001508   db51     RCALL     0x1bac                             ep_data_in[SetupPkt.EPNum].bits.transfer_terminated = 1;    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00150a   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00150c   82ef     BSF       0xef,0x1,0x0                                                                                    
                                                           }                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       }                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           			//Then STALL the endpoint                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00150e   0e84     MOVLW     0x84                       p->STAT.Val |= _USIE|_BSTALL;                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001510   ec90     CALL      0x1d20,0x0                                                                                      
001512   f00e                                                                                                               
                                                   }//if(SetupPkt.bRequest == USB_REQUEST_SET_FEATURE)                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001514   d035     BRA       0x1580                 else                                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   {                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           			//Else the request must have been a CLEAR_FEATURE endpoint halt.             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       #if (USB_PING_PONG_MODE == USB_PING_PONG__ALL_BUT_EP0) || (USB_PING_PONG_MODE == USB_PING_PONG__FULL_PING_PONG)    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           //toggle over the to the non-active BDT                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001516   74df     BTG       0xdf,0x2,0x0                   USBAdvancePingPongBuffer(&p);                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001518   dbc3     RCALL     0x1ca0                         if(p->STAT.UOWN == 1)                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00151a   e006     BZ        0x1528                                                                                          
                                                           {                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                               //Clear UOWN and set DTS state so it will be correct the next time /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                               //the application firmware uses USBTransferOnePacket() on the EP. /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00151c   dacc     RCALL     0x1ab6                             p->STAT.Val &= (~_USIE);    //Clear UOWN bit                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00151e   9eef     BCF       0xef,0x7,0x0                                                                                    
001520   daca     RCALL     0x1ab6                             p->STAT.Val |= _DAT1;       //Set DTS to DATA1              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001522   8cef     BSF       0xef,0x6,0x0                                                                                    
001524   dba2     RCALL     0x1c6a                             USB_TRANSFER_TERMINATED_HANDLER(EVENT_TRANSFER_TERMINATED,p,sizeof(p)); /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001c6a   0e02     MOVLW     0x2                                                                                             
001c6c   6ee6     MOVWF     0xe6,0x0                                                                                        
001c6e   6ae6     CLRF      0xe6,0x0                                                                                        
001c70   cfde     MOVFF     0xfde,0xfe6                                                                                     
001c72   ffe6                                                                                                               
001c74   cfdd     MOVFF     0xfdd,0xfe6                                                                                     
001c76   ffe6                                                                                                               
001c78   0e05     MOVLW     0x5                                                                                             
001c7a   ef57     GOTO      0x1aae                                                                                          
001c7c   f00d                                                                                                               
                                                           }                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001526   d002     BRA       0x152c                         else                                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           {                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                               //UOWN already clear, but still need to set DTS to DATA1      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001528   dac6     RCALL     0x1ab6         					p->STAT.Val |= _DAT1;                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00152a   8cef     BSF       0xef,0x6,0x0                                                                                    
                                                           }                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           //toggle back to the active BDT (the one the SIE is currently looking at /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           //and will use for the next successful transaction to take place on the EP /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00152c   74df     BTG       0xdf,0x2,0x0                   USBAdvancePingPongBuffer(&p);                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           //Check if we are currently terminating, or have previously terminated /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           //a transaction on the given endpoint.  If so, need to clear UOWN, /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           //set DTS to the proper state, and call the application callback /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           //function.                                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00152e   db6d     RCALL     0x1c0a                         if((current_ep_data.bits.transfer_terminated != 0) || (p->STAT.UOWN == 1)) /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001530   0b02     ANDLW     0x2                                                                                             
001532   e102     BNZ       0x1538                                                                                          
001534   dbb5     RCALL     0x1ca0                                                                                          
001536   e00d     BZ        0x1552                                                                                          
                                                           {                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001538   0104     MOVLB     0x4                                if(SetupPkt.EPDir == OUT_FROM_HOST)                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00153a   bf24     BTFSC     0x24,0x7,0x1                                                                                    
00153c   d002     BRA       0x1542                                                                                          
                                                               {                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00153e   db32     RCALL     0x1ba4                                 ep_data_out[SetupPkt.EPNum].bits.transfer_terminated = 0; /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001ba4   5124     MOVF      0x24,0x0,0x1                                                                                    
001ba6   0b0f     ANDLW     0xf                                                                                             
001ba8   ef77     GOTO      0x1cee                                                                                          
001baa   f00e                                                                                                               
001cee   6aea     CLRF      0xea,0x0                                                                                        
001cf0   0f86     ADDLW     0x86                                                                                            
001cf2   6ee9     MOVWF     0xe9,0x0                                                                                        
001cf4   0e00     MOVLW     0x0                                                                                             
001cf6   0012     RETURN    0x0                                                                                             
                                                               }                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001540   d001     BRA       0x1544                             else                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                               {                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001542   db34     RCALL     0x1bac                                 ep_data_in[SetupPkt.EPNum].bits.transfer_terminated = 0; /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001544   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
001546   92ef     BCF       0xef,0x1,0x0                                                                                    
001bac   5124     MOVF      0x24,0x0,0x1                                                                                    
001bae   0b0f     ANDLW     0xf                                                                                             
001bb0   ef7c     GOTO      0x1cf8                                                                                          
001bb2   f00e                                                                                                               
001cf8   6aea     CLRF      0xea,0x0                                                                                        
001cfa   0f84     ADDLW     0x84                                                                                            
001cfc   6ee9     MOVWF     0xe9,0x0                                                                                        
001cfe   0e00     MOVLW     0x0                                                                                             
001d00   0012     RETURN    0x0                                                                                             
                                                               }                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                               //clear UOWN, clear DTS to DATA0, and finally remove the STALL condition      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001548   0e3b     MOVLW     0x3b                               p->STAT.Val &= ~(_USIE | _DAT1 | _BSTALL);                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00154a   6e0b     MOVWF     0xb,0x0                                                                                         
00154c   dbda     RCALL     0x1d02                                                                                          
                                                               //Call the application event handler callback function, so it can  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           					//decide if the endpoint should get re-armed again or not.                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00154e   db8d     RCALL     0x1c6a                             USB_TRANSFER_TERMINATED_HANDLER(EVENT_TRANSFER_TERMINATED,p,sizeof(p)); /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           }                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001550   d002     BRA       0x1556                         else                                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           {                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                               //clear UOWN, clear DTS to DATA0, and finally remove the STALL condition      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001552   0e3b     MOVLW     0x3b                               p->STAT.Val &= ~(_USIE | _DAT1 | _BSTALL);                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001554   dbd6     RCALL     0x1d02                                                                                          
                                                           }                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       #else //else we must not be using ping-pong buffering on the requested endpoint /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           //Check if we need to call the user transfer terminated event callback function. /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           //We should call the callback, if the endpoint was previously terminated, /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           //or the endpoint is currently armed, and the host is performing clear /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           //endpoint halt, even though the endpoint wasn't stalled.       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           if((current_ep_data.bits.transfer_terminated != 0) || (p->STAT.UOWN == 1)) /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           {                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                               //We are going to call the user transfer terminated callback. /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                               //Clear the flag so we know we took care of it and don't need /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                               //to call it again later.                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                               if(SetupPkt.EPDir == OUT_FROM_HOST)                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                               {                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                   ep_data_out[SetupPkt.EPNum].bits.transfer_terminated = 0; /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                               }                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                               else                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                               {                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                   ep_data_in[SetupPkt.EPNum].bits.transfer_terminated = 0; /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                               }                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                               //Clear UOWN and remove the STALL condition.                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                               //  In this case we also need to set the DTS bit to 1 so that /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                               //  it toggles to DATA0 the next time the application firmware /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                               //  calls USBTransferOnePacket() (or equivalent macro).     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                               p->STAT.Val &= ~(_USIE | _BSTALL);                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                               p->STAT.Val |= _DAT1;                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                               //Let the application firmware know a transaction just      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                               //got terminated by the host, and that it is now free to    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                               //re-arm the endpoint or do other tasks if desired.                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                               USB_TRANSFER_TERMINATED_HANDLER(EVENT_TRANSFER_TERMINATED,p,sizeof(p)); /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           }                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           else                                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           {                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                               //Clear UOWN and remove the STALL condition.                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                               //  In this case we also need to set the DTS bit to 1 so that /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                               //  it toggles to DATA0 the next time the application firmware /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                               //  calls USBTransferOnePacket() (or equivalent macro).     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                               p->STAT.Val &= ~(_USIE | _BSTALL);                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                               p->STAT.Val |= _DAT1;                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           }                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       #endif //end of #if (USB_PING_PONG_MODE == USB_PING_PONG__ALL_BUT_EP0) || (USB_PING_PONG_MODE == USB_PING_PONG__FULL_PING_PONG)    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           			//Get a pointer to the appropriate UEPn register                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       #if defined(__C32__)                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           pUEP = (DWORD*)(&U1EP0);                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           pUEP += (SetupPkt.EPNum*4);                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       #else                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001556   0104     MOVLB     0x4                            pUEP = (unsigned char*)(&U1EP0+SetupPkt.EPNum);                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001558   5124     MOVF      0x24,0x0,0x1                                                                                    
00155a   0b0f     ANDLW     0xf                                                                                             
00155c   6a0c     CLRF      0xc,0x0                                                                                         
00155e   0f70     ADDLW     0x70                                                                                            
001560   6e0b     MOVWF     0xb,0x0                                                                                         
001562   0e0f     MOVLW     0xf                                                                                             
001564   220c     ADDWFC    0xc,0x1,0x0                                                                                     
001566   0e03     MOVLW     0x3                                                                                             
001568   c00b     MOVFF     0xb,0xfdb                                                                                       
00156a   ffdb                                                                                                               
00156c   0e04     MOVLW     0x4                                                                                             
00156e   c00c     MOVFF     0xc,0xfdb                                                                                       
001570   ffdb                                                                                                               
                                                       #endif                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           			//Clear the STALL bit in the UEP register                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001572   0e03     MOVLW     0x3                        *pUEP &= ~UEP_STALL;                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001574   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
001576   ffe9                                                                                                               
001578   0e04     MOVLW     0x4                                                                                             
00157a   cfdb     MOVFF     0xfdb,0xfea                                                                                     
00157c   ffea                                                                                                               
00157e   90ef     BCF       0xef,0x0,0x0                                                                                    
                                                   }//end if(SetupPkt.bRequest == USB_REQUEST_SET_FEATURE)                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               }//end if (lots of checks for set/clear endpoint halt)                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001580   0e05     MOVLW     0x5            }//end USBStdFeatureReqHandler                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001582   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
001584   e202     BC        0x158a                                                                                          
001586   6ae1     CLRF      0xe1,0x0                                                                                        
001588   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00158a   6ee1     MOVWF     0xe1,0x0                                                                                        
00158c   d2a3     BRA       0x1ad4                                                                                          
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           /********************************************************************           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Function:        void USBCtrlEPAllowStatusStage(void)                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * PreCondition:    Before USBCtrlEPAllowStatusStage() is called, the USBDeviceInit() /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                  function must have been called at least once, since the last  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                  microcontroller reset or power up cycle.                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Input:           None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Output:          None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Side Effects:    None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Overview:        This function can be called to prepare the appropriate      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *					EP0 endpoint (IN or OUT) to be ready to allow the status                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *					stage of the currently pending control transfer to complete.             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *					This function will be called automatically by the                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *					USB stack, while processing a control transfer, unless an                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *					application specific/device class specific handler sets                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *					the USBDeferStatusStagePacket boolean to TRUE, while processing          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *					the SETUP packet that initiated the control transfer.  If                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *					application specific code sets USBDeferStatusStagePacket to TRUE,        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *					it is then responsible for calling USBCtrlEPAllowStatusStage(),          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *					once the control transfer data has been satisfactorily processed.        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Note:            This function is re-entrant, and is safe to call from multiple /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                  contexts in the application (either higher, same, or lower  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                  priority than the context that the USBDeviceTasks() function /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                  executes at.                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *******************************************************************/           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           void USBCtrlEPAllowStatusStage(void)                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           {                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //Check and set two flags, prior to actually modifying any BDT entries.     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //This double checking is necessary to make certain that                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //USBCtrlEPAllowStatusStage() can be called twice simultaneously (ex: once  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //in main loop context, while simultaneously getting an interrupt which     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //tries to call USBCtrlEPAllowStatusStage() again, at the same time).       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00158e   0100     MOVLB     0x0                if(USBStatusStageEnabledFlag1 == FALSE)                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001590   518a     MOVF      0x8a,0x0,0x1                                                                                    
001592   e121     BNZ       0x15d6                                                                                          
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001594   0e01     MOVLW     0x1                    USBStatusStageEnabledFlag1 = TRUE;                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001596   6f8a     MOVWF     0x8a,0x1                                                                                        
001598   518b     MOVF      0x8b,0x0,0x1           if(USBStatusStageEnabledFlag2 == FALSE)                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00159a   e11d     BNZ       0x15d6                                                                                          
                                                   {                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00159c   0e01     MOVLW     0x1                        USBStatusStageEnabledFlag2 = TRUE;                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00159e   6f8b     MOVWF     0x8b,0x1                                                                                        
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       //Determine which endpoints (EP0 IN or OUT needs arming for the status /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       //stage), based on the type of control transfer currently pending.  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0015a0   0e02     MOVLW     0x2                        if(controlTransferState == CTRL_TRF_RX)                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0015a2   5d70     SUBWF     0x70,0x0,0x1                                                                                    
0015a4   e107     BNZ       0x15b4                                                                                          
                                                       {                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0015a6   da8c     RCALL     0x1ac0                         pBDTEntryIn[0]->CNT = 0;                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0015a8   52ee     MOVF      0xee,0x1,0x0                                                                                    
0015aa   6aef     CLRF      0xef,0x0                                                                                        
0015ac   da89     RCALL     0x1ac0                         pBDTEntryIn[0]->STAT.Val = _USIE|_DAT1|_DTSEN;                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0015ae   0ec8     MOVLW     0xc8                                                                                            
0015b0   6eef     MOVWF     0xef,0x0                                                                                        
                                                       }                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0015b2   0012     RETURN    0x0                        else if(controlTransferState == CTRL_TRF_TX)                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0015b4   0570     DECF      0x70,0x0,0x1                                                                                    
0015b6   e10f     BNZ       0x15d6                                                                                          
                                                       {                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0015b8   6b83     CLRF      0x83,0x1               		BothEP0OutUOWNsSet = FALSE;	//Indicator flag used in USBCtrlTrfOutHandler() /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           //This buffer (when ping pong buffering is enabled on EP0 OUT) receives the /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           //next SETUP packet.                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   		#if((USB_PING_PONG_MODE == USB_PING_PONG__EP0_OUT_ONLY) || (USB_PING_PONG_MODE == USB_PING_PONG__FULL_PING_PONG)) /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0015ba   da98     RCALL     0x1aec                 		pBDTEntryEP0OutCurrent->CNT = USB_EP0_BUFF_SIZE;                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0015bc   52ee     MOVF      0xee,0x1,0x0                                                                                    
0015be   0e08     MOVLW     0x8                                                                                             
0015c0   6eef     MOVWF     0xef,0x0                                                                                        
0015c2   da94     RCALL     0x1aec                 		pBDTEntryEP0OutCurrent->ADR = ConvertToPhysicalAddress(&SetupPkt);    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0015c4   db48     RCALL     0x1c56                                                                                          
0015c6   da92     RCALL     0x1aec                 		pBDTEntryEP0OutCurrent->STAT.Val = _USIE|_BSTALL; //Prepare endpoint to accept a SETUP transaction /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0015c8   0e84     MOVLW     0x84                                                                                            
0015ca   6eef     MOVWF     0xef,0x0                                                                                        
0015cc   0e01     MOVLW     0x1                    		BothEP0OutUOWNsSet = TRUE;	//Indicator flag used in USBCtrlTrfOutHandler() /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0015ce   6f83     MOVWF     0x83,0x1                                                                                        
                                                   		#endif                                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           //This EP0 OUT buffer receives the 0-byte OUT status stage packet. /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0015d0   da65     RCALL     0x1a9c                 		pBDTEntryEP0OutNext->CNT = USB_EP0_BUFF_SIZE;                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   		pBDTEntryEP0OutNext->ADR = ConvertToPhysicalAddress(&SetupPkt);       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0015d2   0e80     MOVLW     0x80                   		pBDTEntryEP0OutNext->STAT.Val = _USIE;           // Note: DTSEN is 0  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0015d4   6eef     MOVWF     0xef,0x0                                                                                        
                                                       }                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   }                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               }                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0015d6   0012     RETURN    0x0            }                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           /******************************************************************************* /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                             Function: void USBCtrlEPAllowDataStage(void);                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                             Summary: This function allows the data stage of either a host-to-device or    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       device-to-host control transfer (with data stage) to complete.      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       This function is meant to be used in conjunction with either the    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       USBDeferOUTDataStage() or USBDeferINDataStage().  If the firmware   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       does not call either USBDeferOUTDataStage() or USBDeferINDataStage(), /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       then the firmware does not need to manually call                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       USBCtrlEPAllowDataStage(), as the USB stack will call this function /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       instead.                                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                             Description:                                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                             Conditions: A control transfer (with data stage) should already be pending,   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           if the firmware calls this function.  Additionally, the firmware /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           should have called either USBDeferOUTDataStage() or             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           USBDeferINDataStage() at the start of the control transfer, if  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           the firmware will be calling this function manually.            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                             Input:                                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                             Return:                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                             Remarks:                                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                             *****************************************************************************/ /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           void USBCtrlEPAllowDataStage(void)                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           {                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0015d8   0100     MOVLB     0x0                USBDeferINDataStagePackets = FALSE;                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0015da   6b8c     CLRF      0x8c,0x1                                                                                        
0015dc   6b8d     CLRF      0x8d,0x1           USBDeferOUTDataStagePackets = FALSE;                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0015de   0e02     MOVLW     0x2                if(controlTransferState == CTRL_TRF_RX) //(<setup><out><out>...<out><in>)   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0015e0   5d70     SUBWF     0x70,0x0,0x1                                                                                    
0015e2   e104     BNZ       0x15ec                                                                                          
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //Prepare EP0 OUT to receive the first OUT data packet in the data stage sequence. /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0015e4   db92     RCALL     0x1d0a                 pBDTEntryEP0OutNext->CNT = USB_EP0_BUFF_SIZE;                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0015e6   da87     RCALL     0x1af6                 pBDTEntryEP0OutNext->ADR = ConvertToPhysicalAddress(&CtrlTrfData);      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0015e8   db25     RCALL     0x1c34                 pBDTEntryEP0OutNext->STAT.Val = _USIE|_DAT1|_DTSEN;                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               }                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0015ea   d010     BRA       0x160c             else    //else must be controlTransferState == CTRL_TRF_TX (<setup><in><in>...<in><out>) /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //Error check the data stage byte count.  Make sure the user specified  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //value was no greater than the number of bytes the host requested.     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0015ec   5174     MOVF      0x74,0x0,0x1   		if(SetupPkt.wLength < inPipes[0].wCount.Val)                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0015ee   0104     MOVLB     0x4                                                                                             
0015f0   5d26     SUBWF     0x26,0x0,0x1                                                                                    
0015f2   0100     MOVLB     0x0                                                                                             
0015f4   5175     MOVF      0x75,0x0,0x1                                                                                    
0015f6   0104     MOVLB     0x4                                                                                             
0015f8   5927     SUBWFB    0x27,0x0,0x1                                                                                    
0015fa   e204     BC        0x1604                                                                                          
                                           		{                                                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0015fc   c426     MOVFF     0x426,0x74     			inPipes[0].wCount.Val = SetupPkt.wLength;                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0015fe   f074                                                                                                               
001600   c427     MOVFF     0x427,0x75                                                                                      
001602   f075                                                                                                               
                                           		}                                                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001604   d8ab     RCALL     0x175c         		USBCtrlTrfTxService();  //Copies one IN data packet worth of data from application buffer /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           		                        //to CtrlTrfData buffer.  Also keeps track of how many bytes remaining. /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           	    //Cnt should have been initialized by responsible request owner (ex: by    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           	    //using the USBEP0SendRAMPtr() or USBEP0SendROMPtr() API function).        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001606   da5c     RCALL     0x1ac0         		pBDTEntryIn[0]->ADR = ConvertToPhysicalAddress(&CtrlTrfData);                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001608   da76     RCALL     0x1af6                                                                                          
00160a   da5a     RCALL     0x1ac0         		pBDTEntryIn[0]->STAT.Val = _USIE|_DAT1|_DTSEN;                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00160c   0ec8     MOVLW     0xc8                                                                                            
00160e   6eef     MOVWF     0xef,0x0                                                                                        
                                               }                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001610   0012     RETURN    0x0            }                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           /********************************************************************           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Function:        void USBStdGetDscHandler(void)                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * PreCondition:    None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Input:           None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Output:          None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Side Effects:    None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Overview:        This routine handles the standard GET_DESCRIPTOR            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                  request.                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Note:            None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *******************************************************************/           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           static void USBStdGetDscHandler(void)                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           {                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001612   0e80     MOVLW     0x80               if(SetupPkt.bmRequestType == 0x80)                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001614   0104     MOVLB     0x4                                                                                             
001616   5d20     SUBWF     0x20,0x0,0x1                                                                                    
001618   e138     BNZ       0x168a                                                                                          
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00161a   0100     MOVLB     0x0                    inPipes[0].info.Val = USB_EP0_ROM | USB_EP0_BUSY | USB_EP0_INCLUDE_ZERO; /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00161c   0ec0     MOVLW     0xc0                                                                                            
00161e   6f73     MOVWF     0x73,0x1                                                                                        
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001620   0104     MOVLB     0x4                    switch(SetupPkt.bDescriptorType)                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001622   5123     MOVF      0x23,0x0,0x1                                                                                    
001624   0a03     XORLW     0x3                                                                                             
001626   e01a     BZ        0x165c                                                                                          
001628   0a01     XORLW     0x1                                                                                             
00162a   e009     BZ        0x163e                                                                                          
00162c   0a03     XORLW     0x3                                                                                             
00162e   e12b     BNZ       0x1686                                                                                          
                                                   {                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       case USB_DESCRIPTOR_DEVICE:                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           #if !defined(USB_USER_DEVICE_DESCRIPTOR)                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                               inPipes[0].pSrc.bRom = (ROM BYTE*)&device_dsc;              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           #else                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001630   0100     MOVLB     0x0                                inPipes[0].pSrc.bRom = (ROM BYTE*)USB_USER_DEVICE_DESCRIPTOR; /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001632   0ed0     MOVLW     0xd0                                                                                            
001634   6f71     MOVWF     0x71,0x1                                                                                        
001636   0e24     MOVLW     0x24                                                                                            
001638   6f72     MOVWF     0x72,0x1                                                                                        
                                                           #endif                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00163a   0e12     MOVLW     0x12                           inPipes[0].wCount.Val = sizeof(device_dsc);                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00163c   d01e     BRA       0x167a                         break;                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       case USB_DESCRIPTOR_CONFIGURATION:                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           #if !defined(USB_USER_CONFIG_DESCRIPTOR)                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                               inPipes[0].pSrc.bRom = *(USB_CD_Ptr+SetupPkt.bDscIndex);    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           #else                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00163e   daf3     RCALL     0x1c26                             inPipes[0].pSrc.bRom = *(USB_USER_CONFIG_DESCRIPTOR+SetupPkt.bDscIndex); /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001640   0e8d     MOVLW     0x8d                                                                                            
001642   26f6     ADDWF     0xf6,0x1,0x0                                                                                    
001644   0e25     MOVLW     0x25                                                                                            
001646   dac4     RCALL     0x1bd0                                                                                          
001bd0   22f7     ADDWFC    0xf7,0x1,0x0                                                                                    
001bd2   0009     TBLRDPOSTINC                                                                                              
001bd4   cff5     MOVFF     0xff5,0x71                                                                                      
001bd6   f071                                                                                                               
001bd8   000a     TBLRDPOSTDEC                                                                                              
001bda   cff5     MOVFF     0xff5,0x72                                                                                      
001bdc   f072                                                                                                               
001bde   0012     RETURN    0x0                                                                                             
001c26   5122     MOVF      0x22,0x0,0x1                                                                                    
001c28   6ef6     MOVWF     0xf6,0x0                                                                                        
001c2a   6af7     CLRF      0xf7,0x0                                                                                        
001c2c   90d8     BCF       0xd8,0x0,0x0                                                                                    
001c2e   36f6     RLCF      0xf6,0x1,0x0                                                                                    
001c30   36f7     RLCF      0xf7,0x1,0x0                                                                                    
001c32   0012     RETURN    0x0                                                                                             
                                                           #endif                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           //This must be loaded using byte addressing.  The source pointer /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           //  may not be word aligned for the 16 or 32 bit machines resulting /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           //  in an address error on the dereference.                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001648   0e02     MOVLW     0x2                            inPipes[0].wCount.byte.LB = *(inPipes[0].pSrc.bRom+2);          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00164a   0100     MOVLB     0x0                                                                                             
00164c   dae5     RCALL     0x1c18                                                                                          
00164e   cff5     MOVFF     0xff5,0x74                                                                                      
001650   f074                                                                                                               
001c18   6af7     CLRF      0xf7,0x0                                                                                        
001c1a   2571     ADDWF     0x71,0x0,0x1                                                                                    
001c1c   6ef6     MOVWF     0xf6,0x0                                                                                        
001c1e   5172     MOVF      0x72,0x0,0x1                                                                                    
001c20   22f7     ADDWFC    0xf7,0x1,0x0                                                                                    
001c22   0008     TBLRD                                                                                                     
001c24   0012     RETURN    0x0                                                                                             
001652   0e03     MOVLW     0x3                            inPipes[0].wCount.byte.HB = *(inPipes[0].pSrc.bRom+3);          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001654   dae1     RCALL     0x1c18                                                                                          
001656   cff5     MOVFF     0xff5,0x75                                                                                      
001658   f075                                                                                                               
00165a   0012     RETURN    0x0                            break;                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       case USB_DESCRIPTOR_STRING:                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           //USB_NUM_STRING_DESCRIPTORS was introduced as optional in release v2.3.  In v2.4 and /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           //  later it is now manditory.  This should be defined in usb_config.h and should /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           //  indicate the number of string descriptors.                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00165c   0e03     MOVLW     0x3                            if(SetupPkt.bDscIndex<USB_NUM_STRING_DESCRIPTORS)               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00165e   5d22     SUBWF     0x22,0x0,0x1                                                                                    
001660   e20f     BC        0x1680                                                                                          
                                                           {                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                               //Get a pointer to the String descriptor requested          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001662   dae1     RCALL     0x1c26                             inPipes[0].pSrc.bRom = *(USB_SD_Ptr+SetupPkt.bDscIndex);    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001664   0e8f     MOVLW     0x8f                                                                                            
001666   26f6     ADDWF     0xf6,0x1,0x0                                                                                    
001668   0e25     MOVLW     0x25                                                                                            
00166a   dab2     RCALL     0x1bd0                                                                                          
                                                               // Set data count                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00166c   c071     MOVFF     0x71,0xff6                         inPipes[0].wCount.Val = *inPipes[0].pSrc.bRom;                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00166e   fff6                                                                                                               
001670   c072     MOVFF     0x72,0xff7                                                                                      
001672   fff7                                                                                                               
001674   0008     TBLRD                                                                                                     
001676   50f5     MOVF      0xf5,0x0,0x0                                                                                    
001678   0100     MOVLB     0x0                                                                                             
00167a   6f74     MOVWF     0x74,0x1                                                                                        
00167c   6b75     CLRF      0x75,0x1                                                                                        
                                                           }                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00167e   0012     RETURN    0x0                            else                                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           {                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001680   0100     MOVLB     0x0                                inPipes[0].info.Val = 0;                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001682   6b73     CLRF      0x73,0x1                                                                                        
                                                           }                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001684   0012     RETURN    0x0                            break;                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       default:                                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001686   0100     MOVLB     0x0                            inPipes[0].info.Val = 0;                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001688   6b73     CLRF      0x73,0x1                                                                                        
                                                           break;                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   }//end switch                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               }//end if                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00168a   0012     RETURN    0x0            }//end USBStdGetDscHandler                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           /********************************************************************           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Function:        void USBStdGetStatusHandler(void)                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * PreCondition:    None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Input:           None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Output:          None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Side Effects:    None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Overview:        This routine handles the standard GET_STATUS request        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Note:            None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *******************************************************************/           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00168c   daea     RCALL     0x1c62         void USBStdGetStatusHandler(void)                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           {                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00168e   0104     MOVLB     0x4                CtrlTrfData[0] = 0;                 // Initialize content                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001690   6b28     CLRF      0x28,0x1                                                                                        
001692   6b29     CLRF      0x29,0x1           CtrlTrfData[1] = 0;                                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001694   5120     MOVF      0x20,0x0,0x1       switch(SetupPkt.Recipient)                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001696   0b1f     ANDLW     0x1f                                                                                            
001698   0a02     XORLW     0x2                                                                                             
00169a   e011     BZ        0x16be                                                                                          
00169c   0a03     XORLW     0x3                                                                                             
00169e   e00c     BZ        0x16b8                                                                                          
0016a0   0a01     XORLW     0x1                                                                                             
0016a2   e11e     BNZ       0x16e0                                                                                          
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   case USB_SETUP_RECIPIENT_DEVICE_BITFIELD:                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0016a4   0100     MOVLB     0x0                        inPipes[0].info.bits.busy = 1;                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0016a6   8f73     BSF       0x73,0x7,0x1                                                                                    
                                                       /*                                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                        * [0]: bit0: Self-Powered Status [0] Bus-Powered [1] Self-Powered  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                        *      bit1: RemoteWakeup        [0] Disabled    [1] Enabled       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                        */                                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       if(self_power == 1) // self_power is defined in HardwareProfile.h   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       {                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0016a8   0104     MOVLB     0x4                            CtrlTrfData[0]|=0x01;                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0016aa   8128     BSF       0x28,0x0,0x1                                                                                    
                                                       }                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0016ac   0100     MOVLB     0x0                        if(RemoteWakeup == TRUE)                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0016ae   057f     DECF      0x7f,0x0,0x1                                                                                    
0016b0   e117     BNZ       0x16e0                                                                                          
                                                       {                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0016b2   0104     MOVLB     0x4                            CtrlTrfData[0]|=0x02;                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0016b4   8328     BSF       0x28,0x1,0x1                                                                                    
                                                       }                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0016b6   d014     BRA       0x16e0                     break;                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   case USB_SETUP_RECIPIENT_INTERFACE_BITFIELD:                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0016b8   0100     MOVLB     0x0                        inPipes[0].info.bits.busy = 1;     // No data to update             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0016ba   8f73     BSF       0x73,0x7,0x1                                                                                    
0016bc   d011     BRA       0x16e0                     break;                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   case USB_SETUP_RECIPIENT_ENDPOINT_BITFIELD:                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0016be   0100     MOVLB     0x0                        inPipes[0].info.bits.busy = 1;                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0016c0   8f73     BSF       0x73,0x7,0x1                                                                                    
                                                       /*                                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                        * [0]: bit0: Halt Status [0] Not Halted [1] Halted                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                        */                                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       {                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           BDT_ENTRY *p;                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0016c2   0104     MOVLB     0x4                            if(SetupPkt.EPDir == 0)                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0016c4   bf24     BTFSC     0x24,0x7,0x1                                                                                    
0016c6   d002     BRA       0x16cc                                                                                          
                                                           {                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0016c8   dae1     RCALL     0x1c8c                             p = (BDT_ENTRY*)pBDTEntryOut[SetupPkt.EPNum];               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001adc   5124     MOVF      0x24,0x0,0x1                                                                                    
001ade   0b0f     ANDLW     0xf                                                                                             
001ae0   6ee9     MOVWF     0xe9,0x0                                                                                        
001ae2   6aea     CLRF      0xea,0x0                                                                                        
001ae4   90d8     BCF       0xd8,0x0,0x0                                                                                    
001ae6   36e9     RLCF      0xe9,0x1,0x0                                                                                    
001ae8   36ea     RLCF      0xea,0x1,0x0                                                                                    
001aea   0012     RETURN    0x0                                                                                             
001c8c   df27     RCALL     0x1adc                                                                                          
001c8e   0e67     MOVLW     0x67                                                                                            
001c90   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
001c92   0e00     MOVLW     0x0                                                                                             
001c94   0012     RETURN    0x0                                                                                             
                                                           }                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0016ca   d001     BRA       0x16ce                         else                                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           {                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0016cc   dae4     RCALL     0x1c96                             p = (BDT_ENTRY*)pBDTEntryIn[SetupPkt.EPNum];                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0016ce   da64     RCALL     0x1b98                                                                                          
001c96   df22     RCALL     0x1adc                                                                                          
001c98   0e6b     MOVLW     0x6b                                                                                            
001c9a   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
001c9c   0e00     MOVLW     0x0                                                                                             
001c9e   0012     RETURN    0x0                                                                                             
                                                           }                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0016d0   dae7     RCALL     0x1ca0                         if((p->STAT.UOWN == 1) && (p->STAT.BSTALL == 1))                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0016d2   e006     BZ        0x16e0                                                                                          
0016d4   d9f0     RCALL     0x1ab6                                                                                          
0016d6   50ef     MOVF      0xef,0x0,0x0                                                                                    
0016d8   0b04     ANDLW     0x4                                                                                             
0016da   e002     BZ        0x16e0                                                                                          
001ab6   cfde     MOVFF     0xfde,0xfe9                                                                                     
001ab8   ffe9                                                                                                               
001aba   cfdd     MOVFF     0xfdd,0xfea                                                                                     
001abc   ffea                                                                                                               
001abe   0012     RETURN    0x0                                                                                             
001ca0   df0a     RCALL     0x1ab6                                                                                          
001ca2   50ef     MOVF      0xef,0x0,0x0                                                                                    
001ca4   0b80     ANDLW     0x80                                                                                            
001ca6   0012     RETURN    0x0                                                                                             
0016dc   0e01     MOVLW     0x1                                CtrlTrfData[0]=0x01;    // Set bit0                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0016de   6f28     MOVWF     0x28,0x1                                                                                        
                                                           break;                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       }                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               }//end switch                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0016e0   0100     MOVLB     0x0                if(inPipes[0].info.bits.busy == 1)                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0016e2   af73     BTFSS     0x73,0x7,0x1                                                                                    
0016e4   d007     BRA       0x16f4                                                                                          
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0016e6   0e28     MOVLW     0x28                   inPipes[0].pSrc.bRam = (BYTE*)&CtrlTrfData;            // Set Source    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0016e8   6f71     MOVWF     0x71,0x1                                                                                        
0016ea   0e04     MOVLW     0x4                                                                                             
0016ec   6f72     MOVWF     0x72,0x1                                                                                        
0016ee   8173     BSF       0x73,0x0,0x1           inPipes[0].info.bits.ctrl_trf_mem = USB_EP0_RAM;               // Set memory type /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0016f0   0e02     MOVLW     0x2                    inPipes[0].wCount.v[0] = 2;                         // Set data count   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0016f2   6f74     MOVWF     0x74,0x1                                                                                        
                                               }//end if(...)                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0016f4   0e02     MOVLW     0x2            }//end USBStdGetStatusHandler                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0016f6   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0016f8   e202     BC        0x16fe                                                                                          
0016fa   6ae1     CLRF      0xe1,0x0                                                                                        
0016fc   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0016fe   6ee1     MOVWF     0xe1,0x0                                                                                        
001700   d1e9     BRA       0x1ad4                                                                                          
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           /****************************************************************************** /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Function:        void USBCtrlEPServiceComplete(void)                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * PreCondition:    None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Input:           None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Output:          None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Side Effects:    None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Overview:        This routine wrap up the remaining tasks in servicing       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                  a Setup Request. Its main task is to set the endpoint       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                  controls appropriately for a given situation. See code      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                  below.                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                  There are three main scenarios:                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                  a) There was no handler for the Request, in this case       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                     a STALL should be sent out.                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                  b) The host has requested a read control transfer,          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                     endpoints are required to be setup in a specific way.    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                  c) The host has requested a write control transfer, or      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                     a control data stage is not required, endpoints are      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                     required to be setup in a specific way.                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                  Packet processing is resumed by clearing PKTDIS bit.        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Note:            None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *****************************************************************************/ /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           static void USBCtrlEPServiceComplete(void)                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           {                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               /*                                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                * PKTDIS bit is set when a Setup Transaction is received.                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                * Clear to resume packet processing.                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                */                                                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001702   986d     BCF       0x6d,0x4,0x0       USBPacketDisable = 0;                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           	//Check the busy bits and the SetupPtk.DataDir variables to determine what type of /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           	//control transfer is currently in progress.  We need to know the type of control /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           	//transfer that is currently pending, in order to know how to properly arm the  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           	//EP0 IN and EP0 OUT endpoints.                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001704   0100     MOVLB     0x0                if(inPipes[0].info.bits.busy == 0)                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001706   bf73     BTFSC     0x73,0x7,0x1                                                                                    
001708   d00d     BRA       0x1724                                                                                          
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00170a   af78     BTFSS     0x78,0x7,0x1           if(outPipes[0].info.bits.busy == 1)                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00170c   d009     BRA       0x1720                                                                                          
                                                   {                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00170e   0e02     MOVLW     0x2                        controlTransferState = CTRL_TRF_RX;                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001710   6f70     MOVWF     0x70,0x1                                                                                        
                                                       /*                                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                        * Control Write:                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                        * <SETUP[0]><OUT[1]><OUT[0]>...<IN[1]> | <SETUP[0]>                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                        */                                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       //1. Prepare OUT EP to receive data, unless a USB class request handler /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       //   function decided to defer the data stage (ex: because the intended /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       //   RAM buffer wasn't available yet) by calling USBDeferDataStage(). /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       //   If it did so, it is then responsible for calling USBCtrlEPAllowDataStage(), /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       //   once it is ready to begin receiving the data.                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001712   518d     MOVF      0x8d,0x0,0x1               if(USBDeferOUTDataStagePackets == FALSE)                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001714   e101     BNZ       0x1718                                                                                          
                                                       {                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001716   df60     RCALL     0x15d8                         USBCtrlEPAllowDataStage();                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       }                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       //2.  IN endpoint 0 status stage will be armed by USBCtrlEPAllowStatusStage()  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       //after all of the OUT data has been received and consumed, or if a timeout occurs. /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001718   0100     MOVLB     0x0                        USBStatusStageEnabledFlag2 = FALSE;                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00171a   6b8b     CLRF      0x8b,0x1                                                                                        
00171c   6b8a     CLRF      0x8a,0x1                   USBStatusStageEnabledFlag1 = FALSE;                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   }                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00171e   0012     RETURN    0x0                    else                                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   {                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       /*                                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                        * If no one knows how to service this request then stall.          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                        * Must also prepare EP0 to receive the next SETUP transaction.     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                        */                                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001720   ef3f     GOTO      0x1c7e                     pBDTEntryEP0OutNext->CNT = USB_EP0_BUFF_SIZE;                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001722   f00e                                                                                                               
001c7e   df0e     RCALL     0x1a9c                                                                                          
                                                       pBDTEntryEP0OutNext->ADR = ConvertToPhysicalAddress(&SetupPkt);     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001c80   0e8c     MOVLW     0x8c                       pBDTEntryEP0OutNext->STAT.Val = _USIE|_DAT0|_DTSEN|_BSTALL;         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001c82   6eef     MOVWF     0xef,0x0                                                                                        
001c84   df1d     RCALL     0x1ac0                     pBDTEntryIn[0]->STAT.Val = _USIE|_BSTALL;                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001c86   0e84     MOVLW     0x84                                                                                            
001c88   6eef     MOVWF     0xef,0x0                                                                                        
001c8a   0012     RETURN    0x0                                                                                             
                                                   }                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               }                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               else    // A module has claimed ownership of the control transfer session.  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001724   0104     MOVLB     0x4            		if(SetupPkt.DataDir == USB_SETUP_DEVICE_TO_HOST_BITFIELD)                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001726   af20     BTFSS     0x20,0x7,0x1                                                                                    
001728   d00d     BRA       0x1744                                                                                          
                                           		{                                                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00172a   0100     MOVLB     0x0            			controlTransferState = CTRL_TRF_TX;                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00172c   0e01     MOVLW     0x1                                                                                             
00172e   6f70     MOVWF     0x70,0x1                                                                                        
                                           			/*                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           			 * Control Read:                                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           			 * <SETUP[0]><IN[1]><IN[0]>...<OUT[1]> | <SETUP[0]>                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           			 *                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           			 * 1. Prepare IN EP to transfer data to the host.  If however the data       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           			 *    wasn't ready yet (ex: because the firmware needs to go and read it from /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           			 *    some slow/currently unavailable resource, such as an external I2C EEPROM), /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           			 *    Then the class request handler reponsible should call the USBDeferDataStage() /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           			 *    macro.  In this case, the firmware may wait up to 500ms, before it is required /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           			 *    to transmit the first IN data packet.  Once the data is ready, and the firmware /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           			 *    is ready to begin sending the data, it should then call the            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           			 *    USBCtrlEPAllowDataStage() function to start the data stage.            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           			 */                                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001730   518c     MOVF      0x8c,0x0,0x1   			if(USBDeferINDataStagePackets == FALSE)                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001732   e101     BNZ       0x1736                                                                                          
                                                       {                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001734   df51     RCALL     0x15d8                         USBCtrlEPAllowDataStage();                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           			}                                                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       // 2. (Optionally) allow the status stage now, to prepare for early termination. /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       //    Note: If a class request handler decided to set USBDeferStatusStagePacket == TRUE, /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       //    then it is responsible for eventually calling USBCtrlEPAllowStatusStage() once it /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       //    is ready.  If the class request handler does this, it needs to be careful to /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       //    be written so that it can handle the early termination scenario. /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       //    Ex: It should call USBCtrlEPAllowStatusStage() when any of the following occurs: /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       //    1.  The desired total number of bytes were sent to the host.  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       //    2.  The number of bytes that the host originally requested (in the SETUP packet that  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       //        started the control transfer) has been reached.           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       //    3.  Or, if a timeout occurs (ex: <50ms since the last successful EP0 IN transaction), regardless  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       //        of how many bytes have actually been sent.  This is necessary to prevent a deadlock situation /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       //        (where the control transfer can't complete, due to continuous NAK on status stage) if the /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       //        host performs early termination.  If enabled, the USB_ENABLE_STATUS_STAGE_TIMEOUTS usb_config.h /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       //        option can take care of this for you.                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       //    Note: For this type of control transfer, there is normally no harm in simply arming the /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       //    status stage packet right now, even if the IN data is not ready yet.  This allows for /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       //    immediate early termination, without adding unecessary delay.  Therefore, it is generally not /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       //    recommended for the USB class handler firmware to call USBDeferStatusStage(), for this  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       //    type of control transfer.  If the USB class handler firmware needs more time to fetch the IN /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       //    data that needs to be sent to the host, it should instead use the USBDeferDataStage() function. /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001736   0100     MOVLB     0x0                        USBStatusStageEnabledFlag2 = FALSE;                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001738   6b8b     CLRF      0x8b,0x1                                                                                        
00173a   6b8a     CLRF      0x8a,0x1                   USBStatusStageEnabledFlag1 = FALSE;                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00173c   5189     MOVF      0x89,0x0,0x1               if(USBDeferStatusStagePacket == FALSE)                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00173e   e10d     BNZ       0x175a                                                                                          
                                                       {                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001740   efc7     GOTO      0x158e                         USBCtrlEPAllowStatusStage();                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001742   f00a                                                                                                               
                                                       }                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           		}                                                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           		else   // (SetupPkt.DataDir == USB_SETUP_DIRECTION_HOST_TO_DEVICE)            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           		{                                                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           			//This situation occurs for special types of control transfers,              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           			//such as that which occurs when the host sends a SET_ADDRESS                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           			//control transfer.  Ex:                                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           			//                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           			//<SETUP[0]><IN[1]> | <SETUP[0]>                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           				                                                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           			//Although the data direction is HOST_TO_DEVICE, there is no data stage      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           			//(hence: outPipes[0].info.bits.busy == 0).  There is however still          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           			//an IN status stage.                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001744   0100     MOVLB     0x0            			controlTransferState = CTRL_TRF_RX;     //Since this is a HOST_TO_DEVICE control transfer /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001746   0e02     MOVLW     0x2                                                                                             
001748   6f70     MOVWF     0x70,0x1                                                                                        
                                           			                                                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           			//1. Prepare OUT EP to receive the next SETUP packet.                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00174a   d9a8     RCALL     0x1a9c         			pBDTEntryEP0OutNext->CNT = USB_EP0_BUFF_SIZE;                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           			pBDTEntryEP0OutNext->ADR = ConvertToPhysicalAddress(&SetupPkt);              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00174c   0e84     MOVLW     0x84           			pBDTEntryEP0OutNext->STAT.Val = _USIE|_BSTALL;                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00174e   6eef     MOVWF     0xef,0x0                                                                                        
                                           				                                                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           			//2. Prepare for IN status stage of the control transfer                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001750   6b8b     CLRF      0x8b,0x1                   USBStatusStageEnabledFlag2 = FALSE;                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001752   6b8a     CLRF      0x8a,0x1                   USBStatusStageEnabledFlag1 = FALSE;                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001754   5189     MOVF      0x89,0x0,0x1   			if(USBDeferStatusStagePacket == FALSE)                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001756   e101     BNZ       0x175a                                                                                          
                                                       {                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001758   df1a     RCALL     0x158e                         USBCtrlEPAllowStatusStage();                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       }                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           		}                                                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               }//end if(ctrl_trf_session_owner == MUID_NULL)                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00175a   0012     RETURN    0x0            }//end USBCtrlEPServiceComplete                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           /****************************************************************************** /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Function:        void USBCtrlTrfTxService(void)                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * PreCondition:    pSrc, wCount, and usb_stat.ctrl_trf_mem are setup properly. /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Input:           None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Output:          None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Side Effects:    None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Overview:        This routine is used for device to host control transfers   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *					(IN transactions).  This function takes care of managing a               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                  transfer over multiple USB transactions.                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *					This routine should be called from only two places.                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                  One from USBCtrlEPServiceComplete() and one from            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                  USBCtrlTrfInHandler().                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Note:                                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *****************************************************************************/ /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00175c   dab0     RCALL     0x1cbe         static void USBCtrlTrfTxService(void)                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           {                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               BYTE byteToSend;                                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //Figure out how many bytes of data to send in the next IN transaction.     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //Assume a full size packet, unless otherwise determined below.             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00175e   0e08     MOVLW     0x8                byteToSend = USB_EP0_BUFF_SIZE;                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001760   6edf     MOVWF     0xdf,0x0                                                                                        
001762   0100     MOVLB     0x0                if(inPipes[0].wCount.Val < (BYTE)USB_EP0_BUFF_SIZE)                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001764   5d74     SUBWF     0x74,0x0,0x1                                                                                    
001766   0e00     MOVLW     0x0                                                                                             
001768   5975     SUBWFB    0x75,0x0,0x1                                                                                    
00176a   e20a     BC        0x1780                                                                                          
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00176c   c074     MOVFF     0x74,0xfdf             byteToSend = inPipes[0].wCount.Val;                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00176e   ffdf                                                                                                               
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //Keep track of whether or not we have sent a "short packet" yet.       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //This is useful so that later on, we can configure EP0 IN to STALL,    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //after we have sent all of the intended data.  This makes sure the     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //hardware STALLs if the host erroneously tries to send more IN token   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //packets, requesting more data than intended in the control transfer.  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001770   516f     MOVF      0x6f,0x0,0x1           if(shortPacketStatus == SHORT_PKT_NOT_USED)                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001772   e102     BNZ       0x1778                                                                                          
                                                   {                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001774   0e01     MOVLW     0x1                        shortPacketStatus = SHORT_PKT_PENDING;                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   }                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001776   d003     BRA       0x177e                 else if(shortPacketStatus == SHORT_PKT_PENDING)                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001778   056f     DECF      0x6f,0x0,0x1                                                                                    
00177a   e102     BNZ       0x1780                                                                                          
                                                   {                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00177c   0e02     MOVLW     0x2                        shortPacketStatus = SHORT_PKT_SENT;                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00177e   6f6f     MOVWF     0x6f,0x1                                                                                        
                                                   }                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               }                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //Keep track of how many bytes remain to be sent in the transfer, by        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //subtracting the number of bytes about to be sent from the total.          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001780   50df     MOVF      0xdf,0x0,0x0       inPipes[0].wCount.Val = inPipes[0].wCount.Val - byteToSend;                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001782   6a0c     CLRF      0xc,0x0                                                                                         
001784   50e8     MOVF      0xe8,0x0,0x0                                                                                    
001786   5d74     SUBWF     0x74,0x0,0x1                                                                                    
001788   6f74     MOVWF     0x74,0x1                                                                                        
00178a   500c     MOVF      0xc,0x0,0x0                                                                                     
00178c   5975     SUBWFB    0x75,0x0,0x1                                                                                    
00178e   6f75     MOVWF     0x75,0x1                                                                                        
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //Next, load the number of bytes to send to BC7..0 in buffer descriptor.    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //Note: Control endpoints may never have a max packet size of > 64 bytes.   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //Therefore, the BC8 and BC9 bits should always be maintained clear.        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001790   d997     RCALL     0x1ac0             pBDTEntryIn[0]->CNT = byteToSend;                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001792   52ee     MOVF      0xee,0x1,0x0                                                                                    
001794   cfdf     MOVFF     0xfdf,0xfef                                                                                     
001796   ffef                                                                                                               
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //Now copy the data from the source location, to the CtrlTrfData[] buffer,  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //which we will send to the host.                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001798   0e28     MOVLW     0x28               pDst = (USB_VOLATILE BYTE*)CtrlTrfData;                // Set destination pointer /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00179a   6f7d     MOVWF     0x7d,0x1                                                                                        
00179c   0e04     MOVLW     0x4                                                                                             
00179e   6f7e     MOVWF     0x7e,0x1                                                                                        
0017a0   b173     BTFSC     0x73,0x0,0x1       if(inPipes[0].info.bits.ctrl_trf_mem == USB_EP0_ROM)   // Determine type of memory source /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0017a2   d00d     BRA       0x17be                                                                                          
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0017a4   50df     MOVF      0xdf,0x0,0x0           while(byteToSend)                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0017a6   e017     BZ        0x17d6                                                                                          
0017bc   d7f3     BRA       0x17a4                                                                                          
                                                   {                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0017a8   c071     MOVFF     0x71,0xff6                 *pDst++ = *inPipes[0].pSrc.bRom++;                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0017aa   fff6                                                                                                               
0017ac   c072     MOVFF     0x72,0xff7                                                                                      
0017ae   fff7                                                                                                               
0017b0   2b71     INCF      0x71,0x1,0x1                                                                                    
0017b2   0e00     MOVLW     0x0                                                                                             
0017b4   2372     ADDWFC    0x72,0x1,0x1                                                                                    
0017b6   0008     TBLRD                                                                                                     
0017b8   50f5     MOVF      0xf5,0x0,0x0                                                                                    
0017ba   d9db     RCALL     0x1b72                                                                                          
001b72   6ee6     MOVWF     0xe6,0x0                                                                                        
001b74   c07d     MOVFF     0x7d,0xfe9                                                                                      
001b76   ffe9                                                                                                               
001b78   c07e     MOVFF     0x7e,0xfea                                                                                      
001b7a   ffea                                                                                                               
001b7c   2b7d     INCF      0x7d,0x1,0x1                                                                                    
001b7e   0e00     MOVLW     0x0                                                                                             
001b80   237e     ADDWFC    0x7e,0x1,0x1                                                                                    
001b82   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001b84   50e7     MOVF      0xe7,0x0,0x0                                                                                    
001b86   6eef     MOVWF     0xef,0x0                                                                                        
001b88   06df     DECF      0xdf,0x1,0x0               byteToSend--;                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001b8a   0012     RETURN    0x0                                                                                             
                                                   }//end while(byte_to_send.Val)                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               }                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               else  // RAM                                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0017be   50df     MOVF      0xdf,0x0,0x0           while(byteToSend)                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0017c0   e00a     BZ        0x17d6                                                                                          
0017d4   d7f4     BRA       0x17be                                                                                          
                                                   {                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0017c2   c071     MOVFF     0x71,0xfe9                 *pDst++ = *inPipes[0].pSrc.bRam++;                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0017c4   ffe9                                                                                                               
0017c6   c072     MOVFF     0x72,0xfea                                                                                      
0017c8   ffea                                                                                                               
0017ca   2b71     INCF      0x71,0x1,0x1                                                                                    
0017cc   0e00     MOVLW     0x0                                                                                             
0017ce   2372     ADDWFC    0x72,0x1,0x1                                                                                    
0017d0   50ef     MOVF      0xef,0x0,0x0                                                                                    
0017d2   d9cf     RCALL     0x1b72                                                                                          
                                                       byteToSend--;                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   }//end while(byte_to_send.Val)                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               }//end if(usb_stat.ctrl_trf_mem == _ROM)                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0017d6   52e5     MOVF      0xe5,0x1,0x0   }//end USBCtrlTrfTxService                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0017d8   d17d     BRA       0x1ad4                                                                                          
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           /****************************************************************************** /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Function:        void USBCtrlTrfRxService(void)                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * PreCondition:    pDst and wCount are setup properly.                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                  pSrc is always &CtrlTrfData                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                  usb_stat.ctrl_trf_mem is always USB_EP0_RAM.                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                  wCount should be set to 0 at the start of each control      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                  transfer.                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Input:           None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Output:          None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Side Effects:    None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Overview:        This routine is used for host to device control transfers   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *					(uses OUT transactions).  This function receives the data that arrives   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *					on EP0 OUT, and copies it into the appropriate outPipes[0].pDst.bRam     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *					buffer.  Once the host has sent all the data it was intending            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *					to send, this function will call the appropriate outPipes[0].pFunc()     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *					handler (unless it is NULL), so that it can be used by the               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *					intended target firmware.                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Note:            None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *****************************************************************************/ /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0017da   da43     RCALL     0x1c62         static void USBCtrlTrfRxService(void)                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           {                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               BYTE byteToRead;                                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               BYTE i;                                                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //Load byteToRead with the number of bytes the host just sent us in the     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //last OUT transaction.                                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0017dc   d987     RCALL     0x1aec             byteToRead = pBDTEntryEP0OutCurrent->CNT;                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0017de   52ee     MOVF      0xee,0x1,0x0                                                                                    
0017e0   cfef     MOVFF     0xfef,0xfdf                                                                                     
0017e2   ffdf                                                                                                               
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //Update the "outPipes[0].wCount.Val", which keeps track of the total number /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //of remaining bytes expected to be received from the host, in the control  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //transfer.  First check to see if the host sent us more bytes than the     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //application firmware was expecting to receive.                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0017e4   cfdf     MOVFF     0xfdf,0xb          if(byteToRead > outPipes[0].wCount.Val)                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0017e6   f00b                                                                                                               
0017e8   500b     MOVF      0xb,0x0,0x0                                                                                     
0017ea   0100     MOVLB     0x0                                                                                             
0017ec   5d79     SUBWF     0x79,0x0,0x1                                                                                    
0017ee   0e00     MOVLW     0x0                                                                                             
0017f0   597a     SUBWFB    0x7a,0x0,0x1                                                                                    
0017f2   e202     BC        0x17f8                                                                                          
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0017f4   c079     MOVFF     0x79,0xfdf             byteToRead = outPipes[0].wCount.Val;                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0017f6   ffdf                                                                                                               
                                               }	                                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //Reduce the number of remaining bytes by the number we just received.      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0017f8   50df     MOVF      0xdf,0x0,0x0   	outPipes[0].wCount.Val = outPipes[0].wCount.Val - byteToRead;                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0017fa   6e0b     MOVWF     0xb,0x0                                                                                         
0017fc   6a0c     CLRF      0xc,0x0                                                                                         
0017fe   50e8     MOVF      0xe8,0x0,0x0                                                                                    
001800   5d79     SUBWF     0x79,0x0,0x1                                                                                    
001802   6f79     MOVWF     0x79,0x1                                                                                        
001804   500c     MOVF      0xc,0x0,0x0                                                                                     
001806   597a     SUBWFB    0x7a,0x0,0x1                                                                                    
001808   6f7a     MOVWF     0x7a,0x1                                                                                        
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //Copy the OUT DATAx packet bytes that we just received from the host,      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //into the user application buffer space.                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00180a   0e01     MOVLW     0x1                for(i=0;i<byteToRead;i++)                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00180c   6adb     CLRF      0xdb,0x0                                                                                        
00180e   50df     MOVF      0xdf,0x0,0x0                                                                                    
001810   6ef3     MOVWF     0xf3,0x0                                                                                        
001812   0e01     MOVLW     0x1                                                                                             
001814   cfdb     MOVFF     0xfdb,0xff4                                                                                     
001816   fff4                                                                                                               
001818   50f3     MOVF      0xf3,0x0,0x0                                                                                    
00181a   5cf4     SUBWF     0xf4,0x0,0x0                                                                                    
00181c   e216     BC        0x184a                                                                                          
001844   0e01     MOVLW     0x1                                                                                             
001846   2adb     INCF      0xdb,0x1,0x0                                                                                    
001848   d7e2     BRA       0x180e                                                                                          
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00181e   0e01     MOVLW     0x1                    *outPipes[0].pDst.bRam++ = CtrlTrfData[i];                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001820   50db     MOVF      0xdb,0x0,0x0                                                                                    
001822   6aea     CLRF      0xea,0x0                                                                                        
001824   0f28     ADDLW     0x28                                                                                            
001826   6ee9     MOVWF     0xe9,0x0                                                                                        
001828   0e04     MOVLW     0x4                                                                                             
00182a   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00182c   50ef     MOVF      0xef,0x0,0x0                                                                                    
00182e   6ee6     MOVWF     0xe6,0x0                                                                                        
001830   c076     MOVFF     0x76,0xfe9                                                                                      
001832   ffe9                                                                                                               
001834   c077     MOVFF     0x77,0xfea                                                                                      
001836   ffea                                                                                                               
001838   2b76     INCF      0x76,0x1,0x1                                                                                    
00183a   0e00     MOVLW     0x0                                                                                             
00183c   2377     ADDWFC    0x77,0x1,0x1                                                                                    
00183e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001840   50e7     MOVF      0xe7,0x0,0x0                                                                                    
001842   6eef     MOVWF     0xef,0x0                                                                                        
                                               }//end while(byteToRead.Val)                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //If there is more data to receive, prepare EP0 OUT so that it can receive  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           	//the next packet in the sequence.                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00184a   0e00     MOVLW     0x0                if(outPipes[0].wCount.Val > 0)                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00184c   80d8     BSF       0xd8,0x0,0x0                                                                                    
00184e   5579     SUBFWB    0x79,0x0,0x1                                                                                    
001850   0e00     MOVLW     0x0                                                                                             
001852   557a     SUBFWB    0x7a,0x0,0x1                                                                                    
001854   e20d     BC        0x1870                                                                                          
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001856   da59     RCALL     0x1d0a                 pBDTEntryEP0OutNext->CNT = USB_EP0_BUFF_SIZE;                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001d0a   df94     RCALL     0x1c34                                                                                          
001d0c   52ee     MOVF      0xee,0x1,0x0                                                                                    
001d0e   0e08     MOVLW     0x8                                                                                             
001d10   6eef     MOVWF     0xef,0x0                                                                                        
001858   d94e     RCALL     0x1af6                 pBDTEntryEP0OutNext->ADR = ConvertToPhysicalAddress(&CtrlTrfData);      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001af6   d90f     RCALL     0x1d16                                                                                          
001af8   0e28     MOVLW     0x28                                                                                            
001afa   6eee     MOVWF     0xee,0x0                                                                                        
001afc   0e04     MOVLW     0x4                                                                                             
001afe   6eed     MOVWF     0xed,0x0                                                                                        
001b00   0012     RETURN    0x0                                                                                             
001d12   ef1a     GOTO      0x1c34                                                                                          
001d14   f00e                                                                                                               
00185a   d948     RCALL     0x1aec                 if(pBDTEntryEP0OutCurrent->STAT.DTS == 0)                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00185c   50ef     MOVF      0xef,0x0,0x0                                                                                    
00185e   0b40     ANDLW     0x40                                                                                            
001860   e103     BNZ       0x1868                                                                                          
001aec   c063     MOVFF     0x63,0xfe9                                                                                      
001aee   ffe9                                                                                                               
001af0   c064     MOVFF     0x64,0xfea                                                                                      
001af2   ffea                                                                                                               
001af4   0012     RETURN    0x0                                                                                             
                                                   {                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001862   d9e8     RCALL     0x1c34                     pBDTEntryEP0OutNext->STAT.Val = _USIE|_DAT1|_DTSEN;                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001864   0ec8     MOVLW     0xc8                                                                                            
                                                   }                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001866   d002     BRA       0x186c                 else                                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   {                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001868   d9e5     RCALL     0x1c34                     pBDTEntryEP0OutNext->STAT.Val = _USIE|_DAT0|_DTSEN;                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00186a   0e88     MOVLW     0x88                                                                                            
00186c   6eef     MOVWF     0xef,0x0                                                                                        
                                                   }                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               }                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00186e   d012     BRA       0x1894             else                                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           	    //We have received all OUT packets that we were expecting to               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           	    //receive for the control transfer.  Prepare EP0 OUT to receive            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           		//the next SETUP transaction that may arrive.                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001870   d915     RCALL     0x1a9c                 pBDTEntryEP0OutNext->CNT = USB_EP0_BUFF_SIZE;                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   pBDTEntryEP0OutNext->ADR = ConvertToPhysicalAddress(&SetupPkt);         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //Configure EP0 OUT to receive the next SETUP transaction for any future /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //control transfers.  However, set BSTALL in case the host tries to send /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //more data than it claims it was going to send.                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001872   0e84     MOVLW     0x84                   pBDTEntryEP0OutNext->STAT.Val = _USIE|_BSTALL;                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001874   6eef     MOVWF     0xef,0x0                                                                                        
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           		//All data bytes for the host to device control write (OUT) have now been     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           		//received successfully.                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           		//Go ahead and call the user specified callback function, to use/consume      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           		//the control transfer data (ex: if the "void (*function)" parameter          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           		//was non-NULL when USBEP0Receive() was called).                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001876   517b     MOVF      0x7b,0x0,0x1           if(outPipes[0].pFunc != NULL)                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001878   117c     IORWF     0x7c,0x0,0x1                                                                                    
00187a   e007     BZ        0x188a                                                                                          
                                                   {                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00187c   d005     BRA       0x1888                     outPipes[0].pFunc();                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00187e   c07c     MOVFF     0x7c,0xffa                                                                                      
001880   fffa                                                                                                               
001882   0100     MOVLB     0x0                                                                                             
001884   517b     MOVF      0x7b,0x0,0x1                                                                                    
001886   6ef9     MOVWF     0xf9,0x0                                                                                        
001888   dffa     RCALL     0x187e                                                                                          
                                                   }                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00188a   0100     MOVLB     0x0                    outPipes[0].info.bits.busy = 0;                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00188c   9f78     BCF       0x78,0x7,0x1                                                                                    
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //Ready to arm status stage IN transaction now, if the application      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //firmware has completed processing the request.  If it is still busy   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //and needs more time to finish handling the request, then the user     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //callback (the one called by the outPipes[0].pFunc();) should set the  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //USBDeferStatusStagePacket to TRUE (by calling USBDeferStatusStage()).  In  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //this case, it is the application's firmware responsibility to call    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //the USBCtrlEPAllowStatusStage() function, once it is fully done handling the request. /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //Note: The application firmware must process the request and call      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //USBCtrlEPAllowStatusStage() in a semi-timely fashion.  "Semi-timely"  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //means either 50ms, 500ms, or 5 seconds, depending on the type of      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //control transfer.  See the USB 2.0 specification section 9.2.6 for    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //more details.                                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00188e   5189     MOVF      0x89,0x0,0x1           if(USBDeferStatusStagePacket == FALSE)                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001890   e101     BNZ       0x1894                                                                                          
                                                   {                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001892   de7d     RCALL     0x158e                     USBCtrlEPAllowStatusStage();                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   }                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               }                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001894   0e02     MOVLW     0x2            }//end USBCtrlTrfRxService                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001896   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
001898   e202     BC        0x189e                                                                                          
00189a   6ae1     CLRF      0xe1,0x0                                                                                        
00189c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00189e   6ee1     MOVWF     0xe1,0x0                                                                                        
0018a0   d119     BRA       0x1ad4                                                                                          
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           /********************************************************************           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Function:        void USBStdSetCfgHandler(void)                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * PreCondition:    None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Input:           None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Output:          None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Side Effects:    None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Overview:        This routine first disables all endpoints by                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                  clearing UEP registers. It then configures                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                  (initializes) endpoints by calling the callback             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                  function USBCBInitEP().                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Note:            None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *******************************************************************/           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0018a2   da0d     RCALL     0x1cbe         void USBStdSetCfgHandler(void)                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001aca   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
001acc   ffe6                                                                                                               
001ace   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
001ad0   ffd9                                                                                                               
001ad2   0012     RETURN    0x0                                                                                             
001cbe   df05     RCALL     0x1aca                                                                                          
001cc0   52e6     MOVF      0xe6,0x1,0x0                                                                                    
001cc2   0012     RETURN    0x0                                                                                             
                                           {                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               BYTE i;                                                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               // This will generate a zero length packet                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0018a4   0100     MOVLB     0x0                inPipes[0].info.bits.busy = 1;                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0018a6   8f73     BSF       0x73,0x7,0x1                                                                                    
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //Clear all of the endpoint control registers                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0018a8   d955     RCALL     0x1b54             DisableNonZeroEndpoints(USB_MAX_EP_NUMBER);                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //Clear all of the BDT entries                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0018aa   6adf     CLRF      0xdf,0x0           for(i=0;i<(sizeof(BDT)/sizeof(BDT_ENTRY));i++)                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0018ac   d989     RCALL     0x1bc0                                                                                          
0018ae   e202     BC        0x18b4                                                                                          
0018b2   d7fc     BRA       0x18ac                                                                                          
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0018b0   d937     RCALL     0x1b20                 BDT[i].Val = 0x00;                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               }                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               // Assert reset request to all of the Ping Pong buffer pointers             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0018b4   8c6d     BSF       0x6d,0x6,0x0       USBPingPongBufferReset = 1;                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           	//Re-Initialize all ping pong software state bits to 0 (which corresponds to   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           	//the EVEN buffer being the next one that will be used), since we are also     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           	//doing a hardware ping pong pointer reset above.                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0018b6   6adf     CLRF      0xdf,0x0       	for(i = 0; i < (BYTE)(USB_MAX_EP_NUMBER+1u); i++)                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0018b8   0e02     MOVLW     0x2                                                                                             
0018ba   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
0018bc   e202     BC        0x18c2                                                                                          
0018c0   d7fb     BRA       0x18b8                                                                                          
                                           	{                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0018be   d940     RCALL     0x1b40         		ep_data_in[i].Val = 0u;                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   ep_data_out[i].Val = 0u;                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           	}                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //clear the alternate interface settings                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0018c2   0e01     MOVLW     0x1                memset((void*)&USBAlternateInterface,0x00,USB_MAX_NUM_INT);                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0018c4   6ee6     MOVWF     0xe6,0x0                                                                                        
0018c6   6ae6     CLRF      0xe6,0x0                                                                                        
0018c8   6ae6     CLRF      0xe6,0x0                                                                                        
0018ca   0e62     MOVLW     0x62                                                                                            
0018cc   6ee6     MOVWF     0xe6,0x0                                                                                        
0018ce   0e00     MOVLW     0x0                                                                                             
0018d0   d9ee     RCALL     0x1cae                                                                                          
001cae   6ee6     MOVWF     0xe6,0x0                                                                                        
001cb0   ec51     CALL      0x26a2,0x0                                                                                      
001cb2   f013                                                                                                               
001cb4   6e0b     MOVWF     0xb,0x0                                                                                         
001cb6   0e05     MOVLW     0x5                                                                                             
001cb8   5ee1     SUBWF     0xe1,0x1,0x0                                                                                    
001cba   500b     MOVF      0xb,0x0,0x0                                                                                     
001cbc   0012     RETURN    0x0                                                                                             
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //Stop trying to reset ping pong buffer pointers                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0018d2   9c6d     BCF       0x6d,0x6,0x0       USBPingPongBufferReset = 0;                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0018d4   0100     MOVLB     0x0                pBDTEntryIn[0] = (volatile BDT_ENTRY*)&BDT[EP0_IN_EVEN];                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0018d6   0e08     MOVLW     0x8                                                                                             
0018d8   6f6b     MOVWF     0x6b,0x1                                                                                        
0018da   0e04     MOVLW     0x4                                                                                             
0018dc   6f6c     MOVWF     0x6c,0x1                                                                                        
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           	//Set the next out to the current out packet                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0018de   0e00     MOVLW     0x0                pBDTEntryEP0OutCurrent = (volatile BDT_ENTRY*)&BDT[EP0_OUT_EVEN];           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0018e0   6f63     MOVWF     0x63,0x1                                                                                        
0018e2   0e04     MOVLW     0x4                                                                                             
0018e4   6f64     MOVWF     0x64,0x1                                                                                        
0018e6   c063     MOVFF     0x63,0x65          pBDTEntryEP0OutNext = pBDTEntryEP0OutCurrent;                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0018e8   f065                                                                                                               
0018ea   6f66     MOVWF     0x66,0x1                                                                                        
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //set the current configuration                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0018ec   c422     MOVFF     0x422,0x61         USBActiveConfiguration = SetupPkt.bConfigurationValue;                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0018ee   f061                                                                                                               
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //if the configuration value == 0                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0018f0   5161     MOVF      0x61,0x0,0x1       if(USBActiveConfiguration == 0)                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0018f2   e102     BNZ       0x18f8                                                                                          
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //Go back to the addressed state                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0018f4   0e10     MOVLW     0x10                   USBDeviceState = ADDRESS_STATE;                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               }                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0018f6   d00b     BRA       0x190e             else                                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //initialize the required endpoints                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0018f8   0e01     MOVLW     0x1                    USB_SET_CONFIGURATION_HANDLER(EVENT_CONFIGURED,(void*)&USBActiveConfiguration,1); /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0018fa   6ee6     MOVWF     0xe6,0x0                                                                                        
0018fc   6ae6     CLRF      0xe6,0x0                                                                                        
0018fe   0e61     MOVLW     0x61                                                                                            
001900   6ee6     MOVWF     0xe6,0x0                                                                                        
001902   0e00     MOVLW     0x0                                                                                             
001904   6ee6     MOVWF     0xe6,0x0                                                                                        
001906   0e01     MOVLW     0x1                                                                                             
001908   d8d2     RCALL     0x1aae                                                                                          
001aae   6ee6     MOVWF     0xe6,0x0                                                                                        
001ab0   6ae6     CLRF      0xe6,0x0                                                                                        
001ab2   ef70     GOTO      0x1ce0                                                                                          
001ab4   f00e                                                                                                               
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //Otherwise go to the configured state.  Update the state variable last, /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //after performing all of the set configuration related initialization  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //tasks.                                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00190a   0100     MOVLB     0x0                    USBDeviceState = CONFIGURED_STATE;		                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00190c   0e20     MOVLW     0x20                                                                                            
00190e   6f60     MOVWF     0x60,0x1                                                                                        
                                               }//end if(SetupPkt.bConfigurationValue == 0)                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001910   52e5     MOVF      0xe5,0x1,0x0   }//end USBStdSetCfgHandler                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001912   d0e0     BRA       0x1ad4                                                                                          
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           /********************************************************************           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Function:        void USBConfigureEndpoint(BYTE EPNum, BYTE direction)       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * PreCondition:    None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Input:           BYTE EPNum - the endpoint to be configured                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                  BYTE direction - the direction to be configured             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                   (either OUT_FROM_HOST or IN_TO_HOST)       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Output:          None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Side Effects:    None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Overview:        This function will configure the specified                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                  endpoint                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Note:            None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *******************************************************************/           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001914   d9a6     RCALL     0x1c62         static void USBConfigureEndpoint(BYTE EPNum, BYTE direction)                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           {                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               volatile BDT_ENTRY* handle;                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //Compute a pointer to the even BDT entry corresponding to the              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //EPNum and direction values passed to this function.                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001916   0e00     MOVLW     0x0                handle = (volatile BDT_ENTRY*)&BDT[EP0_OUT_EVEN]; //Get address of start of BDT /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001918   6ede     MOVWF     0xde,0x0                                                                                        
00191a   0e04     MOVLW     0x4                                                                                             
00191c   6edd     MOVWF     0xdd,0x0                                                                                        
00191e   d8f1     RCALL     0x1b02             handle += EP(EPNum,direction,0u);     //Add in offset to the BDT of interest /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001920   0d04     MULLW     0x4                                                                                             
001922   cff4     MOVFF     0xff4,0xc                                                                                       
001924   f00c                                                                                                               
001926   cfd9     MOVFF     0xfd9,0xfe9                                                                                     
001928   ffe9                                                                                                               
00192a   cfda     MOVFF     0xfda,0xfea                                                                                     
00192c   ffea                                                                                                               
00192e   50f3     MOVF      0xf3,0x0,0x0                                                                                    
001930   26ee     ADDWF     0xee,0x1,0x0                                                                                    
001932   500c     MOVF      0xc,0x0,0x0                                                                                     
001934   22ed     ADDWFC    0xed,0x1,0x0                                                                                    
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001936   d8bf     RCALL     0x1ab6             handle->STAT.UOWN = 0;  //mostly redundant, since USBStdSetCfgHandler()     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001938   9eef     BCF       0xef,0x7,0x0                                                                                    
                                               //already cleared the entire BDT table                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //Make sure our pBDTEntryIn/Out[] pointer is initialized.  Needed later     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //for USBTransferOnePacket() API calls.                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00193a   0efd     MOVLW     0xfd               if(direction == OUT_FROM_HOST)                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00193c   50db     MOVF      0xdb,0x0,0x0                                                                                    
00193e   e102     BNZ       0x1944                                                                                          
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001940   d8ea     RCALL     0x1b16                 pBDTEntryOut[EPNum] = handle;                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               }                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001942   d001     BRA       0x1946             else                                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001944   d8af     RCALL     0x1aa4                 pBDTEntryIn[EPNum] = handle;                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001946   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
001948   cfde     MOVFF     0xfde,0xfee                                                                                     
00194a   ffee                                                                                                               
00194c   cfdd     MOVFF     0xfdd,0xfed                                                                                     
00194e   ffed                                                                                                               
                                               }                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               #if (USB_PING_PONG_MODE == USB_PING_PONG__FULL_PING_PONG)                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001950   d8b2     RCALL     0x1ab6                 handle->STAT.DTS = 0;                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001952   9cef     BCF       0xef,0x6,0x0                                                                                    
001954   d8b0     RCALL     0x1ab6                 (handle+1)->STAT.DTS = 1;                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001956   0e04     MOVLW     0x4                                                                                             
001958   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
00195a   0e00     MOVLW     0x0                                                                                             
00195c   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00195e   8cef     BSF       0xef,0x6,0x0                                                                                    
                                               #elif (USB_PING_PONG_MODE == USB_PING_PONG__NO_PING_PONG)                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //Set DTS to one because the first thing we will do                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //when transmitting is toggle the bit                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   handle->STAT.DTS = 1;                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               #elif (USB_PING_PONG_MODE == USB_PING_PONG__EP0_OUT_ONLY)                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   if(EPNum != 0)                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   {                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       handle->STAT.DTS = 1;                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   }                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               #elif (USB_PING_PONG_MODE == USB_PING_PONG__ALL_BUT_EP0)                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   if(EPNum != 0)                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   {                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       handle->STAT.DTS = 0;                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       (handle+1)->STAT.DTS = 1;                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   }                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               #endif                                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001960   0e02     MOVLW     0x2            }                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001962   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
001964   e202     BC        0x196a                                                                                          
001966   6ae1     CLRF      0xe1,0x0                                                                                        
001968   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00196a   6ee1     MOVWF     0xe1,0x0                                                                                        
00196c   d0b3     BRA       0x1ad4                                                                                          
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           /***************************************************************************************************************** /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                             Function:                                                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   void USBEnableEndpoint(BYTE ep, BYTE options)                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                             Summary:                                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               This function will enable the specified endpoint with the specified         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               options                                                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                             Description:                                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               This function will enable the specified endpoint with the specified         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               options.                                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               Typical Usage:                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               <code>                                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               void USBCBInitEP(void)                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   USBEnableEndpoint(MSD_DATA_IN_EP,USB_IN_ENABLED|USB_OUT_ENABLED|USB_HANDSHAKE_ENABLED|USB_DISALLOW_SETUP); /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   USBMSDInit();                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               }                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               </code>                                                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               In the above example endpoint number MSD_DATA_IN_EP is being configured     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               for both IN and OUT traffic with handshaking enabled. Also since            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               MSD_DATA_IN_EP is not endpoint 0 (MSD does not allow this), then we can     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               explicitly disable SETUP packets on this endpoint.                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                             Conditions:                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               None                                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                             Input:                                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               BYTE ep -       the endpoint to be configured                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               BYTE options -  optional settings for the endpoint. The options should      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                               be ORed together to form a single options string. The       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                               available optional settings for the endpoint. The           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                               options should be ORed together to form a single options    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                               string. The available options are the following\:           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                               * USB_HANDSHAKE_ENABLED enables USB handshaking (ACK,       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                 NAK)                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                               * USB_HANDSHAKE_DISABLED disables USB handshaking (ACK,     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                 NAK)                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                               * USB_OUT_ENABLED enables the out direction                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                               * USB_OUT_DISABLED disables the out direction               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                               * USB_IN_ENABLED enables the in direction                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                               * USB_IN_DISABLED disables the in direction                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                               * USB_ALLOW_SETUP enables control transfers                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                               * USB_DISALLOW_SETUP disables control transfers             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                             Return:                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               None                                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                             Remarks:                                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               None                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                             *****************************************************************************************************************/ /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00196e   d979     RCALL     0x1c62         void USBEnableEndpoint(BYTE ep, BYTE options)                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           {                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               unsigned char* p;                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //Use USBConfigureEndpoint() to set up the pBDTEntryIn/Out[ep] pointer and  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //starting DTS state in the BDT entry.                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001970   0efd     MOVLW     0xfd               if(options & USB_OUT_ENABLED)                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001972   a4db     BTFSS     0xdb,0x2,0x0                                                                                    
001974   d002     BRA       0x197a                                                                                          
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001976   6ae6     CLRF      0xe6,0x0               USBConfigureEndpoint(ep, OUT_FROM_HOST);                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001978   d933     RCALL     0x1be0                                                                                          
001be0   0efe     MOVLW     0xfe                                                                                            
001be2   cfdb     MOVFF     0xfdb,0xfe6                                                                                     
001be4   ffe6                                                                                                               
001be6   de96     RCALL     0x1914                                                                                          
001be8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001bea   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001bec   0012     RETURN    0x0                                                                                             
                                               }                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00197a   0efd     MOVLW     0xfd               if(options & USB_IN_ENABLED)                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00197c   a2db     BTFSS     0xdb,0x1,0x0                                                                                    
00197e   d003     BRA       0x1986                                                                                          
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001980   0e01     MOVLW     0x1                    USBConfigureEndpoint(ep, IN_TO_HOST);                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001982   6ee6     MOVWF     0xe6,0x0                                                                                        
001984   d92d     RCALL     0x1be0                                                                                          
                                               }                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //Update the relevant UEPx register to actually enable the endpoint with    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //the specified options (ex: handshaking enabled, control transfers allowed, /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //etc.)                                                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               #if defined(__C32__)                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   p = (unsigned char*)(&U1EP0+(4*ep));                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               #else                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001986   0efe     MOVLW     0xfe                   p = (unsigned char*)(&U1EP0+ep);                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001988   50db     MOVF      0xdb,0x0,0x0                                                                                    
00198a   6a0c     CLRF      0xc,0x0                                                                                         
00198c   0f70     ADDLW     0x70                                                                                            
00198e   6e0b     MOVWF     0xb,0x0                                                                                         
001990   0e0f     MOVLW     0xf                                                                                             
001992   d910     RCALL     0x1bb4                                                                                          
                                               #endif                                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001994   d890     RCALL     0x1ab6             *p = options;                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001996   0efd     MOVLW     0xfd                                                                                            
001998   cfdb     MOVFF     0xfdb,0xfef                                                                                     
00199a   ffef                                                                                                               
00199c   0e02     MOVLW     0x2            }                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
00199e   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0019a0   e202     BC        0x19a6                                                                                          
0019a2   6ae1     CLRF      0xe1,0x0                                                                                        
0019a4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0019a6   6ee1     MOVWF     0xe1,0x0                                                                                        
0019a8   d095     BRA       0x1ad4                                                                                          
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           /********************************************************************           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Function:        void USBStallEndpoint(BYTE ep, BYTE dir)                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * PreCondition:    None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Input:                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *   BYTE ep - the endpoint the data will be transmitted on                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *   BYTE dir - the direction of the transfer                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Output:          None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Side Effects:    Endpoint is STALLed                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Overview:        STALLs the specified endpoint                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Note:            None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *******************************************************************/           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0019aa   d95b     RCALL     0x1c62         void USBStallEndpoint(BYTE ep, BYTE dir)                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           {                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               BDT_ENTRY *p;                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0019ac   0efe     MOVLW     0xfe               if(ep == 0)                                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0019ae   50db     MOVF      0xdb,0x0,0x0                                                                                    
0019b0   e102     BNZ       0x19b6                                                                                          
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //For control endpoints (ex: EP0), we need to STALL both IN and OUT     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //endpoints.  EP0 OUT must also be prepared to receive the next SETUP   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //packet that will arrrive.                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0019b2   d965     RCALL     0x1c7e                 pBDTEntryEP0OutNext->CNT = USB_EP0_BUFF_SIZE;                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001a9c   d936     RCALL     0x1d0a                                                                                          
001a9e   d8db     RCALL     0x1c56                 pBDTEntryEP0OutNext->ADR = ConvertToPhysicalAddress(&SetupPkt);         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001c56   d85f     RCALL     0x1d16                                                                                          
001c58   0e20     MOVLW     0x20                                                                                            
001c5a   6eee     MOVWF     0xee,0x0                                                                                        
001c5c   0e04     MOVLW     0x4                                                                                             
001c5e   6eed     MOVWF     0xed,0x0                                                                                        
001c60   0012     RETURN    0x0                                                                                             
001d16   0e02     MOVLW     0x2                                                                                             
001d18   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
001d1a   0e00     MOVLW     0x0                                                                                             
001d1c   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
001d1e   0012     RETURN    0x0                                                                                             
001aa0   ef1a     GOTO      0x1c34                 pBDTEntryEP0OutNext->STAT.Val = _USIE|_DAT0|_DTSEN|_BSTALL;             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001aa2   f00e                                                                                                               
001c34   c065     MOVFF     0x65,0xfe9                                                                                      
001c36   ffe9                                                                                                               
001c38   c066     MOVFF     0x66,0xfea                                                                                      
001c3a   ffea                                                                                                               
001c3c   0012     RETURN    0x0                                                                                             
                                                   pBDTEntryIn[0]->STAT.Val = _USIE|_BSTALL;                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               }                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0019b4   d005     BRA       0x19c0             else                                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0019b6   d8a5     RCALL     0x1b02                 p = (BDT_ENTRY*)(&BDT[EP(ep,dir,0)]);                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0019b8   d942     RCALL     0x1c3e                                                                                          
001b02   0efd     MOVLW     0xfd                                                                                            
001b04   50db     MOVF      0xdb,0x0,0x0                                                                                    
001b06   24e8     ADDWF     0xe8,0x0,0x0                                                                                    
001b08   6e0d     MOVWF     0xd,0x0                                                                                         
001b0a   0efe     MOVLW     0xfe                                                                                            
001b0c   50db     MOVF      0xdb,0x0,0x0                                                                                    
001b0e   0d04     MULLW     0x4                                                                                             
001b10   50f3     MOVF      0xf3,0x0,0x0                                                                                    
001b12   240d     ADDWF     0xd,0x0,0x0                                                                                     
001b14   0012     RETURN    0x0                                                                                             
001c3e   0d04     MULLW     0x4                                                                                             
001c40   cff3     MOVFF     0xff3,0xb                                                                                       
001c42   f00b                                                                                                               
001c44   cff4     MOVFF     0xff4,0xc                                                                                       
001c46   f00c                                                                                                               
001c48   0e00     MOVLW     0x0                                                                                             
001c4a   260b     ADDWF     0xb,0x1,0x0                                                                                     
001c4c   0e04     MOVLW     0x4                                                                                             
001c4e   dfb2     RCALL     0x1bb4                                                                                          
001c50   0e84     MOVLW     0x84                   p->STAT.Val |= _BSTALL | _USIE;                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001c52   ef90     GOTO      0x1d20                                                                                          
001c54   f00e                                                                                                               
001d20   deca     RCALL     0x1ab6                                                                                          
001d22   50e8     MOVF      0xe8,0x0,0x0                                                                                    
001d24   12ef     IORWF     0xef,0x1,0x0                                                                                    
001d26   0012     RETURN    0x0                                                                                             
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //If the device is in FULL or ALL_BUT_EP0 ping pong modes               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //then stall that entry as well                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   #if (USB_PING_PONG_MODE == USB_PING_PONG__FULL_PING_PONG) || (USB_PING_PONG_MODE == USB_PING_PONG__ALL_BUT_EP0) /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0019ba   d8a3     RCALL     0x1b02                 p = (BDT_ENTRY*)(&BDT[EP(ep,dir,1)]);                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0019bc   0f01     ADDLW     0x1                                                                                             
0019be   d93f     RCALL     0x1c3e                                                                                          
001bb4   220c     ADDWFC    0xc,0x1,0x0                                                                                     
001bb6   c00b     MOVFF     0xb,0xfde                                                                                       
001bb8   ffde                                                                                                               
001bba   c00c     MOVFF     0xc,0xfdd                                                                                       
001bbc   ffdd                                                                                                               
001bbe   0012     RETURN    0x0                                                                                             
                                                   p->STAT.Val |= _BSTALL | _USIE;                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   #endif                                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               }                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0019c0   0e02     MOVLW     0x2            }                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0019c2   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0019c4   e202     BC        0x19ca                                                                                          
0019c6   6ae1     CLRF      0xe1,0x0                                                                                        
0019c8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0019ca   6ee1     MOVWF     0xe1,0x0                                                                                        
0019cc   d083     BRA       0x1ad4                                                                                          
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           /********************************************************************           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Function:        USB_HANDLE USBTransferOnePacket(                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                      BYTE ep,                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                      BYTE dir,                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                      BYTE* data,                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                      BYTE len)                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * PreCondition:    The pBDTEntryIn[] or pBDTEntryOut[] pointer to              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *					the endpoint that will be used must have been                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *					initialized, prior to calling USBTransferOnePacket().                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *					Therefore, the application firmware should not call                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *					USBTransferOnePacket() until after the USB stack has been                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            					initialized (by USBDeviceInit()), and the host has sent a                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *					set configuration request.  This can be checked by                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *					verifying that the USBGetDeviceState() == CONFIGURED_STATE,              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *					prior to calling USBTransferOnePacket().                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *					                                                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *					Note: If calling the USBTransferOnePacket()                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *					function from within the USBCBInitEP() callback function,                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *					the set configuration is still being processed and the                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *					USBDeviceState may not be == CONFIGURED_STATE yet.  In this              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *					special case, the USBTransferOnePacket() may still be                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *					called, but make sure that the endpoint has been enabled                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *					and initialized by the USBEnableEndpoint() function first.               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Input:                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *   BYTE ep - The endpoint number that the data will be transmitted or         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *				received on                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *   BYTE dir - The direction of the transaction                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *              This value is either OUT_FROM_HOST or IN_TO_HOST                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *   BYTE* data - For IN transactions: pointer to the RAM buffer containing     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *				  the data to be sent to the host.                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *				  For OUT transactions: pointer to the RAM buffer that the                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *				  received data should get written to.                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                Note: The data buffer must reside in a USB module accessible  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                portion of RAM.                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *   BYTE len - The number of bytes of data to be sent (for IN transactions).   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *				For OUT transactions, the len parameter should be set                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *				to the endpoint size specified in the endpoint descriptor.                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Output:                                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *   USB_HANDLE - handle to the transfer.  The handle is a pointer to           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *					the BDT entry associated with this transaction.  The                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *					status of the transaction (ex: if it is complete or still                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *					pending) can be checked using the USBHandleBusy() macro                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *					and supplying the USB_HANDLE provided by                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *					USBTransferOnePacket().                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Side Effects:    None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Overview:        The USBTransferOnePacket() function prepares a USB endpoint /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *					so that it may send data to the host (an IN transaction),                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *					or receive data from the host (an OUT transaction).  The                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *					USBTransferOnePacket() function can be used both to receive              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *					and send data to the host.  The USBTransferOnePacket()                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *					function is the primary API function provided by the USB                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *					stack firmware for sending or receiving application data                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *					over the USB port.  The USBTransferOnePacket() is intended               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *					for use with all application endpoints.  It is not used for              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *					sending or receiving applicaiton data through endpoint 0                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *					by using control transfers.  Separate API functions,                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *					such as USBEP0Receive(), USBEP0SendRAMPtr(), and                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *					USBEP0SendROMPtr() are provided for this purpose.                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *					                                                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *					The	USBTransferOnePacket() writes to the Buffer Descriptor               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *					Table (BDT) entry associated with an endpoint buffer, and                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *					sets the UOWN bit, which prepares the USB hardware to                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *					allow the transaction to complete.  The application firmware             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *					can use the USBHandleBusy() macro to check the status of the             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *					transaction, to see if the data has been successfully                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *					transmitted yet.                                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            * Note:            None                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                            *******************************************************************/           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0019ce   d949     RCALL     0x1c62         USB_HANDLE USBTransferOnePacket(BYTE ep,BYTE dir,BYTE* data,BYTE len)           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001c62   df33     RCALL     0x1aca                                                                                          
001c64   0e02     MOVLW     0x2                                                                                             
001c66   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
001c68   0012     RETURN    0x0                                                                                             
                                           {                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               volatile BDT_ENTRY* handle;                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //If the direction is IN                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0019d0   0efd     MOVLW     0xfd               if(dir != 0)                                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0019d2   50db     MOVF      0xdb,0x0,0x0                                                                                    
0019d4   e002     BZ        0x19da                                                                                          
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //point to the IN BDT of the specified endpoint                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0019d6   d866     RCALL     0x1aa4                 handle = pBDTEntryIn[ep];                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               }                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0019d8   d001     BRA       0x19dc             else                                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //else point to the OUT BDT of the specified endpoint                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0019da   d89d     RCALL     0x1b16                 handle = pBDTEntryOut[ep];                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0019dc   d8dd     RCALL     0x1b98                                                                                          
                                               }                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //Error checking code.  Make sure the handle (pBDTEntryIn[ep] or            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //pBDTEntryOut[ep]) is initialized before using it.                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0019de   cfd9     MOVFF     0xfd9,0xfe9        if(handle == 0)                                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0019e0   ffe9                                                                                                               
0019e2   cfda     MOVFF     0xfda,0xfea                                                                                     
0019e4   ffea                                                                                                               
0019e6   50ee     MOVF      0xee,0x0,0x0                                                                                    
0019e8   10ed     IORWF     0xed,0x0,0x0                                                                                    
0019ea   e103     BNZ       0x19f2                                                                                          
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0019ec   6af3     CLRF      0xf3,0x0       	    return 0;                                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0019ee   6af4     CLRF      0xf4,0x0                                                                                        
0019f0   d021     BRA       0x1a34                                                                                          
                                           	}                                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //Toggle the DTS bit if required                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               #if (USB_PING_PONG_MODE == USB_PING_PONG__NO_PING_PONG)                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   handle->STAT.Val ^= _DTSMASK;                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               #elif (USB_PING_PONG_MODE == USB_PING_PONG__EP0_OUT_ONLY)                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   if(ep != 0)                                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   {                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       handle->STAT.Val ^= _DTSMASK;                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   }                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               #endif                                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //Set the data pointer, data length, and enable the endpoint                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0019f2   d861     RCALL     0x1ab6             handle->ADR = ConvertToPhysicalAddress(data);                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
0019f4   d990     RCALL     0x1d16                                                                                          
0019f6   0efb     MOVLW     0xfb                                                                                            
0019f8   cfdb     MOVFF     0xfdb,0xfee                                                                                     
0019fa   ffee                                                                                                               
0019fc   0efc     MOVLW     0xfc                                                                                            
0019fe   cfdb     MOVFF     0xfdb,0xfed                                                                                     
001a00   ffed                                                                                                               
001a02   d859     RCALL     0x1ab6             handle->CNT = len;                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001a04   52ee     MOVF      0xee,0x1,0x0                                                                                    
001a06   0efa     MOVLW     0xfa                                                                                            
001a08   cfdb     MOVFF     0xfdb,0xfef                                                                                     
001a0a   ffef                                                                                                               
001a0c   0e40     MOVLW     0x40               handle->STAT.Val &= _DTSMASK;                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001a0e   d979     RCALL     0x1d02                                                                                          
001d02   ded9     RCALL     0x1ab6                                                                                          
001d04   50e8     MOVF      0xe8,0x0,0x0                                                                                    
001d06   16ef     ANDWF     0xef,0x1,0x0                                                                                    
001d08   0012     RETURN    0x0                                                                                             
001a10   0e88     MOVLW     0x88               handle->STAT.Val |= _USIE | _DTSEN;                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001a12   d986     RCALL     0x1d20                                                                                          
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //Point to the next buffer for ping pong purposes.                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001a14   0efd     MOVLW     0xfd               if(dir != OUT_FROM_HOST)                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001a16   50db     MOVF      0xdb,0x0,0x0                                                                                    
001a18   e002     BZ        0x1a1e                                                                                          
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //toggle over the to the next buffer for an IN endpoint                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001a1a   d844     RCALL     0x1aa4                 USBAdvancePingPongBuffer(&pBDTEntryIn[ep]);                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               }                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001a1c   d001     BRA       0x1a20             else                                                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //toggle over the to the next buffer for an OUT endpoint                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001a1e   d87b     RCALL     0x1b16                 USBAdvancePingPongBuffer(&pBDTEntryOut[ep]);                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001a20   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
001a22   74ef     BTG       0xef,0x2,0x0                                                                                    
001b16   0efe     MOVLW     0xfe                                                                                            
001b18   6aea     CLRF      0xea,0x0                                                                                        
001b1a   34db     RLCF      0xdb,0x0,0x0                                                                                    
001b1c   ef69     GOTO      0x1cd2                                                                                          
001b1e   f00e                                                                                                               
                                               }                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001a24   cfde     MOVFF     0xfde,0xb          return (USB_HANDLE)handle;                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001a26   f00b                                                                                                               
001a28   cfdd     MOVFF     0xfdd,0xc                                                                                       
001a2a   f00c                                                                                                               
001a2c   c00b     MOVFF     0xb,0xff3                                                                                       
001a2e   fff3                                                                                                               
001a30   c00c     MOVFF     0xc,0xff4                                                                                       
001a32   fff4                                                                                                               
001a34   0e02     MOVLW     0x2            }                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001a36   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
001a38   e202     BC        0x1a3e                                                                                          
001a3a   6ae1     CLRF      0xe1,0x0                                                                                        
001a3c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001a3e   6ee1     MOVWF     0xe1,0x0                                                                                        
001a40   d049     BRA       0x1ad4                                                                                          
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           /**************************************************************************     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               Function:                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   void USBCancelIO(BYTE endpoint)                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               Description:                                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   This function cancels the transfers pending on the specified endpoint.  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   This function can only be used after a SETUP packet is received and     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   before that setup packet is handled.  This is the time period in which  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   the EVENT_EP0_REQUEST is thrown, before the event handler function      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   returns to the stack.                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               Precondition:                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               Parameters:                                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   BYTE endpoint - the endpoint number you wish to cancel transactions on  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               Return Values:                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   None                                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               Remarks:                                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   None                                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                             **************************************************************************/   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001a42   d843     RCALL     0x1aca         void USBCancelIO(BYTE endpoint)                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           {                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001a44   a86d     BTFSS     0x6d,0x4,0x0       if(USBPacketDisable == 1)                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001a46   d012     BRA       0x1a6c                                                                                          
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               	//The PKTDIS bit is currently set right now.  It is therefore "safe"       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               	//to mess with the BDT right now.                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001a48   d92f     RCALL     0x1ca8             	pBDTEntryIn[endpoint]->Val &= _DTSMASK;	//Makes UOWN = 0 (_UCPU mode).  Deactivates endpoint.  Only sends NAKs. /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001a4a   0e40     MOVLW     0x40                                                                                            
001a4c   16ee     ANDWF     0xee,0x1,0x0                                                                                    
001a4e   6aee     CLRF      0xee,0x0                                                                                        
001a50   6aee     CLRF      0xee,0x0                                                                                        
001a52   6aee     CLRF      0xee,0x0                                                                                        
001a54   d929     RCALL     0x1ca8             	pBDTEntryIn[endpoint]->Val ^= _DTSMASK;	//Toggle the DTS bit.  This packet didn't get sent yet, and the next call to USBTransferOnePacket() will re-toggle the DTS bit back to the original (correct) value. /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001a56   7cee     BTG       0xee,0x6,0x0                                                                                    
                                               	                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               	//Need to do additional handling if ping-pong buffering is being used      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   #if ((USB_PING_PONG_MODE == USB_PING_PONG__FULL_PING_PONG) || (USB_PING_PONG_MODE == USB_PING_PONG__ALL_BUT_EP0)) /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //Point to the next buffer for ping pong purposes.  UOWN getting cleared /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //(either due to SIE clearing it after a transaction, or the firmware   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //clearing it) makes hardware ping pong pointer advance.                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001a58   d825     RCALL     0x1aa4                 USBAdvancePingPongBuffer(&pBDTEntryIn[endpoint]);                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001a5a   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
001a5c   74ef     BTG       0xef,0x2,0x0                                                                                    
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001a5e   0e40     MOVLW     0x40               	pBDTEntryIn[endpoint]->STAT.Val &= _DTSMASK;                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001a60   6e0b     MOVWF     0xb,0x0                                                                                         
001a62   d922     RCALL     0x1ca8                                                                                          
001a64   500b     MOVF      0xb,0x0,0x0                                                                                     
001a66   16ef     ANDWF     0xef,0x1,0x0                                                                                    
001a68   d91f     RCALL     0x1ca8             	pBDTEntryIn[endpoint]->STAT.Val ^= _DTSMASK;                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001a6a   7cef     BTG       0xef,0x6,0x0                                                                                    
001aa4   0efe     MOVLW     0xfe                                                                                            
001aa6   6aea     CLRF      0xea,0x0                                                                                        
001aa8   34db     RLCF      0xdb,0x0,0x0                                                                                    
001aaa   ef62     GOTO      0x1cc4                                                                                          
001aac   f00e                                                                                                               
001b66   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
001b68   50ee     MOVF      0xee,0x0,0x0                                                                                    
001b6a   cfef     MOVFF     0xfef,0xfea                                                                                     
001b6c   ffea                                                                                                               
001b6e   6ee9     MOVWF     0xe9,0x0                                                                                        
001b70   0012     RETURN    0x0                                                                                             
001ca8   defd     RCALL     0x1aa4                                                                                          
001caa   efb3     GOTO      0x1b66                                                                                          
001cac   f00d                                                                                                               
                                                   #endif                                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               }                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001a6c   d033     BRA       0x1ad4         }                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001ad4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001ad6   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
001ad8   ffd9                                                                                                               
001ada   0012     RETURN    0x0                                                                                             
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           /**************************************************************************     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               Function:                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   void USBDeviceDetach(void)                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               Summary:                                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   This function configures the USB module to "soft detach" itself from    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   the USB host.                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               Description:                                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   This function configures the USB module to perform a "soft detach"      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   operation, by disabling the D+ (or D-) ~1.5k pull up resistor, which    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   lets the host know the device is present and attached.  This will make  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   the host think that the device has been unplugged.  This is potentially /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   useful, as it allows the USB device to force the host to re-enumerate   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   the device (on the firmware has re-enabled the USB module/pull up, by   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   calling USBDeviceAttach(), to "soft re-attach" to the host).            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               Precondition:                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   Should only be called when USB_INTERRUPT is defined.  See remarks       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   section if USB_POLLING mode option is being used (usb_config.h option). /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   Additionally, this function should only be called from the main() loop  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   context.  Do not call this function from within an interrupt handler, as  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   this function may modify global interrupt enable bits and settings.     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               Parameters:                                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   None                                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               Return Values:                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   None                                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               Remarks:                                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   Important remarks exist for this function.  See the remarks section in  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   the usb_device.h header file.  See also the USBDeviceAttach() function. /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                             **************************************************************************/   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           #if defined(USB_INTERRUPT)                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           void USBDeviceDetach(void)                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           {                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //If the interrupt option is selected then the customer is required         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //  to notify the stack when the device is attached or removed from the     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //  bus by calling the USBDeviceAttach() and USBDeviceDetach() functions.   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           #ifdef USB_SUPPORT_OTG                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               if (USB_BUS_SENSE != 1)                                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           #endif                                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    // Disable module & detach from bus                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001a6e   6a6d     CLRF      0x6d,0x0                U1CON = 0;                                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    // Mask all USB interrupts                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001a70   6a69     CLRF      0x69,0x0                U1IE = 0;                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    //Move to the detached state                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001a72   0100     MOVLB     0x0                     USBDeviceState = DETACHED_STATE;                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001a74   6b60     CLRF      0x60,0x1                                                                                        
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    #ifdef  USB_SUPPORT_OTG                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                        //Disable D+ Pullup                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                        U1OTGCONbits.DPPULUP = 0;                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                        //Disable HNP                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                        USBOTGDisableHnp();                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                        //Deactivate HNP                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                        USBOTGDeactivateHnp();                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                        //If ID Pin Changed State                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                        if (USBIDIF && USBIDIE)                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                        {                                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                            //Re-detect & Initialize                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                             USBOTGInitialize();                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                             //Clear ID Interrupt Flag                                     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                             USBClearInterruptFlag(USBIDIFReg,USBIDIFBitNum);              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                        }                                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    #endif                                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    #ifdef __C30__                                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                        //USBClearInterruptFlag(U1OTGIR, 3);                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                    #endif                                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       //return so that we don't go through the rest of                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       //the state machine                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                     return;                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               }                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           #ifdef USB_SUPPORT_OTG                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //If Session Is Started Then                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                              else                                                                         /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                              {                                                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   //If SRP Is Ready                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   if (USBOTGSRPIsReady())                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   {                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       //Clear SRPReady                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       USBOTGClearSRPReady();                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       //Clear SRP Timeout Flag                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       USBOTGClearSRPTimeOutFlag();                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       //Indicate Session Started                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       UART2PrintString( "\r\n***** USB OTG B Event - Session Started  *****\r\n" ); /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   }                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               }                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           #endif                                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001a76   0012     RETURN    0x0            }                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           #endif  //#if defined(USB_INTERRUPT)                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           /**************************************************************************     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               Function:                                                                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   void USBDeviceAttach(void)                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               Summary:                                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   Checks if VBUS is present, and that the USB module is not already       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   initalized, and if so, enables the USB module so as to signal device    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   attachment to the USB host.                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               Description:                                                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   This function indicates to the USB host that the USB device has been    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   attached to the bus.  This function needs to be called in order for the /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   device to start to enumerate on the bus.                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               Precondition:                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   Should only be called when USB_INTERRUPT is defined.  Also, should only  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   be called from the main() loop context.  Do not call USBDeviceAttach()  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   from within an interrupt handler, as the USBDeviceAttach() function     /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   may modify global interrupt enable bits and settings.                   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   For normal USB devices:                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   Make sure that if the module was previously on, that it has been turned off  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   for a long time (ex: 100ms+) before calling this function to re-enable the module. /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   If the device turns off the D+ (for full speed) or D- (for low speed) ~1.5k ohm /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   pull up resistor, and then turns it back on very quickly, common hosts will sometimes  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   reject this event, since no human could ever unplug and reattach a USB device in a  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   microseconds (or nanoseconds) timescale.  The host could simply treat this as some kind  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   of glitch and ignore the event altogether.                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               Parameters:                                                                 /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   None                                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               Remarks:                                                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   See the usb_device.h header file for more details and comments regarding /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   this function.  See also the USBDeviceDetach() function.                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                             **************************************************************************/   /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           #if defined(USB_INTERRUPT)                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           void USBDeviceAttach(void)                                                      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           {                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               //if we are in the detached state                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001a78   0100     MOVLB     0x0                if(USBDeviceState == DETACHED_STATE)                                        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001a7a   5160     MOVF      0x60,0x0,0x1                                                                                    
001a7c   e10e     BNZ       0x1a9a                                                                                          
                                               {                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   if(USB_BUS_SENSE == 1)                                                  /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   {                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               	    //Initialize registers to known states.                                /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001a7e   6a6d     CLRF      0x6d,0x0                   U1CON = 0;                                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       // Mask all USB interrupts                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001a80   6a69     CLRF      0x69,0x0                   U1IE = 0;                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       //Configure things like: pull ups, full/low-speed mode,             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       //set the ping pong mode, and set internal transceiver              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001a82   d8b5     RCALL     0x1bee                     SetConfigurationOptions();                                          /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001a84   8ed0     BSF       0xd0,0x7,0x0               USBEnableInterrupts();  //Modifies global interrupt settings        /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001a86   8aa2     BSF       0xa2,0x5,0x0                                                                                    
001a88   8aa0     BSF       0xa0,0x5,0x0                                                                                    
001a8a   8ef2     BSF       0xf2,0x7,0x0                                                                                    
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       // Enable module & attach to bus                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001a8c   b66d     BTFSC     0x6d,0x3,0x0               while(!U1CONbits.USBEN){U1CONbits.USBEN = 1;}                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001a8e   d002     BRA       0x1a94                                                                                          
001a90   866d     BSF       0x6d,0x3,0x0                                                                                    
001a92   d7fc     BRA       0x1a8c                                                                                          
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       //moved to the attached state                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001a94   0100     MOVLB     0x0                        USBDeviceState = ATTACHED_STATE;                                    /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001a96   0e01     MOVLW     0x1                                                                                             
001a98   6f60     MOVWF     0x60,0x1                                                                                        
                                                                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       #ifdef  USB_SUPPORT_OTG                                             /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                           U1OTGCON = USB_OTG_DPLUS_ENABLE | USB_OTG_ENABLE;               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                       #endif                                                              /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                                   }                                                                       /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                               }                                                                           /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
001a9a   0012     RETURN    0x0            }                                                                               /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           #endif  //#if defined(USB_INTERRUPT)                                            /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
                                           /** EOF USBDevice.c *****************************************************/      /home/ortholeg/PIC/Ortholeg/firmware-usb-18f2550-helloworld/Microchip/USB/usb_device.c
